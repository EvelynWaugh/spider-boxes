var Rr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var F=(e,t,n)=>(Rr(e,t,"read from private field"),n?n.call(e):t.get(e)),U=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},W=(e,t,n,r)=>(Rr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var q=(e,t,n)=>(Rr(e,t,"access private method"),n);import{S as Yi,p as Ys,r as De,s as Yn,a as Xt,n as Jn,i as Qr,b as Js,t as Ga,f as Ua,c as Wa,d as ei,e as cr,h as ti,g as qa,j as f,k as Ji,u as It,l,R as Z,m as eo,o as wt,q as Ka,Q as Xa,v as to,w as no}from"./QueryClientProvider-14c10ab9.js";import{u as ro,f as Qa,a as Za,P as Ya,L as Ja,c as ur,m as et,b as At,F as K}from"./FieldRenderer-f9cee68e.js";var ue,B,ln,le,it,Et,qe,Ke,cn,Ft,jt,ot,at,Xe,_t,lt,Wt,un,Zr,dn,Yr,fn,Jr,gn,es,hn,ts,pn,ns,mn,rs,lr,so,Qi,el=(Qi=class extends Yi{constructor(t,n){super();U(this,lt);U(this,un);U(this,dn);U(this,fn);U(this,gn);U(this,hn);U(this,pn);U(this,mn);U(this,lr);U(this,ue,void 0);U(this,B,void 0);U(this,ln,void 0);U(this,le,void 0);U(this,it,void 0);U(this,Et,void 0);U(this,qe,void 0);U(this,Ke,void 0);U(this,cn,void 0);U(this,Ft,void 0);U(this,jt,void 0);U(this,ot,void 0);U(this,at,void 0);U(this,Xe,void 0);U(this,_t,new Set);this.options=n,W(this,ue,t),W(this,Ke,null),W(this,qe,Ys()),this.options.experimental_prefetchInRender||F(this,qe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,B).addObserver(this),ni(F(this,B),this.options)?q(this,lt,Wt).call(this):this.updateResult(),q(this,gn,es).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ss(F(this,B),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ss(F(this,B),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,q(this,hn,ts).call(this),q(this,pn,ns).call(this),F(this,B).removeObserver(this)}setOptions(t){const n=this.options,r=F(this,B);if(this.options=F(this,ue).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof De(this.options.enabled,F(this,B))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");q(this,mn,rs).call(this),F(this,B).setOptions(this.options),n._defaulted&&!Yn(this.options,n)&&F(this,ue).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,B),observer:this});const s=this.hasListeners();s&&ri(F(this,B),r,this.options,n)&&q(this,lt,Wt).call(this),this.updateResult(),s&&(F(this,B)!==r||De(this.options.enabled,F(this,B))!==De(n.enabled,F(this,B))||Xt(this.options.staleTime,F(this,B))!==Xt(n.staleTime,F(this,B)))&&q(this,un,Zr).call(this);const i=q(this,dn,Yr).call(this);s&&(F(this,B)!==r||De(this.options.enabled,F(this,B))!==De(n.enabled,F(this,B))||i!==F(this,Xe))&&q(this,fn,Jr).call(this,i)}getOptimisticResult(t){const n=F(this,ue).getQueryCache().build(F(this,ue),t),r=this.createResult(n,t);return nl(this,r)&&(W(this,le,r),W(this,Et,this.options),W(this,it,F(this,B).state)),r}getCurrentResult(){return F(this,le)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){F(this,_t).add(t)}getCurrentQuery(){return F(this,B)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=F(this,ue).defaultQueryOptions(t),r=F(this,ue).getQueryCache().build(F(this,ue),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return q(this,lt,Wt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,le)))}createResult(t,n){var R;const r=F(this,B),s=this.options,i=F(this,le),o=F(this,it),a=F(this,Et),u=t!==r?t.state:F(this,ln),{state:g}=t;let d={...g},h=!1,p;if(n._optimisticResults){const I=this.hasListeners(),N=!I&&ni(t,n),$=I&&ri(t,r,n,s);(N||$)&&(d={...d,...Wa(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:y}=d;p=d.data;let x=!1;if(n.placeholderData!==void 0&&p===void 0&&y==="pending"){let I;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(I=i.data,x=!0):I=typeof n.placeholderData=="function"?n.placeholderData((R=F(this,jt))==null?void 0:R.state.data,F(this,jt)):n.placeholderData,I!==void 0&&(y="success",p=ei(i==null?void 0:i.data,I,n),h=!0)}if(n.select&&p!==void 0&&!x)if(i&&p===(o==null?void 0:o.data)&&n.select===F(this,cn))p=F(this,Ft);else try{W(this,cn,n.select),p=n.select(p),p=ei(i==null?void 0:i.data,p,n),W(this,Ft,p),W(this,Ke,null)}catch(I){W(this,Ke,I)}F(this,Ke)&&(v=F(this,Ke),p=F(this,Ft),m=Date.now(),y="error");const w=d.fetchStatus==="fetching",b=y==="pending",S=y==="error",E=b&&w,D=p!==void 0,_={status:y,fetchStatus:d.fetchStatus,isPending:b,isSuccess:y==="success",isError:S,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:S&&!D,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&D,isStale:Ss(t,n),refetch:this.refetch,promise:F(this,qe)};if(this.options.experimental_prefetchInRender){const I=T=>{_.status==="error"?T.reject(_.error):_.data!==void 0&&T.resolve(_.data)},N=()=>{const T=W(this,qe,_.promise=Ys());I(T)},$=F(this,qe);switch($.status){case"pending":t.queryHash===r.queryHash&&I($);break;case"fulfilled":(_.status==="error"||_.data!==$.value)&&N();break;case"rejected":(_.status!=="error"||_.error!==$.reason)&&N();break}}return _}updateResult(){const t=F(this,le),n=this.createResult(F(this,B),this.options);if(W(this,it,F(this,B).state),W(this,Et,this.options),F(this,it).data!==void 0&&W(this,jt,F(this,B)),Yn(n,t))return;W(this,le,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!F(this,_t).size)return!0;const o=new Set(i??F(this,_t));return this.options.throwOnError&&o.add("error"),Object.keys(F(this,le)).some(a=>{const c=a;return F(this,le)[c]!==t[c]&&o.has(c)})};q(this,lr,so).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&q(this,gn,es).call(this)}},ue=new WeakMap,B=new WeakMap,ln=new WeakMap,le=new WeakMap,it=new WeakMap,Et=new WeakMap,qe=new WeakMap,Ke=new WeakMap,cn=new WeakMap,Ft=new WeakMap,jt=new WeakMap,ot=new WeakMap,at=new WeakMap,Xe=new WeakMap,_t=new WeakMap,lt=new WeakSet,Wt=function(t){q(this,mn,rs).call(this);let n=F(this,B).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Jn)),n},un=new WeakSet,Zr=function(){q(this,hn,ts).call(this);const t=Xt(this.options.staleTime,F(this,B));if(Qr||F(this,le).isStale||!Js(t))return;const r=Ga(F(this,le).dataUpdatedAt,t)+1;W(this,ot,setTimeout(()=>{F(this,le).isStale||this.updateResult()},r))},dn=new WeakSet,Yr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,B)):this.options.refetchInterval)??!1},fn=new WeakSet,Jr=function(t){q(this,pn,ns).call(this),W(this,Xe,t),!(Qr||De(this.options.enabled,F(this,B))===!1||!Js(F(this,Xe))||F(this,Xe)===0)&&W(this,at,setInterval(()=>{(this.options.refetchIntervalInBackground||Ua.isFocused())&&q(this,lt,Wt).call(this)},F(this,Xe)))},gn=new WeakSet,es=function(){q(this,un,Zr).call(this),q(this,fn,Jr).call(this,q(this,dn,Yr).call(this))},hn=new WeakSet,ts=function(){F(this,ot)&&(clearTimeout(F(this,ot)),W(this,ot,void 0))},pn=new WeakSet,ns=function(){F(this,at)&&(clearInterval(F(this,at)),W(this,at,void 0))},mn=new WeakSet,rs=function(){const t=F(this,ue).getQueryCache().build(F(this,ue),this.options);if(t===F(this,B))return;const n=F(this,B);W(this,B,t),W(this,ln,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},lr=new WeakSet,so=function(t){cr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(F(this,le))}),F(this,ue).getQueryCache().notify({query:F(this,B),type:"observerResultsUpdated"})})},Qi);function tl(e,t){return De(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ni(e,t){return tl(e,t)||e.state.data!==void 0&&ss(e,t,t.refetchOnMount)}function ss(e,t,n){if(De(t.enabled,e)!==!1&&Xt(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Ss(e,t)}return!1}function ri(e,t,n,r){return(e!==t||De(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ss(e,n)}function Ss(e,t){return De(t.enabled,e)!==!1&&e.isStaleByTime(Xt(t.staleTime,e))}function nl(e,t){return!Yn(e.getCurrentResult(),t)}var Qe,Ze,de,Oe,Nt,Wn,vn,is,Zi,rl=(Zi=class extends Yi{constructor(n,r){super();U(this,Nt);U(this,vn);U(this,Qe,void 0);U(this,Ze,void 0);U(this,de,void 0);U(this,Oe,void 0);W(this,Qe,n),this.setOptions(r),this.bindMethods(),q(this,Nt,Wn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=F(this,Qe).defaultMutationOptions(n),Yn(this.options,r)||F(this,Qe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,de),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ti(r.mutationKey)!==ti(this.options.mutationKey)?this.reset():((s=F(this,de))==null?void 0:s.state.status)==="pending"&&F(this,de).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,de))==null||n.removeObserver(this)}onMutationUpdate(n){q(this,Nt,Wn).call(this),q(this,vn,is).call(this,n)}getCurrentResult(){return F(this,Ze)}reset(){var n;(n=F(this,de))==null||n.removeObserver(this),W(this,de,void 0),q(this,Nt,Wn).call(this),q(this,vn,is).call(this)}mutate(n,r){var s;return W(this,Oe,r),(s=F(this,de))==null||s.removeObserver(this),W(this,de,F(this,Qe).getMutationCache().build(F(this,Qe),this.options)),F(this,de).addObserver(this),F(this,de).execute(n)}},Qe=new WeakMap,Ze=new WeakMap,de=new WeakMap,Oe=new WeakMap,Nt=new WeakSet,Wn=function(){var r;const n=((r=F(this,de))==null?void 0:r.state)??qa();W(this,Ze,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},vn=new WeakSet,is=function(n){cr.batch(()=>{var r,s,i,o,a,c,u,g;if(F(this,Oe)&&this.hasListeners()){const d=F(this,Ze).variables,h=F(this,Ze).context;(n==null?void 0:n.type)==="success"?((s=(r=F(this,Oe)).onSuccess)==null||s.call(r,n.data,d,h),(o=(i=F(this,Oe)).onSettled)==null||o.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((c=(a=F(this,Oe)).onError)==null||c.call(a,n.error,d,h),(g=(u=F(this,Oe)).onSettled)==null||g.call(u,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(F(this,Ze))})})},Zi),io=f.createContext(!1),sl=()=>f.useContext(io);io.Provider;function il(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ol=f.createContext(il()),al=()=>f.useContext(ol),ll=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},cl=e=>{f.useEffect(()=>{e.clearReset()},[e])},ul=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Ji(n,[e.error,r])),dl=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},fl=(e,t)=>e.isLoading&&e.isFetching&&!t,gl=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,si=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function hl(e,t,n){var d,h,p,v,m;const r=sl(),s=al(),i=It(n),o=i.defaultQueryOptions(e);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",dl(o),ll(o,s),cl(s);const a=!i.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),g=!r&&e.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(y=>{const x=g?c.subscribe(cr.batchCalls(y)):Jn;return c.updateResult(),x},[c,g]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o)},[o,c]),gl(o,u))throw si(o,c,s);if(ul({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((v=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,o,u),o.experimental_prefetchInRender&&!Qr&&fl(u,r)){const y=a?si(o,c,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise;y==null||y.catch(Jn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function tt(e,t){return hl(e,el,t)}function we(e,t){const n=It(t),[r]=f.useState(()=>new rl(n,e));f.useEffect(()=>{r.setOptions(e)},[r,e]);const s=f.useSyncExternalStore(f.useCallback(o=>r.subscribe(cr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=f.useCallback((o,a)=>{r.mutate(o,a).catch(Jn)},[r]);if(s.error&&Ji(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function oo(){const e=f.useRef(!1);return ro(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function pl(){const e=oo(),[t,n]=f.useState(0),r=f.useCallback(()=>{e.current&&n(t+1)},[t]);return[f.useCallback(()=>Qa.postRender(r),[r]),t]}class ml extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vl({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),s=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:c}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),f.createElement(ml,{isPresent:t,childRef:r,sizeRef:s},f.cloneElement(e,{ref:r}))}const Mr=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Za(xl),c=f.useId(),u=f.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:g=>{a.set(g,!0);for(const d of a.values())if(!d)return;r&&r()},register:g=>(a.set(g,!1),()=>a.delete(g))}),i?void 0:[n]);return f.useMemo(()=>{a.forEach((g,d)=>a.set(d,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=f.createElement(vl,{isPresent:n},e)),f.createElement(Ya.Provider,{value:u},e)};function xl(){return new Map}function yl(e){return f.useEffect(()=>()=>e(),[])}const st=e=>e.key||"";function bl(e,t){e.forEach(n=>{const r=st(n);t.set(r,n)})}function wl(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const xn=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=f.useContext(Ja).forceRender||pl()[0],c=oo(),u=wl(e);let g=u;const d=f.useRef(new Map).current,h=f.useRef(g),p=f.useRef(new Map).current,v=f.useRef(!0);if(ro(()=>{v.current=!1,bl(u,p),h.current=g}),yl(()=>{v.current=!0,p.clear(),d.clear()}),v.current)return f.createElement(f.Fragment,null,g.map(w=>f.createElement(Mr,{key:st(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},w)));g=[...g];const m=h.current.map(st),y=u.map(st),x=m.length;for(let w=0;w<x;w++){const b=m[w];y.indexOf(b)===-1&&!d.has(b)&&d.set(b,void 0)}return o==="wait"&&d.size&&(g=[]),d.forEach((w,b)=>{if(y.indexOf(b)!==-1)return;const S=p.get(b);if(!S)return;const E=m.indexOf(b);let D=w;if(!D){const j=()=>{d.delete(b);const _=Array.from(p.keys()).filter(R=>!y.includes(R));if(_.forEach(R=>p.delete(R)),h.current=u.filter(R=>{const I=st(R);return I===b||_.includes(I)}),!d.size){if(c.current===!1)return;a(),r&&r()}};D=f.createElement(Mr,{key:st(S),isPresent:!1,onExitComplete:j,custom:t,presenceAffectsLayout:i,mode:o},S),d.set(b,D)}g.splice(E,0,D)}),g=g.map(w=>{const b=w.key;return d.has(b)?w:f.createElement(Mr,{key:st(w),isPresent:!0,presenceAffectsLayout:i,mode:o},w)}),f.createElement(f.Fragment,null,d.size?g:g.map(w=>f.cloneElement(w)))},ao=f.createContext(void 0);function lo(){const e=f.useContext(ao);if(!e)throw new Error("Tabs components must be used within a Tabs provider");return e}function Cl({defaultValue:e,className:t,children:n}){const[r,s]=f.useState(e);return l.jsx(ao.Provider,{value:{value:r,setValue:s},children:l.jsx("div",{className:ur("w-full",t),children:n})})}function Sl({className:e,children:t}){return l.jsx("div",{className:ur("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",e),children:t})}function Mn({value:e,className:t,children:n}){const{value:r,setValue:s}=lo(),i=r===e;return l.jsx("button",{type:"button",onClick:()=>s(e),className:ur("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i?"bg-white text-gray-950 shadow-sm":"text-gray-600 hover:bg-gray-200 hover:text-gray-900",t),children:n})}function En({value:e,className:t,children:n}){const{value:r}=lo();return r!==e?null:l.jsx(et.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:ur("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",t),children:n})}function ii(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function co(...e){return t=>{let n=!1;const r=e.map(s=>{const i=ii(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ii(e[s],null)}}}}function ut(...e){return f.useCallback(co(...e),e)}function Rs(e){const t=Ml(e),n=f.forwardRef((r,s)=>{const{children:i,...o}=r,a=f.Children.toArray(i),c=a.find(Fl);if(c){const u=c.props.children,g=a.map(d=>d===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:d);return l.jsx(t,{...o,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,g):null})}return l.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var Rl=Rs("Slot");function Ml(e){const t=f.forwardRef((n,r)=>{const{children:s,...i}=n;if(f.isValidElement(s)){const o=_l(s),a=jl(i,s.props);return s.type!==f.Fragment&&(a.ref=r?co(r,o):o),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var El=Symbol("radix.slottable");function Fl(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===El}function jl(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function _l(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Nl={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},Dl={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},X=Z.forwardRef(({className:e,variant:t="primary",size:n="md",asChild:r=!1,...s},i)=>{const o=r?Rl:"button";return l.jsx(o,{className:At("inline-flex items-center justify-center rounded-md font-medium transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:pointer-events-none",Nl[t],Dl[n],e),ref:i,...s})});X.displayName="Button";function Je(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Il(e,t){const n=f.createContext(t),r=i=>{const{children:o,...a}=i,c=f.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=f.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Al(e,t=[]){let n=[];function r(i,o){const a=f.createContext(o),c=n.length;n=[...n,o];const u=d=>{var x;const{scope:h,children:p,...v}=d,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||a,y=f.useMemo(()=>v,Object.values(v));return l.jsx(m.Provider,{value:y,children:p})};u.displayName=i+"Provider";function g(d,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||a,v=f.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,g]}const s=()=>{const i=n.map(o=>f.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,Pl(s,...t)]}function Pl(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var tn=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Vl=eo[" useId ".trim().toString()]||(()=>{}),Ll=0;function Er(e){const[t,n]=f.useState(Vl());return tn(()=>{e||n(r=>r??String(Ll++))},[e]),e||(t?`radix-${t}`:"")}var Ol=eo[" useInsertionEffect ".trim().toString()]||tn;function $l({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=kl({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s;{const g=f.useRef(e!==void 0);f.useEffect(()=>{const d=g.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=a},[a,r])}const u=f.useCallback(g=>{var d;if(a){const h=Tl(g)?g(e):g;h!==e&&((d=o.current)==null||d.call(o,h))}else i(g)},[a,e,i,o]);return[c,u]}function kl({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),s=f.useRef(n),i=f.useRef(t);return Ol(()=>{i.current=t},[t]),f.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Tl(e){return typeof e=="function"}var zl=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=zl.reduce((e,t)=>{const n=Rs(`Primitive.${t}`),r=f.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Bl(e,t){e&&wt.flushSync(()=>e.dispatchEvent(t))}function nn(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Hl(e,t=globalThis==null?void 0:globalThis.document){const n=nn(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Gl="DismissableLayer",os="dismissableLayer.update",Ul="dismissableLayer.pointerDownOutside",Wl="dismissableLayer.focusOutside",oi,uo=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fo=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=f.useContext(uo),[g,d]=f.useState(null),h=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),v=ut(t,j=>d(j)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(y),w=g?m.indexOf(g):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=x,E=Xl(j=>{const _=j.target,R=[...u.branches].some(I=>I.contains(_));!S||R||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},h),D=Ql(j=>{const _=j.target;[...u.branches].some(I=>I.contains(_))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},h);return Hl(j=>{w===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},h),f.useEffect(()=>{if(g)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(oi=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(g)),u.layers.add(g),ai(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=oi)}},[g,h,n,u]),f.useEffect(()=>()=>{g&&(u.layers.delete(g),u.layersWithOutsidePointerEventsDisabled.delete(g),ai())},[g,u]),f.useEffect(()=>{const j=()=>p({});return document.addEventListener(os,j),()=>document.removeEventListener(os,j)},[]),l.jsx(ke.div,{...c,ref:v,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:Je(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Je(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Je(e.onPointerDownCapture,E.onPointerDownCapture)})});fo.displayName=Gl;var ql="DismissableLayerBranch",Kl=f.forwardRef((e,t)=>{const n=f.useContext(uo),r=f.useRef(null),s=ut(t,r);return f.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(ke.div,{...e,ref:s})});Kl.displayName=ql;function Xl(e,t=globalThis==null?void 0:globalThis.document){const n=nn(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){go(Ul,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Ql(e,t=globalThis==null?void 0:globalThis.document){const n=nn(e),r=f.useRef(!1);return f.useEffect(()=>{const s=i=>{i.target&&!r.current&&go(Wl,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ai(){const e=new CustomEvent(os);document.dispatchEvent(e)}function go(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Bl(s,i):s.dispatchEvent(i)}var Fr="focusScope.autoFocusOnMount",jr="focusScope.autoFocusOnUnmount",li={bubbles:!1,cancelable:!0},Zl="FocusScope",ho=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=f.useState(null),u=nn(s),g=nn(i),d=f.useRef(null),h=ut(t,m=>c(m)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let m=function(b){if(p.paused||!a)return;const S=b.target;a.contains(S)?d.current=S:Ue(d.current,{select:!0})},y=function(b){if(p.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||Ue(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&Ue(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,p.paused]),f.useEffect(()=>{if(a){ui.add(p);const m=document.activeElement;if(!a.contains(m)){const x=new CustomEvent(Fr,li);a.addEventListener(Fr,u),a.dispatchEvent(x),x.defaultPrevented||(Yl(rc(po(a)),{select:!0}),document.activeElement===m&&Ue(a))}return()=>{a.removeEventListener(Fr,u),setTimeout(()=>{const x=new CustomEvent(jr,li);a.addEventListener(jr,g),a.dispatchEvent(x),x.defaultPrevented||Ue(m??document.body,{select:!0}),a.removeEventListener(jr,g),ui.remove(p)},0)}}},[a,u,g,p]);const v=f.useCallback(m=>{if(!n&&!r||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(y&&x){const w=m.currentTarget,[b,S]=Jl(w);b&&S?!m.shiftKey&&x===S?(m.preventDefault(),n&&Ue(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),n&&Ue(S,{select:!0})):x===w&&m.preventDefault()}},[n,r,p.paused]);return l.jsx(ke.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});ho.displayName=Zl;function Yl(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ue(r,{select:t}),document.activeElement!==n)return}function Jl(e){const t=po(e),n=ci(t,e),r=ci(t.reverse(),e);return[n,r]}function po(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ci(e,t){for(const n of e)if(!ec(n,{upTo:t}))return n}function ec(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tc(e){return e instanceof HTMLInputElement&&"select"in e}function Ue(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&tc(e)&&t&&e.select()}}var ui=nc();function nc(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=di(e,t),e.unshift(t)},remove(t){var n;e=di(e,t),(n=e[0])==null||n.resume()}}}function di(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function rc(e){return e.filter(t=>t.tagName!=="A")}var sc="Portal",mo=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=f.useState(!1);tn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Ka.createPortal(l.jsx(ke.div,{...r,ref:t}),o):null});mo.displayName=sc;function ic(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var dr=e=>{const{present:t,children:n}=e,r=oc(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),i=ut(r.ref,ac(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:i}):null};dr.displayName="Presence";function oc(e){const[t,n]=f.useState(),r=f.useRef(null),s=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[a,c]=ic(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Fn(r.current);i.current=a==="mounted"?u:"none"},[a]),tn(()=>{const u=r.current,g=s.current;if(g!==e){const h=i.current,p=Fn(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(g&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),tn(()=>{if(t){let u;const g=t.ownerDocument.defaultView??window,d=p=>{const m=Fn(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(i.current=Fn(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{g.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Fn(e){return(e==null?void 0:e.animationName)||"none"}function ac(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _r=0;function lc(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fi()),document.body.insertAdjacentElement("beforeend",e[1]??fi()),_r++,()=>{_r===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_r--}},[])}function fi(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ie=function(){return Ie=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ie.apply(this,arguments)};function vo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function cc(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var qn="right-scroll-bar-position",Kn="width-before-scroll-bar",uc="with-scroll-bars-hidden",dc="--removed-body-scroll-bar-size";function Nr(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fc(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var gc=typeof window<"u"?f.useLayoutEffect:f.useEffect,gi=new WeakMap;function hc(e,t){var n=fc(t||null,function(r){return e.forEach(function(s){return Nr(s,r)})});return gc(function(){var r=gi.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||Nr(a,null)}),i.forEach(function(a){s.has(a)||Nr(a,o)})}gi.set(n,e)},[e]),n}function pc(e){return e}function mc(e,t){t===void 0&&(t=pc);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var g=o;o=[],g.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(g){o.push(g),u()},filter:function(g){return o=o.filter(g),n}}}};return s}function vc(e){e===void 0&&(e={});var t=mc(null);return t.options=Ie({async:!0,ssr:!1},e),t}var xo=function(e){var t=e.sideCar,n=vo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Ie({},n))};xo.isSideCarExport=!0;function xc(e,t){return e.useMedium(t),xo}var yo=vc(),Dr=function(){},fr=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Dr,onWheelCapture:Dr,onTouchMoveCapture:Dr}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,g=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,v=e.noIsolation,m=e.inert,y=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,S=vo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,D=hc([n,t]),j=Ie(Ie({},S),s);return f.createElement(f.Fragment,null,g&&f.createElement(E,{sideCar:yo,removeScrollBar:u,shards:d,noRelative:p,noIsolation:v,inert:m,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?f.cloneElement(f.Children.only(a),Ie(Ie({},j),{ref:D})):f.createElement(w,Ie({},j,{className:c,ref:D}),a))});fr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fr.classNames={fullWidth:Kn,zeroRight:qn};var hi,yc=function(){if(hi)return hi;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bc(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yc();return t&&e.setAttribute("nonce",t),e}function wc(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Cc(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Sc=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bc())&&(wc(t,n),Cc(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Rc=function(){var e=Sc();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},bo=function(){var e=Rc(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Mc={left:0,top:0,right:0,gap:0},Ir=function(e){return parseInt(e||"",10)||0},Ec=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ir(n),Ir(r),Ir(s)]},Fc=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Mc;var t=Ec(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},jc=bo(),Ct="data-scroll-locked",_c=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(uc,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ct,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qn,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Kn,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qn," .").concat(qn,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kn," .").concat(Kn,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ct,`] {
    `).concat(dc,": ").concat(a,`px;
  }
`)},pi=function(){var e=parseInt(document.body.getAttribute(Ct)||"0",10);return isFinite(e)?e:0},Nc=function(){f.useEffect(function(){return document.body.setAttribute(Ct,(pi()+1).toString()),function(){var e=pi()-1;e<=0?document.body.removeAttribute(Ct):document.body.setAttribute(Ct,e.toString())}},[])},Dc=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Nc();var i=f.useMemo(function(){return Fc(s)},[s]);return f.createElement(jc,{styles:_c(i,!t,s,n?"":"!important")})},as=!1;if(typeof window<"u")try{var jn=Object.defineProperty({},"passive",{get:function(){return as=!0,!0}});window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{as=!1}var vt=as?{passive:!1}:!1,Ic=function(e){return e.tagName==="TEXTAREA"},wo=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ic(e)&&n[t]==="visible")},Ac=function(e){return wo(e,"overflowY")},Pc=function(e){return wo(e,"overflowX")},mi=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Co(e,r);if(s){var i=So(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Vc=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Lc=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Co=function(e,t){return e==="v"?Ac(t):Pc(t)},So=function(e,t){return e==="v"?Vc(t):Lc(t)},Oc=function(e,t){return e==="h"&&t==="rtl"?-1:1},$c=function(e,t,n,r,s){var i=Oc(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,c=t.contains(a),u=!1,g=o>0,d=0,h=0;do{if(!a)break;var p=So(e,a),v=p[0],m=p[1],y=p[2],x=m-y-i*v;(v||x)&&Co(e,a)&&(d+=x,h+=v);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(g&&(s&&Math.abs(d)<1||!s&&o>d)||!g&&(s&&Math.abs(h)<1||!s&&-o>h))&&(u=!0),u},_n=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vi=function(e){return[e.deltaX,e.deltaY]},xi=function(e){return e&&"current"in e?e.current:e},kc=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Tc=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zc=0,xt=[];function Bc(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(zc++)[0],i=f.useState(bo)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=cc([e.lockRef.current],(e.shards||[]).map(xi),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=_n(m),w=n.current,b="deltaX"in m?m.deltaX:w[0]-x[0],S="deltaY"in m?m.deltaY:w[1]-x[1],E,D=m.target,j=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&j==="h"&&D.type==="range")return!1;var _=mi(j,D);if(!_)return!0;if(_?E=j:(E=j==="v"?"h":"v",_=mi(j,D)),!_)return!1;if(!r.current&&"changedTouches"in m&&(b||S)&&(r.current=E),!E)return!0;var R=r.current||E;return $c(R,y,m,R==="h"?b:S,!0)},[]),c=f.useCallback(function(m){var y=m;if(!(!xt.length||xt[xt.length-1]!==i)){var x="deltaY"in y?vi(y):_n(y),w=t.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&kc(E.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(xi).filter(Boolean).filter(function(E){return E.contains(y.target)}),S=b.length>0?a(y,b[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=f.useCallback(function(m,y,x,w){var b={name:m,delta:y,target:x,should:w,shadowParent:Hc(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),g=f.useCallback(function(m){n.current=_n(m),r.current=void 0},[]),d=f.useCallback(function(m){u(m.type,vi(m),m.target,a(m,e.lockRef.current))},[]),h=f.useCallback(function(m){u(m.type,_n(m),m.target,a(m,e.lockRef.current))},[]);f.useEffect(function(){return xt.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,vt),document.addEventListener("touchmove",c,vt),document.addEventListener("touchstart",g,vt),function(){xt=xt.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,vt),document.removeEventListener("touchmove",c,vt),document.removeEventListener("touchstart",g,vt)}},[]);var p=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(i,{styles:Tc(s)}):null,p?f.createElement(Dc,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Hc(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Gc=xc(yo,Bc);var Ro=f.forwardRef(function(e,t){return f.createElement(fr,Ie({},e,{ref:t,sideCar:Gc}))});Ro.classNames=fr.classNames;const Uc=Ro;var Wc=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yt=new WeakMap,Nn=new WeakMap,Dn={},Ar=0,Mo=function(e){return e&&(e.host||Mo(e.parentNode))},qc=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Mo(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Kc=function(e,t,n,r){var s=qc(t,Array.isArray(e)?e:[e]);Dn[n]||(Dn[n]=new WeakMap);var i=Dn[n],o=[],a=new Set,c=new Set(s),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};s.forEach(u);var g=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))g(h);else try{var p=h.getAttribute(r),v=p!==null&&p!=="false",m=(yt.get(h)||0)+1,y=(i.get(h)||0)+1;yt.set(h,m),i.set(h,y),o.push(h),m===1&&v&&Nn.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return g(t),a.clear(),Ar++,function(){o.forEach(function(d){var h=yt.get(d)-1,p=i.get(d)-1;yt.set(d,h),i.set(d,p),h||(Nn.has(d)||d.removeAttribute(r),Nn.delete(d)),p||d.removeAttribute(n)}),Ar--,Ar||(yt=new WeakMap,yt=new WeakMap,Nn=new WeakMap,Dn={})}},Xc=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||Wc(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Kc(r,s,n,"aria-hidden")):function(){return null}},gr="Dialog",[Eo,gh]=Al(gr),[Qc,Re]=Eo(gr),Fo=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=f.useRef(null),c=f.useRef(null),[u,g]=$l({prop:r,defaultProp:s??!1,onChange:i,caller:gr});return l.jsx(Qc,{scope:t,triggerRef:a,contentRef:c,contentId:Er(),titleId:Er(),descriptionId:Er(),open:u,onOpenChange:g,onOpenToggle:f.useCallback(()=>g(d=>!d),[g]),modal:o,children:n})};Fo.displayName=gr;var jo="DialogTrigger",Zc=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Re(jo,n),i=ut(t,s.triggerRef);return l.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Fs(s.open),...r,ref:i,onClick:Je(e.onClick,s.onOpenToggle)})});Zc.displayName=jo;var Ms="DialogPortal",[Yc,_o]=Eo(Ms,{forceMount:void 0}),No=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Re(Ms,t);return l.jsx(Yc,{scope:t,forceMount:n,children:f.Children.map(r,o=>l.jsx(dr,{present:n||i.open,children:l.jsx(mo,{asChild:!0,container:s,children:o})}))})};No.displayName=Ms;var er="DialogOverlay",Do=f.forwardRef((e,t)=>{const n=_o(er,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Re(er,e.__scopeDialog);return i.modal?l.jsx(dr,{present:r||i.open,children:l.jsx(eu,{...s,ref:t})}):null});Do.displayName=er;var Jc=Rs("DialogOverlay.RemoveScroll"),eu=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Re(er,n);return l.jsx(Uc,{as:Jc,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ke.div,{"data-state":Fs(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ct="DialogContent",Io=f.forwardRef((e,t)=>{const n=_o(ct,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Re(ct,e.__scopeDialog);return l.jsx(dr,{present:r||i.open,children:i.modal?l.jsx(tu,{...s,ref:t}):l.jsx(nu,{...s,ref:t})})});Io.displayName=ct;var tu=f.forwardRef((e,t)=>{const n=Re(ct,e.__scopeDialog),r=f.useRef(null),s=ut(t,n.contentRef,r);return f.useEffect(()=>{const i=r.current;if(i)return Xc(i)},[]),l.jsx(Ao,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Je(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Je(e.onFocusOutside,i=>i.preventDefault())})}),nu=f.forwardRef((e,t)=>{const n=Re(ct,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return l.jsx(Ao,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Ao=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Re(ct,n),c=f.useRef(null),u=ut(t,c);return lc(),l.jsxs(l.Fragment,{children:[l.jsx(ho,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(fo,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Fs(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(ru,{titleId:a.titleId}),l.jsx(iu,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Es="DialogTitle",Po=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Re(Es,n);return l.jsx(ke.h2,{id:s.titleId,...r,ref:t})});Po.displayName=Es;var Vo="DialogDescription",Lo=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Re(Vo,n);return l.jsx(ke.p,{id:s.descriptionId,...r,ref:t})});Lo.displayName=Vo;var Oo="DialogClose",$o=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Re(Oo,n);return l.jsx(ke.button,{type:"button",...r,ref:t,onClick:Je(e.onClick,()=>s.onOpenChange(!1))})});$o.displayName=Oo;function Fs(e){return e?"open":"closed"}var ko="DialogTitleWarning",[hh,To]=Il(ko,{contentName:ct,titleName:Es,docsSlug:"dialog"}),ru=({titleId:e})=>{const t=To(ko),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},su="DialogDescriptionWarning",iu=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${To(su).contentName}}.`;return f.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ou=Fo,au=No,zo=Do,Bo=Io,Ho=Po,Go=Lo,lu=$o;function be(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var cu=["color"],uu=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,cu);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),du=["color"],fu=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,du);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),gu=["color"],hu=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,gu);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),pu=["color"],Uo=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,pu);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),mu=["color"],In=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,mu);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),vu=["color"],yi=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,vu);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),xu=["color"],yu=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,xu);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),bu=["color"],bi=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,bu);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M3.24182 2.32181C3.3919 2.23132 3.5784 2.22601 3.73338 2.30781L12.7334 7.05781C12.8974 7.14436 13 7.31457 13 7.5C13 7.68543 12.8974 7.85564 12.7334 7.94219L3.73338 12.6922C3.5784 12.774 3.3919 12.7687 3.24182 12.6782C3.09175 12.5877 3 12.4252 3 12.25V2.75C3 2.57476 3.09175 2.4123 3.24182 2.32181ZM4 3.57925V11.4207L11.4288 7.5L4 3.57925Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),wu=["color"],Pr=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,wu);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M7.46968 1.05085C7.64122 1.13475 7.75 1.30904 7.75 1.5V13.5C7.75 13.691 7.64122 13.8653 7.46968 13.9492C7.29813 14.0331 7.09377 14.0119 6.94303 13.8947L3.2213 11H1.5C0.671571 11 0 10.3284 0 9.5V5.5C0 4.67158 0.671573 4 1.5 4H3.2213L6.94303 1.10533C7.09377 0.988085 7.29813 0.966945 7.46968 1.05085ZM6.75 2.52232L3.69983 4.89468C3.61206 4.96294 3.50405 5 3.39286 5H1.5C1.22386 5 1 5.22386 1 5.5V9.5C1 9.77615 1.22386 10 1.5 10H3.39286C3.50405 10 3.61206 10.0371 3.69983 10.1053L6.75 12.4777V2.52232ZM10.2784 3.84804C10.4623 3.72567 10.7106 3.77557 10.833 3.95949C12.2558 6.09798 12.2558 8.90199 10.833 11.0405C10.7106 11.2244 10.4623 11.2743 10.2784 11.1519C10.0944 11.0296 10.0445 10.7813 10.1669 10.5973C11.4111 8.72728 11.4111 6.27269 10.1669 4.40264C10.0445 4.21871 10.0944 3.97041 10.2784 3.84804ZM12.6785 1.43044C12.5356 1.2619 12.2832 1.24104 12.1147 1.38386C11.9462 1.52667 11.9253 1.77908 12.0681 1.94762C14.7773 5.14488 14.7773 9.85513 12.0681 13.0524C11.9253 13.2209 11.9462 13.4733 12.1147 13.6161C12.2832 13.759 12.5356 13.7381 12.6785 13.5696C15.6406 10.0739 15.6406 4.92612 12.6785 1.43044Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Cu=["color"],Su=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,Cu);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M6.97942 1.25171L6.9585 1.30199L5.58662 4.60039C5.54342 4.70426 5.44573 4.77523 5.3336 4.78422L1.7727 5.0697L1.71841 5.07405L1.38687 5.10063L1.08608 5.12475C0.820085 5.14607 0.712228 5.47802 0.914889 5.65162L1.14406 5.84793L1.39666 6.06431L1.43802 6.09974L4.15105 8.42374C4.23648 8.49692 4.2738 8.61176 4.24769 8.72118L3.41882 12.196L3.40618 12.249L3.32901 12.5725L3.25899 12.866C3.19708 13.1256 3.47945 13.3308 3.70718 13.1917L3.9647 13.0344L4.24854 12.861L4.29502 12.8326L7.34365 10.9705C7.43965 10.9119 7.5604 10.9119 7.6564 10.9705L10.705 12.8326L10.7515 12.861L11.0354 13.0344L11.2929 13.1917C11.5206 13.3308 11.803 13.1256 11.7411 12.866L11.671 12.5725L11.5939 12.249L11.5812 12.196L10.7524 8.72118C10.7263 8.61176 10.7636 8.49692 10.849 8.42374L13.562 6.09974L13.6034 6.06431L13.856 5.84793L14.0852 5.65162C14.2878 5.47802 14.18 5.14607 13.914 5.12475L13.6132 5.10063L13.2816 5.07405L13.2274 5.0697L9.66645 4.78422C9.55432 4.77523 9.45663 4.70426 9.41343 4.60039L8.04155 1.30199L8.02064 1.25171L7.89291 0.944609L7.77702 0.665992C7.67454 0.419604 7.32551 0.419604 7.22303 0.665992L7.10715 0.944609L6.97942 1.25171ZM7.50003 2.60397L6.50994 4.98442C6.32273 5.43453 5.89944 5.74207 5.41351 5.78103L2.84361 5.98705L4.8016 7.66428C5.17183 7.98142 5.33351 8.47903 5.2204 8.95321L4.62221 11.461L6.8224 10.1171C7.23842 9.86302 7.76164 9.86302 8.17766 10.1171L10.3778 11.461L9.77965 8.95321C9.66654 8.47903 9.82822 7.98142 10.1984 7.66428L12.1564 5.98705L9.58654 5.78103C9.10061 5.74207 8.67732 5.43453 8.49011 4.98442L7.50003 2.60397Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Ru=["color"],Mu=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,Ru);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Eu=["color"],wi=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=be(e,Eu);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M4.76447 3.12199C5.63151 3.04859 6.56082 3 7.5 3C8.43918 3 9.36849 3.04859 10.2355 3.12199C11.2796 3.21037 11.9553 3.27008 12.472 3.39203C12.9425 3.50304 13.2048 3.64976 13.4306 3.88086C13.4553 3.90618 13.4902 3.94414 13.5133 3.97092C13.7126 4.20149 13.8435 4.4887 13.918 5.03283C13.9978 5.6156 14 6.37644 14 7.52493C14 8.66026 13.9978 9.41019 13.9181 9.98538C13.8439 10.5206 13.7137 10.8061 13.5125 11.0387C13.4896 11.0651 13.4541 11.1038 13.4296 11.1287C13.2009 11.3625 12.9406 11.5076 12.4818 11.6164C11.9752 11.7365 11.3143 11.7942 10.2878 11.8797C9.41948 11.9521 8.47566 12 7.5 12C6.52434 12 5.58052 11.9521 4.7122 11.8797C3.68572 11.7942 3.02477 11.7365 2.51816 11.6164C2.05936 11.5076 1.7991 11.3625 1.57037 11.1287C1.54593 11.1038 1.51035 11.0651 1.48748 11.0387C1.28628 10.8061 1.15612 10.5206 1.08193 9.98538C1.00221 9.41019 1 8.66026 1 7.52493C1 6.37644 1.00216 5.6156 1.082 5.03283C1.15654 4.4887 1.28744 4.20149 1.48666 3.97092C1.5098 3.94414 1.54468 3.90618 1.56942 3.88086C1.7952 3.64976 2.05752 3.50304 2.52796 3.39203C3.04473 3.27008 3.7204 3.21037 4.76447 3.12199ZM0 7.52493C0 5.28296 0 4.16198 0.729985 3.31713C0.766457 3.27491 0.815139 3.22194 0.854123 3.18204C1.63439 2.38339 2.64963 2.29744 4.68012 2.12555C5.56923 2.05028 6.52724 2 7.5 2C8.47276 2 9.43077 2.05028 10.3199 2.12555C12.3504 2.29744 13.3656 2.38339 14.1459 3.18204C14.1849 3.22194 14.2335 3.27491 14.27 3.31713C15 4.16198 15 5.28296 15 7.52493C15 9.74012 15 10.8477 14.2688 11.6929C14.2326 11.7348 14.1832 11.7885 14.1444 11.8281C13.3629 12.6269 12.3655 12.71 10.3709 12.8763C9.47971 12.9505 8.50782 13 7.5 13C6.49218 13 5.52028 12.9505 4.62915 12.8763C2.63446 12.71 1.63712 12.6269 0.855558 11.8281C0.816844 11.7885 0.767442 11.7348 0.731221 11.6929C0 10.8477 0 9.74012 0 7.52493ZM5.25 5.38264C5.25 5.20225 5.43522 5.08124 5.60041 5.15369L10.428 7.27105C10.6274 7.35853 10.6274 7.64147 10.428 7.72895L5.60041 9.84631C5.43522 9.91876 5.25 9.79775 5.25 9.61736V5.38264Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const Wo=Z.forwardRef(({className:e,...t},n)=>l.jsx(zo,{ref:n,className:At("dialog-overlay",e),...t})),Pt=Z.forwardRef(({className:e,size:t="md",children:n,...r},s)=>{const i={sm:"dialog-content-sm",md:"dialog-content-md",lg:"dialog-content-lg",xl:"dialog-content-xl"};return l.jsx(au,{children:l.jsxs(xn,{children:[l.jsx(et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:l.jsx(Wo,{})}),l.jsx(Bo,{ref:s,className:At("dialog-content",i[t],e),asChild:!0,...r,onPointerDownOutside:o=>{document.body.classList.contains("wp-media-library-open")&&o.preventDefault()},children:l.jsxs(et.div,{initial:{opacity:0,scale:.95,x:"-50%",y:"-50%"},animate:{opacity:1,scale:1,x:"-50%",y:"-50%"},exit:{opacity:0,scale:.95,x:"-50%",y:"-50%"},transition:{duration:.2},style:{position:"fixed",left:"50%",top:"50%"},children:[n,l.jsxs(lu,{className:"dialog-close",children:[l.jsx(Uo,{className:"dialog-close-icon"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})})]})})}),Vt=({className:e,...t})=>l.jsx("div",{className:At("dialog-header",e),...t}),Lt=Z.forwardRef(({className:e,...t},n)=>l.jsx(Ho,{ref:n,className:At("dialog-title",e),...t})),Fu=Z.forwardRef(({className:e,...t},n)=>l.jsx(Go,{ref:n,className:At("dialog-description",e),...t})),Ot=({children:e,...t})=>l.jsx(ou,{...t,children:e});Ot.displayName="Dialog";Wo.displayName=zo.displayName;Pt.displayName=Bo.displayName;Vt.displayName="DialogHeader";Lt.displayName=Ho.displayName;Fu.displayName=Go.displayName;const yn=()=>{var u,g;const e=((u=window.spiderBoxesAdmin)==null?void 0:u.restUrl)||"wp-json/spider-boxes/v1",t=((g=window.spiderBoxesAdmin)==null?void 0:g.nonce)||"",n=f.useCallback(async(d,h={})=>{const p=`${e}${d}`,v={"Content-Type":"application/json","X-WP-Nonce":t,...h.headers};try{const m=await fetch(p,{...h,headers:v});if(!m.ok){const x=await m.json().catch(()=>({}));throw new Error(x.message||`HTTP ${m.status}: ${m.statusText}`)}const y=await m.json();if(y&&typeof y=="object"&&"success"in y){const x=y;if(!x.success)throw new Error(x.message||"API request failed");return x.data}else return y}catch(m){throw m instanceof Error?m:new Error("An unexpected error occurred")}},[e,t]),r=f.useCallback(d=>n(d,{method:"GET"}),[n]),s=f.useCallback((d,h)=>n(d,{method:"POST",body:h?JSON.stringify(h):void 0}),[n]),i=f.useCallback((d,h)=>n(d,{method:"PUT",body:h?JSON.stringify(h):void 0}),[n]),o=f.useCallback((d,h)=>n(d,{method:"PATCH",body:h?JSON.stringify(h):void 0}),[n]),a=f.useCallback(d=>n(d,{method:"DELETE"}),[n]),c=f.useCallback(async()=>await n("/reviews/fields"),[n]);return{request:n,get:r,post:s,put:i,patch:o,del:a,getReviewFields:c}},ju=()=>{const{get:e}=yn(),[t,n]=f.useState(null),[r,s]=f.useState(!1),[i,o]=f.useState({config:{id:"preview_field",type:"text",label:"Preview Field"}}),[a,c]=f.useState(""),[u,g]=f.useState("all"),{data:d=[],isLoading:h}=tt({queryKey:["field-types"],queryFn:()=>e("/field-types")}),p=Z.useMemo(()=>["all",...d.reduce((S,E)=>(S.includes(E.category)||S.push(E.category),S),[]).sort()],[d]),v=Z.useMemo(()=>d.filter(b=>{const S=a===""||b.label.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.type.toLowerCase().includes(a.toLowerCase()),E=u==="all"||b.category===u;return S&&E}),[d,a,u]),m=b=>{n(b),o({config:{id:"preview_field",type:b.type,label:`Preview ${b.label}`,description:b.description,placeholder:`Enter ${b.label.toLowerCase()}...`,required:!1,...b.defaultConfig},value:y(b.type)}),s(!0)},y=b=>{switch(b){case"checkbox":return!1;case"radio":case"select":return"";case"range":return 50;case"switcher":return!1;case"number":return 0;case"date":case"datetime":return"";case"textarea":case"wysiwyg":return"";case"media":return null;default:return""}},x=b=>({text:"📝",textarea:"📄",number:"🔢",email:"📧",url:"🔗",password:"🔒",select:"📋",checkbox:"☑️",radio:"🔘",range:"🎚️",date:"📅",datetime:"🕐",file:"📎",media:"🖼️",wysiwyg:"📝",switcher:"🔀",button:"🔳",hidden:"👁️‍🗨️",repeater:"🔄","react-select":"📋"})[b]||"🔧",w=b=>({input:"⌨️",selection:"📋",media:"🖼️",layout:"📐",advanced:"⚙️"})[b]||"📁";return h?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"field-types-manager",children:[l.jsxs("div",{className:"field-types-header",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Field Types"}),l.jsxs("div",{className:"field-types-filters",children:[l.jsx("div",{className:"search-wrapper",children:l.jsx("input",{type:"text",placeholder:"Search field types...",value:a,onChange:b=>c(b.target.value),className:"search-input"})}),l.jsx("div",{className:"category-filter",children:l.jsx("select",{value:u,onChange:b=>g(b.target.value),className:"filter-select",children:p.map(b=>l.jsx("option",{value:b,children:b==="all"?"All Categories":b.charAt(0).toUpperCase()+b.slice(1)},b))})})]})]}),l.jsx("div",{className:"field-types-grid",children:l.jsx(xn,{children:v.map(b=>l.jsxs(et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"field-type-card",children:[l.jsxs("div",{className:"field-type-header",children:[l.jsx("div",{className:"field-type-icon",children:b.icon||x(b.type)}),l.jsxs("div",{className:"field-type-info",children:[l.jsx("h4",{className:"field-type-label",children:b.label}),l.jsx("p",{className:"field-type-name",children:b.type})]}),l.jsxs("div",{className:"field-type-category",children:[w(b.category)," ",b.category]})]}),l.jsx("div",{className:"field-type-description",children:b.description}),b.supports&&b.supports.length>0&&l.jsxs("div",{className:"field-type-supports",children:[l.jsx("span",{className:"supports-label",children:"Supports:"}),l.jsx("div",{className:"supports-list",children:b.supports.map(S=>l.jsx("span",{className:"support-tag",children:S},S))})]}),l.jsx("div",{className:"field-type-actions",children:l.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(b),children:"Preview"})})]},b.type))})}),v.length===0&&l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state-icon",children:"🔍"}),l.jsx("h3",{className:"empty-state-title",children:"No field types found"}),l.jsx("p",{className:"empty-state-description",children:"Try adjusting your search or filter criteria."})]}),l.jsxs("div",{className:"categories-overview",children:[l.jsx("h4",{className:"categories-title",children:"Field Categories"}),l.jsx("div",{className:"categories-grid",children:p.filter(b=>b!=="all").map(b=>{const S=d.filter(E=>E.category===b);return l.jsxs("div",{className:"category-card",children:[l.jsx("div",{className:"category-icon",children:w(b)}),l.jsxs("div",{className:"category-info",children:[l.jsx("h5",{className:"category-name",children:b.charAt(0).toUpperCase()+b.slice(1)}),l.jsxs("p",{className:"category-count",children:[S.length," field",S.length!==1?"s":""]})]}),l.jsxs("div",{className:"category-fields",children:[S.slice(0,3).map(E=>l.jsx("span",{className:"category-field-preview",children:E.label},E.type)),S.length>3&&l.jsxs("span",{className:"category-field-more",children:["+",S.length-3," more"]})]})]},b)})})]}),l.jsx(Ot,{open:r,onOpenChange:s,children:l.jsxs(Pt,{size:"lg",children:[l.jsx(Vt,{children:l.jsxs(Lt,{children:["Field Preview: ",t==null?void 0:t.label]})}),l.jsxs("div",{className:"field-preview",children:[t&&l.jsxs("div",{className:"preview-info",children:[l.jsxs("div",{className:"preview-meta",children:[l.jsxs("div",{className:"preview-type",children:[l.jsx("span",{className:"meta-label",children:"Type:"}),l.jsx("code",{children:t.type})]}),l.jsxs("div",{className:"preview-category",children:[l.jsx("span",{className:"meta-label",children:"Category:"}),l.jsx("span",{children:t.category})]})]}),l.jsx("div",{className:"preview-description",children:t.description})]}),l.jsxs("div",{className:"preview-field",children:[l.jsx("h4",{className:"preview-title",children:"Live Preview"}),l.jsx("div",{className:"preview-container",children:l.jsx(K,{config:i.config,value:i.value,onChange:b=>o(S=>({...S,value:b}))})})]}),i.value!==void 0&&i.value!==""&&l.jsxs("div",{className:"preview-output",children:[l.jsx("h4",{className:"output-title",children:"Current Value"}),l.jsx("pre",{className:"output-value",children:JSON.stringify(i.value,null,2)})]}),l.jsx("div",{className:"preview-actions",children:l.jsx(X,{variant:"outline",onClick:()=>s(!1),children:"Close"})})]})]})})]})},Ci=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M12 5v14"}),l.jsx("path",{d:"M5 12h14"})]}),_u=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),l.jsx("path",{d:"m15 5 4 4"})]}),Nu=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"m3 6 2 0"}),l.jsx("path",{d:"m19 6-2 0"}),l.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),l.jsx("path",{d:"m10 11 0 6"}),l.jsx("path",{d:"m14 11 0 6"}),l.jsx("path",{d:"M5 6l1 14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-14"})]}),Du=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),l.jsx("path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}),l.jsx("path",{d:"M7 3v4a1 1 0 0 0 1 1h8"})]}),Iu=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M18 6 6 18"}),l.jsx("path",{d:"m6 6 12 12"})]}),St=new WeakMap,Xn=new WeakMap,tr={current:[]};let Vr=!1,Qt=0;const qt=new Set,An=new Map;function qo(e){const t=Array.from(e).sort((n,r)=>n instanceof $e&&n.options.deps.includes(r)?1:r instanceof $e&&r.options.deps.includes(n)?-1:0);for(const n of t){if(tr.current.includes(n))continue;tr.current.push(n),n.recompute();const r=Xn.get(n);if(r)for(const s of r){const i=St.get(s);i&&qo(i)}}}function Au(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function Pu(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function Ko(e){if(Qt>0&&!An.has(e)&&An.set(e,e.prevState),qt.add(e),!(Qt>0)&&!Vr)try{for(Vr=!0;qt.size>0;){const t=Array.from(qt);qt.clear();for(const n of t){const r=An.get(n)??n.prevState;n.prevState=r,Au(n)}for(const n of t){const r=St.get(n);r&&(tr.current.push(n),qo(r))}for(const n of t){const r=St.get(n);if(r)for(const s of r)Pu(s)}}}finally{Vr=!1,tr.current=[],An.clear()}}function Ne(e){Qt++;try{e()}finally{if(Qt--,Qt===0){const t=Array.from(qt)[0];t&&Ko(t)}}}function Vu(e){return typeof e=="function"}class ls{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var s,i;this.listeners.add(r);const o=(i=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:i.call(s,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,s;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):Vu(t)?this.state=t(this.prevState):this.state=t,(s=(r=this.options)==null?void 0:r.onUpdate)==null||s.call(r),Ko(this)}}class $e{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const s of this.options.deps)n.push(s.prevState),r.push(s.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:s,currDepVals:i,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:s,currDepVals:i,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof $e&&i.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:s}=this.getDepVals();for(let i=0;i<s.length;i++)if(s[i]!==r[i]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,s;this.listeners.add(n);const i=(s=(r=this.options).onSubscribe)==null?void 0:s.call(r,n,this);return()=>{this.listeners.delete(n),i==null||i()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof $e)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof ls){let r=St.get(n);r||(r=new Set,St.set(n,r)),r.add(this);let s=Xn.get(this);s||(s=new Set,Xn.set(this,s)),s.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof $e)this.unregisterFromGraph(n.options.deps);else if(n instanceof ls){const r=St.get(n);r&&r.delete(this);const s=Xn.get(this);s&&s.delete(n)}}}function hr(e,t){return typeof e=="function"?e(t):e}function Kt(e,t){return js(t).reduce((r,s)=>{if(r===null)return null;if(typeof r<"u")return r[s]},e)}function Pn(e,t,n){const r=js(t);function s(i){if(!r.length)return hr(n,i);const o=r.shift();if(typeof o=="string"||typeof o=="number"&&!Array.isArray(i))return typeof i=="object"?(i===null&&(i={}),{...i,[o]:s(i[o])}):{[o]:s()};if(Array.isArray(i)&&typeof o=="number"){const a=i.slice(0,o);return[...a.length?a:new Array(o),s(i[o]),...i.slice(o+1)]}return[...new Array(o),s()]}return s(e)}function Lu(e,t){const n=js(t);function r(s){if(!s)return;if(n.length===1){const o=n[0];if(Array.isArray(s)&&typeof o=="number")return s.filter((u,g)=>g!==o);const{[o]:a,...c}=s;return c}const i=n.shift();if(typeof i=="string"&&typeof s=="object")return{...s,[i]:r(s[i])};if(typeof i=="number"&&Array.isArray(s)){if(i>=s.length)return s;const o=s.slice(0,i);return[...o.length?o:new Array(i),r(s[i]),...s.slice(i+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const Ou=/^(\d+)$/gm,$u=/\.(\d+)(?=\.)/gm,ku=/^(\d+)\./gm,Tu=/\.(\d+$)/gm,zu=/\.{2,}/gm,cs="__int__",Vn=`${cs}$1`;function js(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(Ou,Vn).replace($u,`.${Vn}.`).replace(ku,`${Vn}.`).replace(Tu,`.${Vn}`).replace(zu,".").split(".").map(t=>t.indexOf(cs)===0?parseInt(t.substring(cs.length),10):t)}function Bu(e){return!(Array.isArray(e)&&e.length===0)}function us(e,t){const{asyncDebounceMs:n}=t,{onChangeAsync:r,onBlurAsync:s,onSubmitAsync:i,onBlurAsyncDebounceMs:o,onChangeAsyncDebounceMs:a}=t.validators||{},c=n??0,u={cause:"change",validate:r,debounceMs:a??c},g={cause:"blur",validate:s,debounceMs:o??c},d={cause:"submit",validate:i,debounceMs:0},h=p=>({...p,debounceMs:0});switch(e){case"submit":return[h(u),h(g),d];case"blur":return[g];case"change":return[u];case"server":default:return[]}}function ds(e,t){const{onChange:n,onBlur:r,onSubmit:s,onMount:i}=t.validators||{},o={cause:"change",validate:n},a={cause:"blur",validate:r},c={cause:"submit",validate:s},u={cause:"mount",validate:i},g={cause:"server",validate:()=>{}};switch(e){case"mount":return[u];case"submit":return[o,a,c,g];case"server":return[g];case"blur":return[a,g];case"change":default:return[o,g]}}const fs=e=>!!e&&typeof e=="object"&&"fields"in e;function bt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,i]of e)if(!t.has(s)||!Object.is(i,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(!r.includes(s)||!bt(e[s],t[s]))return!1;return!0}const Si=({newFormValidatorError:e,isPreviousErrorFromFormValidator:t,previousErrorValue:n})=>e?{newErrorValue:e,newSource:"form"}:t?{newErrorValue:void 0,newSource:void 0}:n?{newErrorValue:n,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},Ri=({formLevelError:e,fieldLevelError:t})=>t?{newErrorValue:t,newSource:"field"}:e?{newErrorValue:e,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function Hu(e){const t=new Map;for(const n of e){const r=[...n.path??[]].map(s=>{const i=typeof s=="object"?s.key:s;return typeof i=="number"?`[${i}]`:i}).join(".").replace(/\.\[/g,"[");t.set(r,(t.get(r)??[]).concat(n))}return Object.fromEntries(t)}const Mi=e=>{const t=Hu(e);return{form:t,fields:t}},Rt={validate({value:e,validationSource:t},n){const r=n["~standard"].validate(e);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return t==="field"?r.issues:Mi(r.issues)},async validateAsync({value:e,validationSource:t},n){const r=await n["~standard"].validate(e);if(r.issues)return t==="field"?r.issues:Mi(r.issues)}},Xo=e=>!!e&&"~standard"in e,nr={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function Ln(e){function t(d,h,p,v){const m=r(d,h,p,v);({insert:()=>a(m,d,h),remove:()=>c(m),swap:()=>v!==void 0&&g(m,d,h,v),move:()=>v!==void 0&&u(m,d,h,v)})[p]()}function n(d,h){return`${d}[${h}]`}function r(d,h,p,v){const m=[n(d,h)];if(p==="swap")m.push(n(d,v));else if(p==="move"){const[y,x]=[Math.min(h,v),Math.max(h,v)];for(let w=y;w<=x;w++)m.push(n(d,w))}else{const y=e.getFieldValue(d),x=Array.isArray(y)?y.length:0;for(let w=h+1;w<x;w++)m.push(n(d,w))}return Object.keys(e.fieldInfo).filter(y=>m.some(x=>y.startsWith(x)))}function s(d,h){return d.replace(/\[(\d+)\]/,(p,v)=>{const m=parseInt(v,10);return`[${h==="up"?m+1:Math.max(0,m-1)}]`})}function i(d,h){(h==="up"?d:[...d].reverse()).forEach(v=>{const m=s(v.toString(),h),y=e.getFieldMeta(m);y?e.setFieldMeta(v,y):e.setFieldMeta(v,o())})}const o=()=>nr,a=(d,h,p)=>{i(d,"down"),d.forEach(v=>{v.toString().startsWith(n(h,p))&&e.setFieldMeta(v,o())})},c=d=>{i(d,"up")},u=(d,h,p,v)=>{const m=new Map(Object.keys(e.fieldInfo).filter(y=>y.startsWith(n(h,p))).map(y=>[y,e.getFieldMeta(y)]));i(d,p<v?"up":"down"),Object.keys(e.fieldInfo).filter(y=>y.startsWith(n(h,v))).forEach(y=>{const x=y.replace(n(h,v),n(h,p)),w=m.get(x);w&&e.setFieldMeta(y,w)})},g=(d,h,p,v)=>{d.forEach(m=>{if(!m.toString().startsWith(n(h,p)))return;const y=m.toString().replace(n(h,p),n(h,v)),[x,w]=[e.getFieldMeta(m),e.getFieldMeta(y)];x&&e.setFieldMeta(y,x),w&&e.setFieldMeta(m,w)})};return{handleArrayFieldMetaShift:t}}function Lr(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class Gu{constructor(t){var n;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{var r,s;const i=this.fieldMetaDerived.mount(),o=this.store.mount(),a=()=>{i(),o()};(s=(r=this.options.listeners)==null?void 0:r.onMount)==null||s.call(r,{formApi:this});const{onMount:c}=this.options.validators||{};return c&&this.validateSync("mount"),a},this.update=r=>{var s,i;if(!r)return;const o=this.options;this.options=r;const a=!!((i=(s=r.transform)==null?void 0:s.deps)!=null&&i.some((g,d)=>g!==this.prevTransformArray[d])),c=r.defaultValues&&!bt(r.defaultValues,o.defaultValues)&&!this.state.isTouched,u=!bt(r.defaultState,o.defaultState)&&!this.state.isTouched;!c&&!u&&!a||Ne(()=>{this.baseStore.setState(()=>Lr(Object.assign({},this.state,u?r.defaultState:{},c?{values:r.defaultValues}:{},a?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(r,s)=>{const{fieldMeta:i}=this.state,o=this.resetFieldMeta(i);r&&!(s!=null&&s.keepDefaultValues)&&(this.options={...this.options,defaultValues:r}),this.baseStore.setState(()=>{var a;return Lr({...this.options.defaultState,values:r??this.options.defaultValues??((a=this.options.defaultState)==null?void 0:a.values),fieldMetaBase:o})})},this.validateAllFields=async r=>{const s=[];return Ne(()=>{Object.values(this.fieldInfo).forEach(o=>{if(!o.instance)return;const a=o.instance;s.push(Promise.resolve().then(()=>a.validate(r,{skipFormValidation:!0}))),o.instance.state.meta.isTouched||o.instance.setMeta(c=>({...c,isTouched:!0}))})}),(await Promise.all(s)).flat()},this.validateArrayFieldsStartingFrom=async(r,s,i)=>{const o=this.getFieldValue(r),a=Array.isArray(o)?Math.max(o.length-1,0):null,c=[`${r}[${s}]`];for(let h=s+1;h<=(a??0);h++)c.push(`${r}[${h}]`);const u=Object.keys(this.fieldInfo).filter(h=>c.some(p=>h.startsWith(p))),g=[];return Ne(()=>{u.forEach(h=>{g.push(Promise.resolve().then(()=>this.validateField(h,i)))})}),(await Promise.all(g)).flat()},this.validateField=(r,s)=>{var i;const o=(i=this.fieldInfo[r])==null?void 0:i.instance;return o?(o.state.meta.isTouched||o.setMeta(a=>({...a,isTouched:!0})),o.validate(s)):[]},this.validateSync=r=>{const s=ds(r,this.options);let i=!1;const o={};return Ne(()=>{var a,c;for(const g of s){if(!g.validate)continue;const d=this.runValidator({validate:g.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:h,fieldErrors:p}=Qn(d),v=On(g.cause);for(const m of Object.keys(this.state.fieldMeta)){const y=this.getFieldMeta(m);if(!y)continue;const{errorMap:x,errorSourceMap:w}=y,b=p==null?void 0:p[m],{newErrorValue:S,newSource:E}=Si({newFormValidatorError:b,isPreviousErrorFromFormValidator:(w==null?void 0:w[v])==="form",previousErrorValue:x==null?void 0:x[v]});E==="form"&&(o[m]={...o[m],[v]:b}),(x==null?void 0:x[v])!==S&&this.setFieldMeta(m,D=>({...D,errorMap:{...D.errorMap,[v]:S},errorSourceMap:{...D.errorSourceMap,[v]:E}}))}((a=this.state.errorMap)==null?void 0:a[v])!==h&&this.baseStore.setState(m=>({...m,errorMap:{...m.errorMap,[v]:h}})),(h||p)&&(i=!0)}const u=On("submit");(c=this.state.errorMap)!=null&&c[u]&&r!=="submit"&&!i&&this.baseStore.setState(g=>({...g,errorMap:{...g.errorMap,[u]:void 0}}))}),{hasErrored:i,fieldsErrorMap:o}},this.validateAsync=async r=>{const s=us(r,this.options);this.state.isFormValidating||this.baseStore.setState(u=>({...u,isFormValidating:!0}));const i=[];let o;for(const u of s){if(!u.validate)continue;const g=On(u.cause),d=this.state.validationMetaMap[g];d==null||d.lastAbortController.abort();const h=new AbortController;this.state.validationMetaMap[g]={lastAbortController:h},i.push(new Promise(async p=>{let v;try{v=await new Promise((w,b)=>{setTimeout(async()=>{if(h.signal.aborted)return w(void 0);try{w(await this.runValidator({validate:u.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:h.signal},type:"validateAsync"}))}catch(S){b(S)}},u.debounceMs)})}catch(w){v=w}const{formError:m,fieldErrors:y}=Qn(v);y&&(o=o?{...o,...y}:y);const x=On(u.cause);for(const w of Object.keys(this.state.fieldMeta)){const b=this.getFieldMeta(w);if(!b)continue;const{errorMap:S,errorSourceMap:E}=b,D=o==null?void 0:o[w],{newErrorValue:j,newSource:_}=Si({newFormValidatorError:D,isPreviousErrorFromFormValidator:(E==null?void 0:E[x])==="form",previousErrorValue:S==null?void 0:S[x]});(S==null?void 0:S[x])!==j&&this.setFieldMeta(w,R=>({...R,errorMap:{...R.errorMap,[x]:j},errorSourceMap:{...R.errorSourceMap,[x]:_}}))}this.baseStore.setState(w=>({...w,errorMap:{...w.errorMap,[x]:m}})),p(o?{fieldErrors:o,errorMapKey:x}:void 0)}))}let a=[];const c={};if(i.length){a=await Promise.all(i);for(const u of a)if(u!=null&&u.fieldErrors){const{errorMapKey:g}=u;for(const[d,h]of Object.entries(u.fieldErrors)){const v={...c[d]||{},[g]:h};c[d]=v}}}return this.baseStore.setState(u=>({...u,isFormValidating:!1})),c},this.validate=r=>{const{hasErrored:s,fieldsErrorMap:i}=this.validateSync(r);return s&&!this.options.asyncAlways?i:this.validateAsync(r)},this.getFieldValue=r=>Kt(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>{var s;return(s=this.fieldInfo)[r]||(s[r]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(r,s)=>{this.baseStore.setState(i=>({...i,fieldMetaBase:{...i.fieldMetaBase,[r]:hr(s,i.fieldMetaBase[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((s,i)=>{const o=i;return s[o]=nr,s},{}),this.setFieldValue=(r,s,i)=>{const o=(i==null?void 0:i.dontUpdateMeta)??!1;Ne(()=>{o||this.setFieldMeta(r,a=>({...a,isTouched:!0,isDirty:!0,errorMap:{...a==null?void 0:a.errorMap,onMount:void 0}})),this.baseStore.setState(a=>({...a,values:Pn(a.values,r,s)}))})},this.deleteField=r=>{const i=[...Object.keys(this.fieldInfo).filter(o=>{const a=r.toString();return o!==a&&o.startsWith(a)}),r];this.baseStore.setState(o=>{const a={...o};return i.forEach(c=>{a.values=Lu(a.values,c),delete this.fieldInfo[c],delete a.fieldMetaBase[c]}),a})},this.pushFieldValue=(r,s,i)=>{this.setFieldValue(r,o=>[...Array.isArray(o)?o:[],s],i),this.validateField(r,"change")},this.insertFieldValue=async(r,s,i,o)=>{this.setFieldValue(r,a=>[...a.slice(0,s),i,...a.slice(s)],o),await this.validateField(r,"change"),Ln(this).handleArrayFieldMetaShift(r,s,"insert"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.replaceFieldValue=async(r,s,i,o)=>{this.setFieldValue(r,a=>a.map((c,u)=>u===s?i:c),o),await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.removeFieldValue=async(r,s,i)=>{const o=this.getFieldValue(r),a=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(r,c=>c.filter((u,g)=>g!==s),i),Ln(this).handleArrayFieldMetaShift(r,s,"remove"),a!==null){const c=`${r}[${a}]`;this.deleteField(c)}await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.swapFieldValues=(r,s,i,o)=>{this.setFieldValue(r,a=>{const c=a[s],u=a[i];return Pn(Pn(a,`${s}`,u),`${i}`,c)},o),Ln(this).handleArrayFieldMetaShift(r,s,"swap",i),this.validateField(r,"change"),this.validateField(`${r}[${s}]`,"change"),this.validateField(`${r}[${i}]`,"change")},this.moveFieldValues=(r,s,i,o)=>{this.setFieldValue(r,a=>(a.splice(i,0,a.splice(s,1)[0]),a),o),Ln(this).handleArrayFieldMetaShift(r,s,"move",i),this.validateField(r,"change"),this.validateField(`${r}[${s}]`,"change"),this.validateField(`${r}[${i}]`,"change")},this.clearFieldValues=(r,s)=>{const i=this.getFieldValue(r),o=Array.isArray(i)?Math.max(i.length-1,0):null;if(this.setFieldValue(r,[],s),o!==null)for(let a=0;a<=o;a++){const c=`${r}[${a}]`;this.deleteField(c)}this.validateField(r,"change")},this.resetField=r=>{this.baseStore.setState(s=>({...s,fieldMetaBase:{...s.fieldMetaBase,[r]:nr},values:this.options.defaultValues?Pn(s.values,r,Kt(this.options.defaultValues,r)):s.values}))},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((r,[s,i])=>(Object.keys(i).length&&i.errors.length&&(r[s]={errors:i.errors,errorMap:i.errorMap}),r),{})}),this.parseValuesWithSchema=r=>Rt.validate({value:this.state.values,validationSource:"form"},r),this.parseValuesWithSchemaAsync=r=>Rt.validateAsync({value:this.state.values,validationSource:"form"},r),this.baseStore=new ls(Lr({...t==null?void 0:t.defaultState,values:(t==null?void 0:t.defaultValues)??((n=t==null?void 0:t.defaultState)==null?void 0:n.values)})),this.fieldMetaDerived=new $e({deps:[this.baseStore],fn:({prevDepVals:r,currDepVals:s,prevVal:i})=>{var o,a,c;const u=i,g=r==null?void 0:r[0],d=s[0];let h=0;const p={};for(const v of Object.keys(d.fieldMetaBase)){const m=d.fieldMetaBase[v],y=g==null?void 0:g.fieldMetaBase[v],x=u==null?void 0:u[v],w=Kt(d.values,v);let b=x==null?void 0:x.errors;if(!y||m.errorMap!==y.errorMap){b=Object.values(m.errorMap??{}).filter(_=>_!==void 0);const j=(o=this.getFieldInfo(v))==null?void 0:o.instance;j&&!j.options.disableErrorFlat&&(b=b==null?void 0:b.flat(1))}const S=!Bu(b??[]),E=!m.isDirty,D=bt(w,Kt(this.options.defaultValues,v))||bt(w,(c=(a=this.getFieldInfo(v))==null?void 0:a.instance)==null?void 0:c.options.defaultValue);if(x&&x.isPristine===E&&x.isValid===S&&x.isDefaultValue===D&&x.errors===b&&m===y){p[v]=x,h++;continue}p[v]={...m,errors:b,isPristine:E,isValid:S,isDefaultValue:D}}return Object.keys(d.fieldMetaBase).length&&u&&h===Object.keys(d.fieldMetaBase).length?u:p}}),this.store=new $e({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:r,currDepVals:s,prevVal:i})=>{var o,a,c,u;const g=i,d=r==null?void 0:r[0],h=s[0],p=s[1],v=Object.values(p).filter(Boolean),m=v.some(C=>C.isValidating),y=v.every(C=>C.isValid),x=v.some(C=>C.isTouched),w=v.some(C=>C.isBlurred),b=v.every(C=>C.isDefaultValue),S=x&&((o=h.errorMap)==null?void 0:o.onMount),E=v.some(C=>C.isDirty),D=!E,j=!!((a=h.errorMap)!=null&&a.onMount||v.some(C=>{var O;return(O=C==null?void 0:C.errorMap)==null?void 0:O.onMount})),_=!!m;let R=(g==null?void 0:g.errors)??[];(!d||h.errorMap!==d.errorMap)&&(R=Object.values(h.errorMap).reduce((C,O)=>O===void 0?C:O&&fs(O)?(C.push(O.form),C):(C.push(O),C),[]));const I=R.length===0,N=y&&I,$=this.options.canSubmitWhenInvalid??!1,T=h.submissionAttempts===0&&!x&&!j||!_&&!h.isSubmitting&&N||$;let P=h.errorMap;if(S&&(R=R.filter(C=>C!==h.errorMap.onMount),P=Object.assign(P,{onMount:void 0})),g&&d&&g.errorMap===P&&g.fieldMeta===this.fieldMetaDerived.state&&g.errors===R&&g.isFieldsValidating===m&&g.isFieldsValid===y&&g.isFormValid===I&&g.isValid===N&&g.canSubmit===T&&g.isTouched===x&&g.isBlurred===w&&g.isPristine===D&&g.isDefaultValue===b&&g.isDirty===E&&bt(d,h))return g;let G={...h,errorMap:P,fieldMeta:this.fieldMetaDerived.state,errors:R,isFieldsValidating:m,isFieldsValid:y,isFormValid:I,isValid:N,canSubmit:T,isTouched:x,isBlurred:w,isPristine:D,isDefaultValue:b,isDirty:E};const Y=((c=this.options.transform)==null?void 0:c.deps)??[];if(Y.length!==this.prevTransformArray.length||Y.some((C,O)=>C!==this.prevTransformArray[O])){const C=Object.assign({},this,{state:G});(u=this.options.transform)==null||u.fn(C),G=C.state,this.prevTransformArray=Y}return G}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{})}get state(){return this.store.state}runValidator(t){return Xo(t.validate)?Rt[t.type](t.value,t.validate):t.validate(t.value)}async handleSubmit(t){var n,r,s,i,o,a,c,u;if(this.baseStore.setState(d=>({...d,isSubmitted:!1,submissionAttempts:d.submissionAttempts+1,isSubmitSuccessful:!1})),Ne(()=>{Object.values(this.fieldInfo).forEach(d=>{d.instance&&(d.instance.state.meta.isTouched||d.instance.setMeta(h=>({...h,isTouched:!0})))})}),!this.state.canSubmit)return;this.baseStore.setState(d=>({...d,isSubmitting:!0}));const g=()=>{this.baseStore.setState(d=>({...d,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){g(),(r=(n=this.options).onSubmitInvalid)==null||r.call(n,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){g(),(i=(s=this.options).onSubmitInvalid)==null||i.call(s,{value:this.state.values,formApi:this});return}Ne(()=>{Object.values(this.fieldInfo).forEach(d=>{var h,p,v;(v=(p=(h=d.instance)==null?void 0:h.options.listeners)==null?void 0:p.onSubmit)==null||v.call(p,{value:d.instance.state.value,fieldApi:d.instance})})}),(a=(o=this.options.listeners)==null?void 0:o.onSubmit)==null||a.call(o,{formApi:this});try{await((u=(c=this.options).onSubmit)==null?void 0:u.call(c,{value:this.state.values,formApi:this,meta:t??this.options.onSubmitMeta})),Ne(()=>{this.baseStore.setState(d=>({...d,isSubmitted:!0,isSubmitSuccessful:!0})),g()})}catch(d){throw this.baseStore.setState(h=>({...h,isSubmitSuccessful:!1})),g(),d}}setErrorMap(t){Ne(()=>{Object.entries(t).forEach(([n,r])=>{const s=n;if(fs(r)){const{formError:i,fieldErrors:o}=Qn(r);for(const a of Object.keys(this.fieldInfo))this.getFieldMeta(a)&&this.setFieldMeta(a,u=>({...u,errorMap:{...u.errorMap,[s]:o==null?void 0:o[a]},errorSourceMap:{...u.errorSourceMap,[s]:"form"}}));this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[s]:i}}))}else this.baseStore.setState(i=>({...i,errorMap:{...i.errorMap,[s]:r}}))})})}}function Qn(e){if(e){if(fs(e)){const t=Qn(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return{formError:e}}return{formError:void 0}}function On(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class Uu{constructor(t){this.options={},this.mount=()=>{var n,r;const s=this.store.mount();this.options.defaultValue!==void 0&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const i=this.getInfo();i.instance=this,this.update(this.options);const{onMount:o}=this.options.validators||{};if(o){const a=this.runValidator({validate:o,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});a&&this.setMeta(c=>({...c,errorMap:{...c==null?void 0:c.errorMap,onMount:a},errorSourceMap:{...c==null?void 0:c.errorSourceMap,onMount:"field"}}))}return(r=(n=this.options.listeners)==null?void 0:n.onMount)==null||r.call(n,{value:this.state.value,fieldApi:this}),s},this.update=n=>{this.options=n;const r=this.name!==n.name;if(this.name=n.name,this.state.value===void 0){const s=Kt(n.form.options.defaultValues,n.name),i=n.defaultValue??s;r?this.setValue(o=>o||i,{dontUpdateMeta:!0}):i!==void 0&&this.setValue(i,{dontUpdateMeta:!0})}this.form.getFieldMeta(this.name)===void 0&&this.setMeta(this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,r),this.triggerOnChangeListener(),this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{this.form.pushFieldValue(this.name,n,r),this.triggerOnChangeListener()},this.insertValue=(n,r,s)=>{this.form.insertFieldValue(this.name,n,r,s),this.triggerOnChangeListener()},this.replaceValue=(n,r,s)=>{this.form.replaceFieldValue(this.name,n,r,s),this.triggerOnChangeListener()},this.removeValue=(n,r)=>{this.form.removeFieldValue(this.name,n,r),this.triggerOnChangeListener()},this.swapValues=(n,r,s)=>{this.form.swapFieldValues(this.name,n,r,s),this.triggerOnChangeListener()},this.moveValue=(n,r,s)=>{this.form.moveFieldValues(this.name,n,r,s),this.triggerOnChangeListener()},this.clearValues=n=>{this.form.clearFieldValues(this.name,n),this.triggerOnChangeListener()},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),s=[];for(const i of r){if(!i.instance)continue;const{onChangeListenTo:o,onBlurListenTo:a}=i.instance.options.validators||{};n==="change"&&(o!=null&&o.includes(this.name))&&s.push(i.instance),n==="blur"&&(a!=null&&a.includes(this.name))&&s.push(i.instance)}return s},this.validateSync=(n,r)=>{var s;const i=ds(n,this.options),a=this.getLinkedFields(n).reduce((g,d)=>{const h=ds(n,d.options);return h.forEach(p=>{p.field=d}),g.concat(h)},[]);let c=!1;Ne(()=>{const g=(d,h)=>{var p;const v=$n(h.cause),m=h.validate?Ei(d.runValidator({validate:h.validate,value:{value:d.store.state.value,validationSource:"field",fieldApi:d},type:"validate"})):void 0,y=r[v],{newErrorValue:x,newSource:w}=Ri({formLevelError:y,fieldLevelError:m});((p=d.state.meta.errorMap)==null?void 0:p[v])!==x&&d.setMeta(b=>({...b,errorMap:{...b.errorMap,[v]:x},errorSourceMap:{...b.errorSourceMap,[v]:w}})),x&&(c=!0)};for(const d of i)g(this,d);for(const d of a)d.validate&&g(d.field,d)});const u=$n("submit");return(s=this.state.meta.errorMap)!=null&&s[u]&&n!=="submit"&&!c&&this.setMeta(g=>({...g,errorMap:{...g.errorMap,[u]:void 0},errorSourceMap:{...g.errorSourceMap,[u]:void 0}})),{hasErrored:c}},this.validateAsync=async(n,r)=>{const s=us(n,this.options),i=await r,o=this.getLinkedFields(n),a=o.reduce((h,p)=>{const v=us(n,p.options);return v.forEach(m=>{m.field=p}),h.concat(v)},[]);this.state.meta.isValidating||this.setMeta(h=>({...h,isValidating:!0}));for(const h of o)h.setMeta(p=>({...p,isValidating:!0}));const c=[],u=[],g=(h,p,v)=>{const m=$n(p.cause),y=h.getInfo().validationMetaMap[m];y==null||y.lastAbortController.abort();const x=new AbortController;this.getInfo().validationMetaMap[m]={lastAbortController:x},v.push(new Promise(async w=>{var b;let S;try{S=await new Promise((R,I)=>{this.timeoutIds.validations[p.cause]&&clearTimeout(this.timeoutIds.validations[p.cause]),this.timeoutIds.validations[p.cause]=setTimeout(async()=>{if(x.signal.aborted)return R(void 0);try{R(await this.runValidator({validate:p.validate,value:{value:h.store.state.value,fieldApi:h,signal:x.signal,validationSource:"field"},type:"validateAsync"}))}catch(N){I(N)}},p.debounceMs)})}catch(R){S=R}if(x.signal.aborted)return w(void 0);const E=Ei(S),D=(b=i[this.name])==null?void 0:b[m],{newErrorValue:j,newSource:_}=Ri({formLevelError:D,fieldLevelError:E});h.setMeta(R=>({...R,errorMap:{...R==null?void 0:R.errorMap,[m]:j},errorSourceMap:{...R.errorSourceMap,[m]:_}})),w(j)}))};for(const h of s)h.validate&&g(this,h,c);for(const h of a)h.validate&&g(h.field,h,u);let d=[];(c.length||u.length)&&(d=await Promise.all(c),await Promise.all(u)),this.setMeta(h=>({...h,isValidating:!1}));for(const h of o)h.setMeta(p=>({...p,isValidating:!1}));return d.filter(Boolean)},this.validate=(n,r)=>{var s;if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:i}=r!=null&&r.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:o}=this.validateSync(n,i[this.name]??{});if(o&&!this.options.asyncAlways)return(s=this.getInfo().validationMetaMap[$n(n)])==null||s.lastAbortController.abort(),this.state.meta.errors;const a=r!=null&&r.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,a)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{this.state.meta.isTouched||(this.setMeta(r=>({...r,isTouched:!0})),this.validate("change")),this.state.meta.isBlurred||this.setMeta(r=>({...r,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.parseValueWithSchema=n=>Rt.validate({value:this.state.value,validationSource:"field"},n),this.parseValueWithSchemaAsync=n=>Rt.validateAsync({value:this.state.value,validationSource:"field"},n),this.form=t.form,this.name=t.name,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new $e({deps:[this.form.store],fn:()=>{const n=this.form.getFieldValue(this.name),r=this.form.getFieldMeta(this.name)??{...nr,...t.defaultMeta};return{value:n,meta:r}}}),this.options=t}get state(){return this.store.state}runValidator(t){return Xo(t.validate)?Rt[t.type](t.value,t.validate):t.validate(t.value)}setErrorMap(t){this.setMeta(n=>({...n,errorMap:{...n.errorMap,...t}}))}triggerOnBlurListener(){var t,n,r,s,i,o;const a=(t=this.form.options.listeners)==null?void 0:t.onBlurDebounceMs;a&&a>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{var u,g;(g=(u=this.form.options.listeners)==null?void 0:u.onBlur)==null||g.call(u,{formApi:this.form,fieldApi:this})},a)):(r=(n=this.form.options.listeners)==null?void 0:n.onBlur)==null||r.call(n,{formApi:this.form,fieldApi:this});const c=(s=this.options.listeners)==null?void 0:s.onBlurDebounceMs;c&&c>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{var u,g;(g=(u=this.options.listeners)==null?void 0:u.onBlur)==null||g.call(u,{value:this.state.value,fieldApi:this})},c)):(o=(i=this.options.listeners)==null?void 0:i.onBlur)==null||o.call(i,{value:this.state.value,fieldApi:this})}triggerOnChangeListener(){var t,n,r,s,i,o;const a=(t=this.form.options.listeners)==null?void 0:t.onChangeDebounceMs;a&&a>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{var u,g;(g=(u=this.form.options.listeners)==null?void 0:u.onChange)==null||g.call(u,{formApi:this.form,fieldApi:this})},a)):(r=(n=this.form.options.listeners)==null?void 0:n.onChange)==null||r.call(n,{formApi:this.form,fieldApi:this});const c=(s=this.options.listeners)==null?void 0:s.onChangeDebounceMs;c&&c>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{var u,g;(g=(u=this.options.listeners)==null?void 0:u.onChange)==null||g.call(u,{value:this.state.value,fieldApi:this})},c)):(o=(i=this.options.listeners)==null?void 0:i.onChange)==null||o.call(i,{value:this.state.value,fieldApi:this})}}function Ei(e){if(e)return e}function $n(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}var Qo={exports:{}},Zo={},Yo={exports:{}},Jo={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=f;function Wu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qu=typeof Object.is=="function"?Object.is:Wu,Ku=Dt.useState,Xu=Dt.useEffect,Qu=Dt.useLayoutEffect,Zu=Dt.useDebugValue;function Yu(e,t){var n=t(),r=Ku({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Qu(function(){s.value=n,s.getSnapshot=t,Or(s)&&i({inst:s})},[e,n,t]),Xu(function(){return Or(s)&&i({inst:s}),e(function(){Or(s)&&i({inst:s})})},[e]),Zu(n),n}function Or(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qu(e,n)}catch{return!0}}function Ju(e,t){return t()}var ed=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ju:Yu;Jo.useSyncExternalStore=Dt.useSyncExternalStore!==void 0?Dt.useSyncExternalStore:ed;Yo.exports=Jo;var td=Yo.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=f,nd=td;function rd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sd=typeof Object.is=="function"?Object.is:rd,id=nd.useSyncExternalStore,od=pr.useRef,ad=pr.useEffect,ld=pr.useMemo,cd=pr.useDebugValue;Zo.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=od(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ld(function(){function c(p){if(!u){if(u=!0,g=p,p=r(p),s!==void 0&&o.hasValue){var v=o.value;if(s(v,p))return d=v}return d=p}if(v=d,sd(g,p))return v;var m=r(p);return s!==void 0&&s(v,m)?(g=p,v):(g=p,d=m)}var u=!1,g,d,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var a=id(e,i[0],i[1]);return ad(function(){o.hasValue=!0,o.value=a},[a]),cd(a),a};Qo.exports=Zo;var ud=Qo.exports;function _s(e,t=n=>n){return ud.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,dd)}function dd(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!t.has(r)||!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}const rr=typeof window<"u"?f.useLayoutEffect:f.useEffect;function fd(e){const[t]=f.useState(()=>{const r=new Uu({...e,form:e.form,name:e.name});return r.Field=ea,r});return rr(t.mount,[t]),rr(()=>{t.update(e)}),_s(t.store,e.mode==="array"?n=>[n.meta,Object.keys(n.value??[]).length]:void 0),t}const ea=({children:e,...t})=>{const n=fd(t),r=f.useMemo(()=>hr(e,n),[e,n,n.state.value,n.state.meta]);return l.jsx(l.Fragment,{children:r})};function gd({form:e,selector:t,children:n}){const r=_s(e.store,t);return hr(n,r)}function hd(e){const[t]=f.useState(()=>{const n=new Gu(e),r=n;return r.Field=function(i){return l.jsx(ea,{...i,form:n})},r.Subscribe=s=>l.jsx(gd,{form:n,selector:s.selector,children:s.children}),r});return rr(t.mount,[]),_s(t.store,n=>n.isSubmitting),rr(()=>{t.update(e)}),t}const pd=[{value:"text",label:"Text"},{value:"textarea",label:"Textarea"},{value:"select",label:"Select"},{value:"radio",label:"Radio"},{value:"checkbox",label:"Checkbox"},{value:"media",label:"Media"},{value:"range",label:"Range"},{value:"switcher",label:"Switcher"},{value:"datetime",label:"DateTime"},{value:"wysiwyg",label:"WYSIWYG"},{value:"button",label:"Button"},{value:"repeater",label:"Repeater"},{value:"react-select",label:"React Select"}],md=({field:e,onSave:t,onCancel:n,error:r,isLoading:s=!1})=>{const i=a=>{const c=a.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),u=Date.now().toString(36);return`field_${c}_${u}`},o=hd({defaultValues:{id:(e==null?void 0:e.id)||"",type:(e==null?void 0:e.type)||"text",label:(e==null?void 0:e.label)||"",description:(e==null?void 0:e.description)||"",required:(e==null?void 0:e.required)||!1,default_value:(e==null?void 0:e.default_value)||"",options:(e==null?void 0:e.options)||{}},onSubmit:async({value:a})=>{if(!a.label.trim()){o.setFieldMeta("label",u=>({...u,errors:["Label is required"]}));return}const c={...a,id:a.id||i(a.label)};t(c)}});return l.jsxs("div",{className:"space-y-4",children:[r&&l.jsxs("div",{className:"p-3 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:[l.jsx("strong",{children:"Error:"})," ",r]}),l.jsxs("form",{onSubmit:a=>{a.preventDefault(),a.stopPropagation(),o.handleSubmit()},className:"space-y-4",children:[" ",e!=null&&e.id?l.jsx(o.Field,{name:"id",children:a=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field ID"}),l.jsx("input",{name:a.name,type:"text",value:a.state.value,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]})}):l.jsx(o.Field,{name:"label",children:a=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field ID (Preview)"}),l.jsx("div",{className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-500 text-sm",children:a.state.value?i(a.state.value):"field_example_"+Date.now().toString(36).slice(-4)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This ID will be auto-generated based on the label"})]})}),l.jsx(o.Field,{name:"type",validators:{onChange:({value:a})=>a?void 0:"Field type is required"},children:a=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Type *"}),l.jsx("select",{name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:c=>a.handleChange(c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:pd.map(c=>l.jsx("option",{value:c.value,children:c.label},c.value))}),a.state.meta.errors&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:a.state.meta.errors.join(", ")})]})}),l.jsx(o.Field,{name:"label",validators:{onChange:({value:a})=>a!=null&&a.trim()?void 0:"Label is required"},children:a=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label *"}),l.jsx("input",{name:a.name,type:"text",value:a.state.value,onBlur:a.handleBlur,onChange:c=>a.handleChange(c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),a.state.meta.errors&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:a.state.meta.errors.join(", ")})]})}),l.jsx(o.Field,{name:"description",children:a=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:c=>a.handleChange(c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}),a.state.meta.errors&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:a.state.meta.errors.join(", ")})]})}),l.jsx(o.Field,{name:"required",children:a=>l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{name:a.name,type:"checkbox",checked:a.state.value,onBlur:a.handleBlur,onChange:c=>a.handleChange(c.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Required"})]}),a.state.meta.errors&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:a.state.meta.errors.join(", ")})]})}),l.jsx(o.Field,{name:"default_value",children:a=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Value"}),l.jsx("input",{name:a.name,type:"text",value:a.state.value||"",onBlur:a.handleBlur,onChange:c=>a.handleChange(c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.state.meta.errors&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:a.state.meta.errors.join(", ")})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[l.jsxs(X,{type:"button",variant:"secondary",onClick:n,className:"flex items-center space-x-2",disabled:s,children:[l.jsx(Iu,{size:16}),l.jsx("span",{children:"Cancel"})]}),l.jsx(o.Subscribe,{selector:a=>[a.canSubmit,a.isSubmitting],children:([a,c])=>l.jsxs(X,{type:"submit",variant:"primary",className:"flex items-center space-x-2",disabled:!a||c||s,children:[l.jsx(Du,{size:16}),l.jsx("span",{children:c||s?"Saving...":"Save Field"})]})})]})]})]})};function ta(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}function Ns(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}function Fi(e,t){return function(r,s,i,o=10){const a=e[t];if(!Ns(r)||!ta(s))return;if(typeof i!="function"){console.error("The hook callback must be a function.");return}if(typeof o!="number"){console.error("If specified, the hook priority must be a number.");return}const c={callback:i,priority:o,namespace:s};if(a[r]){const u=a[r].handlers;let g;for(g=u.length;g>0&&!(o>=u[g-1].priority);g--);g===u.length?u[g]=c:u.splice(g,0,c),a.__current.forEach(d=>{d.name===r&&d.currentIndex>=g&&d.currentIndex++})}else a[r]={handlers:[c],runs:0};r!=="hookAdded"&&e.doAction("hookAdded",r,s,i,o)}}function kn(e,t,n=!1){return function(s,i){const o=e[t];if(!Ns(s)||!n&&!ta(i))return;if(!o[s])return 0;let a=0;if(n)a=o[s].handlers.length,o[s]={runs:o[s].runs,handlers:[]};else{const c=o[s].handlers;for(let u=c.length-1;u>=0;u--)c[u].namespace===i&&(c.splice(u,1),a++,o.__current.forEach(g=>{g.name===s&&g.currentIndex>=u&&g.currentIndex--}))}return s!=="hookRemoved"&&e.doAction("hookRemoved",s,i),a}}function ji(e,t){return function(r,s){const i=e[t];return typeof s<"u"?r in i&&i[r].handlers.some(o=>o.namespace===s):r in i}}function Tn(e,t,n,r){return function(i,...o){const a=e[t];a[i]||(a[i]={handlers:[],runs:0}),a[i].runs++;const c=a[i].handlers;if(!c||!c.length)return n?o[0]:void 0;const u={name:i,currentIndex:0};async function g(){try{a.__current.add(u);let h=n?o[0]:void 0;for(;u.currentIndex<c.length;)h=await c[u.currentIndex].callback.apply(null,o),n&&(o[0]=h),u.currentIndex++;return n?h:void 0}finally{a.__current.delete(u)}}function d(){try{a.__current.add(u);let h=n?o[0]:void 0;for(;u.currentIndex<c.length;)h=c[u.currentIndex].callback.apply(null,o),n&&(o[0]=h),u.currentIndex++;return n?h:void 0}finally{a.__current.delete(u)}}return(r?g:d)()}}function _i(e,t){return function(){var o;var r;const s=e[t];return(r=(o=Array.from(s.__current).at(-1))==null?void 0:o.name)!==null&&r!==void 0?r:null}}function Ni(e,t){return function(r){const s=e[t];return typeof r>"u"?s.__current.size>0:Array.from(s.__current).some(i=>i.name===r)}}function Di(e,t){return function(r){const s=e[t];if(Ns(r))return s[r]&&s[r].runs?s[r].runs:0}}class vd{constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=Fi(this,"actions"),this.addFilter=Fi(this,"filters"),this.removeAction=kn(this,"actions"),this.removeFilter=kn(this,"filters"),this.hasAction=ji(this,"actions"),this.hasFilter=ji(this,"filters"),this.removeAllActions=kn(this,"actions",!0),this.removeAllFilters=kn(this,"filters",!0),this.doAction=Tn(this,"actions",!1,!1),this.doActionAsync=Tn(this,"actions",!1,!0),this.applyFilters=Tn(this,"filters",!0,!1),this.applyFiltersAsync=Tn(this,"filters",!0,!0),this.currentAction=_i(this,"actions"),this.currentFilter=_i(this,"filters"),this.doingAction=Ni(this,"actions"),this.doingFilter=Ni(this,"filters"),this.didAction=Di(this,"actions"),this.didFilter=Di(this,"filters")}}function na(){return new vd}na();window.spiderBoxesHooks||(window.spiderBoxesHooks=na());const{filters:ph,addFilter:mh,applyFilters:vh,removeFilter:xh,removeAllFilters:yh,hasFilter:bh,actions:wh,addAction:Ch,doAction:$r,removeAction:Sh,removeAllActions:Rh,hasAction:Mh}=window.spiderBoxesHooks,xd=e=>{if(e)return{id:e.id,type:e.type,label:e.title,description:e.description,default_value:e.value}},yd=e=>({id:e.id,type:e.type,title:e.label,description:e.description||"",value:e.default_value,parent:"",context:"default"});function bd(){const[e,t]=f.useState(!1),[n,r]=f.useState(null),s=It(),i=yn(),{data:o=[],isLoading:a}=tt({queryKey:["fields"],queryFn:()=>i.get("/fields")}),c=we({mutationFn:x=>i.post("/fields",x),onSuccess:()=>{s.invalidateQueries({queryKey:["fields"]}),t(!1),r(null),$r("spiderBoxes.fieldCreated")},onError:x=>{console.error("Error creating field:",x)}}),u=we({mutationFn:({id:x,...w})=>i.put(`/fields/${x}`,w),onSuccess:()=>{s.invalidateQueries({queryKey:["fields"]}),t(!1),r(null),$r("spiderBoxes.fieldUpdated")},onError:x=>{console.error("Error updating field:",x)}}),g=we({mutationFn:x=>i.del(`/fields/${x}`),onSuccess:()=>{s.invalidateQueries({queryKey:["fields"]}),$r("spiderBoxes.fieldDeleted")}}),d=()=>{r(null),t(!0),c.reset(),u.reset(),console.log("Opening dialog for new field")},h=x=>{r(x),t(!0),c.reset(),u.reset()},p=()=>{t(!1),r(null),c.reset(),u.reset()},v=x=>{confirm("Are you sure you want to delete this field?")&&g.mutate(x)},m=x=>{console.log("Form submitted with data:",x);const w=yd(x);if(console.log("Converted field data:",w),!w.id||!w.title||!w.type){console.error("Missing required fields: id, title and type are required");return}n?(console.log("Updating existing field:",n.id),u.mutate({...w,id:n.id})):(console.log("Creating new field"),c.mutate(w))},y=x=>{var w,b,S;return x?typeof x=="string"?x:x.message?x.message:(b=(w=x.response)==null?void 0:w.data)!=null&&b.message?x.response.data.message:(S=x.response)!=null&&S.statusText?x.response.statusText:"An unexpected error occurred":""};return a?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"spider-boxes-loading"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Fields"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage individual fields that can be used in components."})]}),l.jsxs(X,{onClick:d,className:"spider-boxes-button",children:[l.jsx(Ci,{className:"w-4 h-4 mr-2"}),"Add Field"]})]}),o.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"No fields created yet."}),l.jsxs(X,{onClick:d,className:"spider-boxes-button",children:[l.jsx(Ci,{className:"w-4 h-4 mr-2"}),"Create your first field"]})]}):l.jsxs("div",{className:"spider-boxes-table",children:[l.jsxs("div",{className:"spider-boxes-table-header",children:[l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Field ID"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Title"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Type"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Parent"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Context"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Actions"})]}),l.jsx("div",{className:"divide-y divide-gray-200",children:o.map(x=>l.jsxs(et.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"spider-boxes-table-row",children:[l.jsx("div",{className:"spider-boxes-table-cell font-mono text-xs bg-gray-50",children:x.id}),l.jsx("div",{className:"spider-boxes-table-cell font-medium",children:x.title||x.id}),l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsx("span",{className:"spider-boxes-badge spider-boxes-badge-success",children:x.type})}),l.jsx("div",{className:"spider-boxes-table-cell text-gray-500",children:x.parent||"—"}),l.jsx("div",{className:"spider-boxes-table-cell text-gray-500",children:x.context}),l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>h(x),className:"text-primary-600 hover:text-primary-900",title:"Edit field",children:l.jsx(_u,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>v(x.id),className:"text-red-600 hover:text-red-900",title:"Delete field",children:l.jsx(Nu,{className:"w-4 h-4"})})]})})]},x.id))})]})," ",l.jsx(Ot,{open:e,onOpenChange:t,children:l.jsxs(Pt,{size:"lg",children:[l.jsx(Vt,{children:l.jsx(Lt,{children:n?"Edit Field":"Create New Field"})}),l.jsx(md,{field:xd(n),onSave:m,onCancel:p,error:y(c.error)||y(u.error),isLoading:c.isPending||u.isPending})]})})]})}const wd=()=>{var N,$,T,P,G,Y,Q;const e=It(),{get:t,post:n,patch:r,del:s}=yn(),[i,o]=f.useState(null),[a,c]=f.useState(!1),[u,g]=f.useState(!1),[d,h]=f.useState({}),{data:p=[],isLoading:v}=tt({queryKey:["components"],queryFn:()=>t("/components")}),{data:m=[],isLoading:y}=tt({queryKey:["component-types"],queryFn:()=>t("/component-types")}),x=we({mutationFn:C=>n("/components",C),onSuccess:()=>{e.invalidateQueries({queryKey:["components"]}),c(!1),h({})}}),w=we({mutationFn:({id:C,data:O})=>r(`/components/${C}`,O),onSuccess:()=>{e.invalidateQueries({queryKey:["components"]}),c(!1),o(null)}}),b=we({mutationFn:C=>s(`/components/${C}`),onSuccess:()=>{e.invalidateQueries({queryKey:["components"]})}}),S=()=>{g(!0),h({type:"accordion",title:"",description:"",config:{},fields:[]}),c(!0)},E=C=>{g(!1),o(C),h(C),c(!0)},D=()=>{u?x.mutate(d):i&&w.mutate({id:i.id,data:d})},j=C=>{confirm("Are you sure you want to delete this component?")&&b.mutate(C)},_=(C,O)=>{h(ee=>({...ee,[C]:O}))},R=(C,O)=>{h(ee=>({...ee,config:{...ee.config,[C]:O}}))},I=C=>({accordion:"📋",tab:"📑",row:"▦",column:"▨"})[C]||"🔧";return v||y?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"components-manager",children:[l.jsxs("div",{className:"components-header",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Components"}),l.jsx(X,{onClick:S,children:"Create Component"})]}),l.jsx("div",{className:"components-grid",children:l.jsx(xn,{children:p.map(C=>{var O;return l.jsxs(et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"component-card",children:[l.jsxs("div",{className:"component-card-header",children:[l.jsx("div",{className:"component-icon",children:I(C.type)}),l.jsxs("div",{className:"component-info",children:[l.jsx("h4",{className:"component-title",children:C.title}),l.jsx("p",{className:"component-type",children:C.type}),C.description&&l.jsx("p",{className:"component-description",children:C.description})]})]}),l.jsx("div",{className:"component-meta",children:l.jsxs("span",{className:"component-field-count",children:[((O=C.fields)==null?void 0:O.length)||0," fields"]})}),l.jsxs("div",{className:"component-actions",children:[l.jsx(X,{variant:"outline",size:"sm",onClick:()=>E(C),children:"Edit"}),l.jsx(X,{variant:"outline",size:"sm",onClick:()=>j(C.id),children:"Delete"})]})]},C.id)})})}),p.length===0&&l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state-icon",children:"🔧"}),l.jsx("h3",{className:"empty-state-title",children:"No components yet"}),l.jsx("p",{className:"empty-state-description",children:"Create your first component to get started."}),l.jsx(X,{onClick:S,children:"Create Component"})]}),l.jsx(Ot,{open:a,onOpenChange:c,children:l.jsxs(Pt,{size:"lg",children:[l.jsx(Vt,{children:l.jsx(Lt,{children:u?"Create Component":"Edit Component"})}),l.jsxs("div",{className:"component-form",children:[l.jsxs("div",{className:"form-grid",children:[l.jsx(K,{config:{id:"title",type:"text",label:"Component Title",required:!0,placeholder:"Enter component title"},value:d.title||"",onChange:C=>_("title",C)}),l.jsx(K,{config:{id:"type",type:"select",label:"Component Type",required:!0,options:m.map(C=>({label:C.label,value:C.type}))},value:d.type||"",onChange:C=>_("type",C)}),l.jsx(K,{config:{id:"description",type:"textarea",label:"Description",placeholder:"Enter component description",rows:3},value:d.description||"",onChange:C=>_("description",C)})]}),d.type&&l.jsxs("div",{className:"component-config",children:[l.jsx("h4",{className:"config-title",children:"Component Configuration"}),d.type==="accordion"&&l.jsxs("div",{className:"config-grid",children:[l.jsx(K,{config:{id:"collapsed",type:"switcher",label:"Start Collapsed"},value:((N=d.config)==null?void 0:N.collapsed)||!1,onChange:C=>R("collapsed",C)}),l.jsx(K,{config:{id:"multiple",type:"switcher",label:"Allow Multiple Open"},value:(($=d.config)==null?void 0:$.multiple)||!1,onChange:C=>R("multiple",C)})]}),d.type==="tab"&&l.jsxs("div",{className:"config-grid",children:[l.jsx(K,{config:{id:"orientation",type:"select",label:"Tab Orientation",options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"}]},value:((T=d.config)==null?void 0:T.orientation)||"horizontal",onChange:C=>R("orientation",C)}),l.jsx(K,{config:{id:"icon",type:"text",label:"Tab Icon",placeholder:"Icon class or emoji"},value:((P=d.config)==null?void 0:P.icon)||"",onChange:C=>R("icon",C)})]}),d.type==="row"&&l.jsxs("div",{className:"config-grid",children:[l.jsx(K,{config:{id:"gap",type:"select",label:"Column Gap",options:[{label:"Small",value:"sm"},{label:"Medium",value:"md"},{label:"Large",value:"lg"}]},value:((G=d.config)==null?void 0:G.gap)||"md",onChange:C=>R("gap",C)}),l.jsx(K,{config:{id:"align",type:"select",label:"Vertical Alignment",options:[{label:"Top",value:"start"},{label:"Center",value:"center"},{label:"Bottom",value:"end"}]},value:((Y=d.config)==null?void 0:Y.align)||"start",onChange:C=>R("align",C)})]}),d.type==="column"&&l.jsx("div",{className:"config-grid",children:l.jsx(K,{config:{id:"width",type:"select",label:"Column Width",options:[{label:"Auto",value:"auto"},{label:"1/12",value:"1/12"},{label:"2/12",value:"2/12"},{label:"3/12",value:"3/12"},{label:"4/12",value:"4/12"},{label:"6/12",value:"6/12"},{label:"8/12",value:"8/12"},{label:"12/12",value:"12/12"}]},value:((Q=d.config)==null?void 0:Q.width)||"auto",onChange:C=>R("width",C)})})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})," ",l.jsx(X,{onClick:D,disabled:x.isPending||w.isPending,children:u?"Create Component":"Save Changes"})]})]})]})})]})},Cd=()=>{var N,$,T,P,G,Y,Q;const e=It(),{get:t,post:n,patch:r,del:s}=yn(),[i,o]=f.useState(null),[a,c]=f.useState(!1),[u,g]=f.useState(!1),[d,h]=f.useState({}),{data:p=[],isLoading:v}=tt({queryKey:["sections"],queryFn:()=>t("/sections")}),{data:m=[],isLoading:y}=tt({queryKey:["section-types"],queryFn:()=>t("/section-types")}),x=we({mutationFn:C=>n("/sections",C),onSuccess:()=>{e.invalidateQueries({queryKey:["sections"]}),c(!1),h({})}}),w=we({mutationFn:({id:C,data:O})=>r(`/sections/${C}`,O),onSuccess:()=>{e.invalidateQueries({queryKey:["sections"]}),c(!1),o(null)}}),b=we({mutationFn:C=>s(`/sections/${C}`),onSuccess:()=>{e.invalidateQueries({queryKey:["sections"]})}}),S=()=>{g(!0),h({type:"section",title:"",description:"",context:"default",screen:"",capability:"manage_options",priority:"default",config:{},components:[],fields:[]}),c(!0)},E=C=>{g(!1),o(C),h(C),c(!0)},D=()=>{u?x.mutate(d):i&&w.mutate({id:i.id,data:d})},j=C=>{confirm("Are you sure you want to delete this section?")&&b.mutate(C)},_=(C,O)=>{h(ee=>({...ee,[C]:O}))},R=(C,O)=>{h(ee=>({...ee,config:{...ee.config,[C]:O}}))},I=C=>({section:"📝",form:"📋"})[C]||"📄";return v||y?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"sections-manager",children:[l.jsxs("div",{className:"sections-header",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sections"}),l.jsx(X,{onClick:S,children:"Create Section"})]}),l.jsx("div",{className:"sections-grid",children:l.jsx(xn,{children:p.map(C=>{var O,ee;return l.jsxs(et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"section-card",children:[l.jsxs("div",{className:"section-card-header",children:[l.jsx("div",{className:"section-icon",children:I(C.type)}),l.jsxs("div",{className:"section-info",children:[l.jsx("h4",{className:"section-title",children:C.title}),l.jsx("p",{className:"section-type",children:C.type}),C.description&&l.jsx("p",{className:"section-description",children:C.description})]})]}),l.jsxs("div",{className:"section-meta",children:[l.jsxs("span",{className:"section-context",children:["Context: ",C.context]}),l.jsxs("span",{className:"section-capability",children:["Capability: ",C.capability]}),l.jsxs("span",{className:"section-component-count",children:[((O=C.components)==null?void 0:O.length)||0," components"]}),l.jsxs("span",{className:"section-field-count",children:[((ee=C.fields)==null?void 0:ee.length)||0," fields"]})]}),l.jsxs("div",{className:"section-actions",children:[l.jsx(X,{variant:"outline",size:"sm",onClick:()=>E(C),children:"Edit"}),l.jsx(X,{variant:"outline",size:"sm",onClick:()=>j(C.id),children:"Delete"})]})]},C.id)})})}),p.length===0&&l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state-icon",children:"📄"}),l.jsx("h3",{className:"empty-state-title",children:"No sections yet"}),l.jsx("p",{className:"empty-state-description",children:"Create your first section to get started."}),l.jsx(X,{onClick:S,children:"Create Section"})]}),l.jsx(Ot,{open:a,onOpenChange:c,children:l.jsxs(Pt,{size:"lg",children:[l.jsx(Vt,{children:l.jsx(Lt,{children:u?"Create Section":"Edit Section"})}),l.jsxs("div",{className:"section-form",children:[l.jsxs("div",{className:"form-grid",children:[l.jsx(K,{config:{id:"title",type:"text",label:"Section Title",required:!0,placeholder:"Enter section title"},value:d.title||"",onChange:C=>_("title",C)}),l.jsx(K,{config:{id:"type",type:"select",label:"Section Type",required:!0,options:m.map(C=>({label:C.label,value:C.type}))},value:d.type||"",onChange:C=>_("type",C)}),l.jsx(K,{config:{id:"description",type:"textarea",label:"Description",placeholder:"Enter section description",rows:3},value:d.description||"",onChange:C=>_("description",C)}),l.jsx(K,{config:{id:"context",type:"select",label:"Context",required:!0,options:[{label:"Default",value:"default"},{label:"Post Edit",value:"post_edit"},{label:"User Profile",value:"user_profile"},{label:"Settings",value:"settings"},{label:"WooCommerce Product",value:"wc_product"}]},value:d.context||"default",onChange:C=>_("context",C)}),l.jsx(K,{config:{id:"screen",type:"text",label:"Screen (Optional)",placeholder:"e.g., post, page, product",description:"Limit section to specific admin screens"},value:d.screen||"",onChange:C=>_("screen",C)}),l.jsx(K,{config:{id:"capability",type:"select",label:"Required Capability",required:!0,options:[{label:"Manage Options",value:"manage_options"},{label:"Edit Posts",value:"edit_posts"},{label:"Edit Pages",value:"edit_pages"},{label:"Edit Users",value:"edit_users"},{label:"Manage WooCommerce",value:"manage_woocommerce"}]},value:d.capability||"manage_options",onChange:C=>_("capability",C)}),l.jsx(K,{config:{id:"priority",type:"select",label:"Priority",options:[{label:"High",value:"high"},{label:"Default",value:"default"},{label:"Low",value:"low"}]},value:d.priority||"default",onChange:C=>_("priority",C)})]}),d.type&&l.jsxs("div",{className:"section-config",children:[l.jsx("h4",{className:"config-title",children:"Section Configuration"}),d.type==="section"&&l.jsxs("div",{className:"config-grid",children:[l.jsx(K,{config:{id:"collapsible",type:"switcher",label:"Collapsible",description:"Allow users to collapse this section"},value:((N=d.config)==null?void 0:N.collapsible)||!1,onChange:C=>R("collapsible",C)}),l.jsx(K,{config:{id:"collapsed",type:"switcher",label:"Start Collapsed",description:"Start with the section collapsed"},value:(($=d.config)==null?void 0:$.collapsed)||!1,onChange:C=>R("collapsed",C)})]}),d.type==="form"&&l.jsxs("div",{className:"config-grid",children:[l.jsx(K,{config:{id:"method",type:"select",label:"Form Method",options:[{label:"POST",value:"post"},{label:"GET",value:"get"}]},value:((T=d.config)==null?void 0:T.method)||"post",onChange:C=>R("method",C)}),l.jsx(K,{config:{id:"action",type:"text",label:"Form Action URL",placeholder:"Leave empty for current page"},value:((P=d.config)==null?void 0:P.action)||"",onChange:C=>R("action",C)}),l.jsx(K,{config:{id:"ajax",type:"switcher",label:"AJAX Submission",description:"Submit form via AJAX"},value:((G=d.config)==null?void 0:G.ajax)||!1,onChange:C=>R("ajax",C)}),l.jsx(K,{config:{id:"submit_text",type:"text",label:"Submit Button Text",placeholder:"Submit"},value:((Y=d.config)==null?void 0:Y.submit_text)||"Submit",onChange:C=>R("submit_text",C)}),l.jsx(K,{config:{id:"nonce_action",type:"text",label:"Nonce Action",placeholder:"Enter nonce action for security"},value:((Q=d.config)==null?void 0:Q.nonce_action)||"",onChange:C=>R("nonce_action",C)})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})," ",l.jsx(X,{onClick:D,disabled:x.isPending||w.isPending,children:u?"Create Section":"Save Changes"})]})]})]})})]})};function Sd(){return l.jsxs("div",{className:"spider-boxes-admin",children:[l.jsxs("div",{className:"spider-boxes-header",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Spider Boxes Configuration"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage field types, fields, components, and sections for your custom meta boxes."})]}),l.jsx("div",{className:"spider-boxes-content",children:l.jsxs(Cl,{defaultValue:"fields",className:"w-full",children:[l.jsxs(Sl,{className:"grid w-full grid-cols-4",children:[l.jsx(Mn,{value:"fields",children:"Fields"}),l.jsx(Mn,{value:"components",children:"Components"}),l.jsx(Mn,{value:"sections",children:"Sections"}),l.jsx(Mn,{value:"field-types",children:"Field Types"})]}),l.jsx(En,{value:"fields",className:"mt-6",children:l.jsx(bd,{})}),l.jsx(En,{value:"components",className:"mt-6",children:l.jsx(wd,{})}),l.jsx(En,{value:"sections",className:"mt-6",children:l.jsx(Cd,{})}),l.jsx(En,{value:"field-types",className:"mt-6",children:l.jsx(ju,{})})]})})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Rd(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Ye(e,t){return typeof e=="function"?e(t):e}function me(e,t){return n=>{t.setState(r=>({...r,[e]:Ye(n,r[e])}))}}function mr(e){return e instanceof Function}function Md(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Ed(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&r(o)})};return r(e),n}function V(e,t,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(i);if(!(a.length!==r.length||a.some((g,d)=>r[d]!==g)))return s;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-o)*100)/100,d=Math.round((Date.now()-u)*100)/100,h=d/16,p=(v,m)=>{for(v=String(v);v.length<m;)v=" "+v;return v};console.info(`%c⏱ ${p(d,5)} /${p(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function L(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function Fd(e,t,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:V(()=>[e,n,t,i],(o,a,c,u)=>({table:o,column:a,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),L(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,n,t,e)},{}),i}function jd(e,t,n,r){var s,i;const a={...e._getDefaultColumnDef(),...t},c=a.accessorKey;let u=(s=(i=a.id)!=null?i:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,g;if(a.accessorFn?g=a.accessorFn:c&&(c.includes(".")?g=h=>{let p=h;for(const m of c.split(".")){var v;p=(v=p)==null?void 0:v[m]}return p}:g=h=>h[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:g,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:V(()=>[!0],()=>{var h;return[d,...(h=d.columns)==null?void 0:h.flatMap(p=>p.getFlatColumns())]},L(e.options,"debugColumns")),getLeafColumns:V(()=>[e._getOrderColumnsFn()],h=>{var p;if((p=d.columns)!=null&&p.length){let v=d.columns.flatMap(m=>m.getLeafColumns());return h(v)}return[d]},L(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(d,e);return d}const ae="debugHeaders";function Ii(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(a),o.push(c)};return a(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const _d={createTable:e=>{e.getHeaderGroups=V(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,o;const a=(i=r==null?void 0:r.map(d=>n.find(h=>h.id===d)).filter(Boolean))!=null?i:[],c=(o=s==null?void 0:s.map(d=>n.find(h=>h.id===d)).filter(Boolean))!=null?o:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(s!=null&&s.includes(d.id)));return zn(t,[...a,...u,...c],e)},L(e.options,ae)),e.getCenterHeaderGroups=V(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),zn(t,n,e,"center")),L(e.options,ae)),e.getLeftHeaderGroups=V(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return zn(t,i,e,"left")},L(e.options,ae)),e.getRightHeaderGroups=V(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return zn(t,i,e,"right")},L(e.options,ae)),e.getFooterGroups=V(()=>[e.getHeaderGroups()],t=>[...t].reverse(),L(e.options,ae)),e.getLeftFooterGroups=V(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),L(e.options,ae)),e.getCenterFooterGroups=V(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),L(e.options,ae)),e.getRightFooterGroups=V(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),L(e.options,ae)),e.getFlatHeaders=V(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),L(e.options,ae)),e.getLeftFlatHeaders=V(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),L(e.options,ae)),e.getCenterFlatHeaders=V(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),L(e.options,ae)),e.getRightFlatHeaders=V(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),L(e.options,ae)),e.getCenterLeafHeaders=V(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),L(e.options,ae)),e.getLeftLeafHeaders=V(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),L(e.options,ae)),e.getRightLeafHeaders=V(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),L(e.options,ae)),e.getLeafHeaders=V(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,o,a,c,u;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(g=>g.getLeafHeaders()).flat()},L(e.options,ae))}};function zn(e,t,n,r){var s,i;let o=0;const a=function(h,p){p===void 0&&(p=1),o=Math.max(o,p),h.filter(v=>v.getIsVisible()).forEach(v=>{var m;(m=v.columns)!=null&&m.length&&a(v.columns,p+1)},0)};a(e);let c=[];const u=(h,p)=>{const v={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},m=[];h.forEach(y=>{const x=[...m].reverse()[0],w=y.column.depth===v.depth;let b,S=!1;if(w&&y.column.parent?b=y.column.parent:(b=y.column,S=!0),x&&(x==null?void 0:x.column)===b)x.subHeaders.push(y);else{const E=Ii(n,b,{id:[r,p,b.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${m.filter(D=>D.column===b).length}`:void 0,depth:p,index:m.length});E.subHeaders.push(y),m.push(E)}v.headers.push(y),y.headerGroup=v}),c.push(v),p>0&&u(m,p-1)},g=t.map((h,p)=>Ii(n,h,{depth:o,index:p}));u(g,o-1),c.reverse();const d=h=>h.filter(v=>v.column.getIsVisible()).map(v=>{let m=0,y=0,x=[0];v.subHeaders&&v.subHeaders.length?(x=[],d(v.subHeaders).forEach(b=>{let{colSpan:S,rowSpan:E}=b;m+=S,x.push(E)})):m=1;const w=Math.min(...x);return y=y+w,v.colSpan=m,v.rowSpan=y,{colSpan:m,rowSpan:y}});return d((s=(i=c[0])==null?void 0:i.headers)!=null?s:[]),c}const Ds=(e,t,n,r,s,i,o)=>{let a={id:t,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(a._valuesCache.hasOwnProperty(c))return a._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return a._valuesCache[c]=u.accessorFn(a.original,r),a._valuesCache[c]},getUniqueValues:c=>{if(a._uniqueValuesCache.hasOwnProperty(c))return a._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[c]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[c]):(a._uniqueValuesCache[c]=[a.getValue(c)],a._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=a.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>Ed(a.subRows,c=>c.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let c=[],u=a;for(;;){const g=u.getParentRow();if(!g)break;c.push(g),u=g}return c.reverse()},getAllCells:V(()=>[e.getAllLeafColumns()],c=>c.map(u=>Fd(e,a,u,u.id)),L(e.options,"debugRows")),_getAllCellsByColumnId:V(()=>[a.getAllCells()],c=>c.reduce((u,g)=>(u[g.column.id]=g,u),{}),L(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(a,e)}return a},Nd={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},ra=(e,t,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};ra.autoRemove=e=>Ce(e);const sa=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};sa.autoRemove=e=>Ce(e);const ia=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};ia.autoRemove=e=>Ce(e);const oa=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};oa.autoRemove=e=>Ce(e);const aa=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});aa.autoRemove=e=>Ce(e)||!(e!=null&&e.length);const la=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});la.autoRemove=e=>Ce(e)||!(e!=null&&e.length);const ca=(e,t,n)=>e.getValue(t)===n;ca.autoRemove=e=>Ce(e);const ua=(e,t,n)=>e.getValue(t)==n;ua.autoRemove=e=>Ce(e);const Is=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};Is.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const a=i;i=o,o=a}return[i,o]};Is.autoRemove=e=>Ce(e)||Ce(e[0])&&Ce(e[1]);const Le={includesString:ra,includesStringSensitive:sa,equalsString:ia,arrIncludes:oa,arrIncludesAll:aa,arrIncludesSome:la,equals:ca,weakEquals:ua,inNumberRange:Is};function Ce(e){return e==null||e===""}const Dd={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:me("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Le.includesString:typeof r=="number"?Le.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Le.equals:Array.isArray(r)?Le.arrIncludes:Le.weakEquals},e.getFilterFn=()=>{var n,r;return mr(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Le[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r==null?void 0:r.find(g=>g.id===e.id),o=Ye(n,i?i.value:void 0);if(Ai(s,o,e)){var a;return(a=r==null?void 0:r.filter(g=>g.id!==e.id))!=null?a:[]}const c={id:e.id,value:o};if(i){var u;return(u=r==null?void 0:r.map(g=>g.id===e.id?c:g))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=Ye(t,s))==null?void 0:i.filter(o=>{const a=n.find(c=>c.id===o.id);if(a){const c=a.getFilterFn();if(Ai(c,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Ai(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Id=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),Ad=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},Pd=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},Vd=(e,t,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},Ld=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},Od=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!Md(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},$d=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),kd=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Td=(e,t)=>t.length,kr={sum:Id,min:Ad,max:Pd,extent:Vd,mean:Ld,median:Od,unique:$d,uniqueCount:kd,count:Td},zd={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:me("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return kr.sum;if(Object.prototype.toString.call(r)==="[object Date]")return kr.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return mr(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:kr[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function Bd(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...r]}const Hd={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:me("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=V(n=>[Zt(t,n)],n=>n.findIndex(r=>r.id===e.id),L(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Zt(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=Zt(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=V(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const o=[...t],a=[...s];for(;a.length&&o.length;){const c=o.shift(),u=a.findIndex(g=>g.id===c);u>-1&&i.push(a.splice(u,1)[0])}i=[...i,...a]}return Bd(i,n,r)},L(e.options,"debugTable"))}},Tr=()=>({left:[],right:[]}),Gd={getInitialState:e=>({columnPinning:Tr(),...e}),getDefaultOptions:e=>({onColumnPinningChange:me("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,o;if(n==="right"){var a,c;return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((c=s==null?void 0:s.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,g;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((g=s==null?void 0:s.right)!=null?g:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(d=>!(r!=null&&r.includes(d))),right:((o=s==null?void 0:s.right)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=V(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},L(t.options,"debugRows")),e.getLeftVisibleCells=V(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),L(t.options,"debugRows")),e.getRightVisibleCells=V(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),L(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Tr():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Tr())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=V(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),L(e.options,"debugColumns")),e.getRightLeafColumns=V(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),L(e.options,"debugColumns")),e.getCenterLeafColumns=V(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},L(e.options,"debugColumns"))}};function Ud(e){return e||(typeof document<"u"?document:null)}const Bn={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},zr=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Wd={getDefaultColumnDef:()=>Bn,getInitialState:e=>({columnSizing:{},columnSizingInfo:zr(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:me("columnSizing",e),onColumnSizingInfoChange:me("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Bn.minSize,(r=i??e.columnDef.size)!=null?r:Bn.size),(s=e.columnDef.maxSize)!=null?s:Bn.maxSize)},e.getStart=V(n=>[n,Zt(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),L(t.options,"debugColumns")),e.getAfter=V(n=>[n,Zt(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),L(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),Br(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[r.id,r.getSize()]],c=Br(i)?Math.round(i.touches[0].clientX):i.clientX,u={},g=(x,w)=>{typeof w=="number"&&(t.setColumnSizingInfo(b=>{var S,E;const D=t.options.columnResizeDirection==="rtl"?-1:1,j=(w-((S=b==null?void 0:b.startOffset)!=null?S:0))*D,_=Math.max(j/((E=b==null?void 0:b.startSize)!=null?E:0),-.999999);return b.columnSizingStart.forEach(R=>{let[I,N]=R;u[I]=Math.round(Math.max(N+N*_,0)*100)/100}),{...b,deltaOffset:j,deltaPercentage:_}}),(t.options.columnResizeMode==="onChange"||x==="end")&&t.setColumnSizing(b=>({...b,...u})))},d=x=>g("move",x),h=x=>{g("end",x),t.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=Ud(n),v={moveHandler:x=>d(x.clientX),upHandler:x=>{p==null||p.removeEventListener("mousemove",v.moveHandler),p==null||p.removeEventListener("mouseup",v.upHandler),h(x.clientX)}},m={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),d(x.touches[0].clientX),!1),upHandler:x=>{var w;p==null||p.removeEventListener("touchmove",m.moveHandler),p==null||p.removeEventListener("touchend",m.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),h((w=x.touches[0])==null?void 0:w.clientX)}},y=qd()?{passive:!1}:!1;Br(i)?(p==null||p.addEventListener("touchmove",m.moveHandler,y),p==null||p.addEventListener("touchend",m.upHandler,y)):(p==null||p.addEventListener("mousemove",v.moveHandler,y),p==null||p.addEventListener("mouseup",v.upHandler,y)),t.setColumnSizingInfo(x=>({...x,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?zr():(n=e.initialState.columnSizingInfo)!=null?n:zr())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let Hn=null;function qd(){if(typeof Hn=="boolean")return Hn;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Hn=e,Hn}function Br(e){return e.type==="touchstart"}const Kd={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:me("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=V(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),L(t.options,"debugRows")),e.getVisibleCells=V(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],L(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>V(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),L(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Zt(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Xd={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Qd={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:me("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Le.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return mr(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Le[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Zd={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:me("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:a,...c}=o;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},gs=0,hs=10,Hr=()=>({pageIndex:gs,pageSize:hs}),Yd={getInitialState:e=>({...e,pagination:{...Hr(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:me("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>Ye(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?Hr():(s=e.initialState.pagination)!=null?s:Hr())},e.setPageIndex=r=>{e.setPagination(s=>{let i=Ye(r,s.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?gs:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:gs)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?hs:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:hs)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,Ye(r,s.pageSize)),o=s.pageSize*s.pageIndex,a=Math.floor(o/i);return{...s,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let o=Ye(r,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),e.getPageOptions=V(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},L(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Gr=()=>({top:[],bottom:[]}),Jd={getInitialState:e=>({rowPinning:Gr(),...e}),getDefaultOptions:e=>({onRowPinningChange:me("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],o=s?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],a=new Set([...o,e.id,...i]);t.setRowPinning(c=>{var u,g;if(n==="bottom"){var d,h;return{top:((d=c==null?void 0:c.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((h=c==null?void 0:c.bottom)!=null?h:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(n==="top"){var p,v;return{top:[...((p=c==null?void 0:c.top)!=null?p:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((v=c==null?void 0:c.bottom)!=null?v:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((g=c==null?void 0:c.bottom)!=null?g:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Gr():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Gr())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=V(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),L(e.options,"debugRows")),e.getBottomRows=V(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),L(e.options,"debugRows")),e.getCenterRows=V(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},L(e.options,"debugRows"))}},ef={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:me("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{ps(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=V(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Ur(e,n):{rows:[],flatRows:[],rowsById:{}},L(e.options,"debugTable")),e.getFilteredSelectedRowModel=V(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Ur(e,n):{rows:[],flatRows:[],rowsById:{}},L(e.options,"debugTable")),e.getGroupedSelectedRowModel=V(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Ur(e,n):{rows:[],flatRows:[],rowsById:{}},L(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const a={...i};return ps(a,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return As(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return ms(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return ms(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},ps=(e,t,n,r,s)=>{var i;const o=s.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>ps(e,a.id,n,r,s))};function Ur(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(o,a){return o.map(c=>{var u;const g=As(c,n);if(g&&(r.push(c),s[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:i(c.subRows)}),g)return c}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function As(e,t){var n;return(n=t[e.id])!=null?n:!1}function ms(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(As(o,t)?i=!0:s=!1),o.subRows&&o.subRows.length)){const a=ms(o,t);a==="all"?i=!0:(a==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const vs=/([0-9]+)/gm,tf=(e,t,n)=>da(nt(e.getValue(n)).toLowerCase(),nt(t.getValue(n)).toLowerCase()),nf=(e,t,n)=>da(nt(e.getValue(n)),nt(t.getValue(n))),rf=(e,t,n)=>Ps(nt(e.getValue(n)).toLowerCase(),nt(t.getValue(n)).toLowerCase()),sf=(e,t,n)=>Ps(nt(e.getValue(n)),nt(t.getValue(n))),of=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},af=(e,t,n)=>Ps(e.getValue(n),t.getValue(n));function Ps(e,t){return e===t?0:e>t?1:-1}function nt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function da(e,t){const n=e.split(vs).filter(Boolean),r=t.split(vs).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),a=parseInt(i,10),c=[o,a].sort();if(isNaN(c[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const Ut={alphanumeric:tf,alphanumericCaseSensitive:nf,text:rf,textCaseSensitive:sf,datetime:of,basic:af},lf={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:me("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Ut.datetime;if(typeof i=="string"&&(r=!0,i.split(vs).length>1))return Ut.alphanumeric}return r?Ut.text:Ut.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return mr(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Ut[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(p=>p.id===e.id),c=o==null?void 0:o.findIndex(p=>p.id===e.id);let u=[],g,d=i?n:s==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?g="toggle":g="add":o!=null&&o.length&&c!==o.length-1?g="replace":a?g="toggle":g="replace",g==="toggle"&&(i||s||(g="remove")),g==="add"){var h;u=[...o,{id:e.id,desc:d}],u.splice(0,u.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else g==="toggle"?u=o.map(p=>p.id===e.id?{...p,desc:d}:p):g==="remove"?u=o.filter(p=>p.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},cf=[_d,Kd,Hd,Gd,Nd,Dd,Xd,Qd,lf,zd,Zd,Yd,Jd,ef,Wd];function uf(e){var t,n;const r=[...cf,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((h,p)=>Object.assign(h,p.getDefaultOptions==null?void 0:p.getDefaultOptions(s)),{}),o=h=>s.options.mergeOptions?s.options.mergeOptions(i,h):{...i,...h};let c={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(h=>{var p;c=(p=h.getInitialState==null?void 0:h.getInitialState(c))!=null?p:c});const u=[];let g=!1;const d={_features:r,options:{...i,...e},initialState:c,_queue:h=>{u.push(h),g||(g=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();g=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{s.setState(s.initialState)},setOptions:h=>{const p=Ye(h,s.options);s.options=o(p)},getState:()=>s.options.state,setState:h=>{s.options.onStateChange==null||s.options.onStateChange(h)},_getRowId:(h,p,v)=>{var m;return(m=s.options.getRowId==null?void 0:s.options.getRowId(h,p,v))!=null?m:`${v?[v.id,p].join("."):p}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(h,p)=>{let v=(p?s.getPrePaginationRowModel():s.getRowModel()).rowsById[h];if(!v&&(v=s.getCoreRowModel().rowsById[h],!v))throw new Error;return v},_getDefaultColumnDef:V(()=>[s.options.defaultColumn],h=>{var p;return h=(p=h)!=null?p:{},{header:v=>{const m=v.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:v=>{var m,y;return(m=(y=v.renderValue())==null||y.toString==null?void 0:y.toString())!=null?m:null},...s._features.reduce((v,m)=>Object.assign(v,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...h}},L(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:V(()=>[s._getColumnDefs()],h=>{const p=function(v,m,y){return y===void 0&&(y=0),v.map(x=>{const w=jd(s,x,y,m),b=x;return w.columns=b.columns?p(b.columns,w,y+1):[],w})};return p(h)},L(e,"debugColumns")),getAllFlatColumns:V(()=>[s.getAllColumns()],h=>h.flatMap(p=>p.getFlatColumns()),L(e,"debugColumns")),_getAllFlatColumnsById:V(()=>[s.getAllFlatColumns()],h=>h.reduce((p,v)=>(p[v.id]=v,p),{}),L(e,"debugColumns")),getAllLeafColumns:V(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(h,p)=>{let v=h.flatMap(m=>m.getLeafColumns());return p(v)},L(e,"debugColumns")),getColumn:h=>s._getAllFlatColumnsById()[h]};Object.assign(s,d);for(let h=0;h<s._features.length;h++){const p=s._features[h];p==null||p.createTable==null||p.createTable(s)}return s}function df(){return e=>V(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const a=[];for(let u=0;u<s.length;u++){const g=Ds(e,e._getRowId(s[u],u,o),s[u],u,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,a.push(g),e.options.getSubRows){var c;g.originalSubRows=e.options.getSubRows(s[u],u),(c=g.originalSubRows)!=null&&c.length&&(g.subRows=r(g.originalSubRows,i+1,g))}}return a};return n.rows=r(t),n},L(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function ff(e,t,n){return n.options.filterFromLeafRows?gf(e,t,n):hf(e,t,n)}function gf(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(c,u){u===void 0&&(u=0);const g=[];for(let h=0;h<c.length;h++){var d;let p=c[h];const v=Ds(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(v.columnFilters=p.columnFilters,(d=p.subRows)!=null&&d.length&&u<o){if(v.subRows=a(p.subRows,u+1),p=v,t(p)&&!v.subRows.length){g.push(p),i[p.id]=p,s.push(p);continue}if(t(p)||v.subRows.length){g.push(p),i[p.id]=p,s.push(p);continue}}else p=v,t(p)&&(g.push(p),i[p.id]=p,s.push(p))}return g};return{rows:a(e),flatRows:s,rowsById:i}}function hf(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(c,u){u===void 0&&(u=0);const g=[];for(let h=0;h<c.length;h++){let p=c[h];if(t(p)){var d;if((d=p.subRows)!=null&&d.length&&u<o){const m=Ds(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);m.subRows=a(p.subRows,u+1),p=m}g.push(p),s.push(p),i[p.id]=p}}return g};return{rows:a(e),flatRows:s,rowsById:i}}function pf(){return e=>V(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let h=0;h<t.flatRows.length;h++)t.flatRows[h].columnFilters={},t.flatRows[h].columnFiltersMeta={};return t}const s=[],i=[];(n??[]).forEach(h=>{var p;const v=e.getColumn(h.id);if(!v)return;const m=v.getFilterFn();m&&s.push({id:h.id,filterFn:m,resolvedValue:(p=m.resolveFilterValue==null?void 0:m.resolveFilterValue(h.value))!=null?p:h.value})});const o=(n??[]).map(h=>h.id),a=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());r&&a&&c.length&&(o.push("__global__"),c.forEach(h=>{var p;i.push({id:h.id,filterFn:a,resolvedValue:(p=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?p:r})}));let u,g;for(let h=0;h<t.flatRows.length;h++){const p=t.flatRows[h];if(p.columnFilters={},s.length)for(let v=0;v<s.length;v++){u=s[v];const m=u.id;p.columnFilters[m]=u.filterFn(p,m,u.resolvedValue,y=>{p.columnFiltersMeta[m]=y})}if(i.length){for(let v=0;v<i.length;v++){g=i[v];const m=g.id;if(g.filterFn(p,m,g.resolvedValue,y=>{p.columnFiltersMeta[m]=y})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const d=h=>{for(let p=0;p<o.length;p++)if(h.columnFilters[o[p]]===!1)return!1;return!0};return ff(t.rows,d,e)},L(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function mf(){return e=>V(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(c=>{var u;return(u=e.getColumn(c.id))==null?void 0:u.getCanSort()}),o={};i.forEach(c=>{const u=e.getColumn(c.id);u&&(o[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=c=>{const u=c.map(g=>({...g}));return u.sort((g,d)=>{for(let p=0;p<i.length;p+=1){var h;const v=i[p],m=o[v.id],y=m.sortUndefined,x=(h=v==null?void 0:v.desc)!=null?h:!1;let w=0;if(y){const b=g.getValue(v.id),S=d.getValue(v.id),E=b===void 0,D=S===void 0;if(E||D){if(y==="first")return E?-1:1;if(y==="last")return E?1:-1;w=E&&D?0:E?y:-y}}if(w===0&&(w=m.sortingFn(g,d,v.id)),w!==0)return x&&(w*=-1),m.invertSorting&&(w*=-1),w}return g.index-d.index}),u.forEach(g=>{var d;s.push(g),(d=g.subRows)!=null&&d.length&&(g.subRows=a(g.subRows))}),u};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},L(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function vf(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=f.useState(()=>({current:uf(t)})),[r,s]=f.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:o=>{s(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}function xf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const vr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $t(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Vs(e){return"nodeType"in e}function fe(e){var t,n;return e?$t(e)?e:Vs(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ls(e){const{Document:t}=fe(e);return e instanceof t}function bn(e){return $t(e)?!1:e instanceof fe(e).HTMLElement}function fa(e){return e instanceof fe(e).SVGElement}function kt(e){return e?$t(e)?e.document:Vs(e)?Ls(e)?e:bn(e)||fa(e)?e.ownerDocument:document:document:document}const Ae=vr?f.useLayoutEffect:f.useEffect;function Os(e){const t=f.useRef(e);return Ae(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function yf(){const e=f.useRef(null),t=f.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function rn(e,t){t===void 0&&(t=[e]);const n=f.useRef(e);return Ae(()=>{n.current!==e&&(n.current=e)},t),n}function wn(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function sr(e){const t=Os(e),n=f.useRef(null),r=f.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function xs(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let Wr={};function Cn(e,t){return f.useMemo(()=>{if(t)return t;const n=Wr[e]==null?0:Wr[e]+1;return Wr[e]=n,e+"-"+n},[e,t])}function ga(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[c,u]of a){const g=i[c];g!=null&&(i[c]=g+e*u)}return i},{...t})}}const Mt=ga(1),sn=ga(-1);function bf(e){return"clientX"in e&&"clientY"in e}function $s(e){if(!e)return!1;const{KeyboardEvent:t}=fe(e.target);return t&&e instanceof t}function wf(e){if(!e)return!1;const{TouchEvent:t}=fe(e.target);return t&&e instanceof t}function ys(e){if(wf(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return bf(e)?{x:e.clientX,y:e.clientY}:null}const on=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[on.Translate.toString(e),on.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Pi="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Cf(e){return e.matches(Pi)?e:e.querySelector(Pi)}const Sf={display:"none"};function Rf(e){let{id:t,value:n}=e;return Z.createElement("div",{id:t,style:Sf},n)}function Mf(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Z.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function Ef(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const ha=f.createContext(null);function Ff(e){const t=f.useContext(ha);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function jf(){const[e]=f.useState(()=>new Set),t=f.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[f.useCallback(r=>{let{type:s,event:i}=r;e.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[e]),t]}const _f={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Nf={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Df(e){let{announcements:t=Nf,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=_f}=e;const{announce:i,announcement:o}=Ef(),a=Cn("DndLiveRegion"),[c,u]=f.useState(!1);if(f.useEffect(()=>{u(!0)},[]),Ff(f.useMemo(()=>({onDragStart(d){let{active:h}=d;i(t.onDragStart({active:h}))},onDragMove(d){let{active:h,over:p}=d;t.onDragMove&&i(t.onDragMove({active:h,over:p}))},onDragOver(d){let{active:h,over:p}=d;i(t.onDragOver({active:h,over:p}))},onDragEnd(d){let{active:h,over:p}=d;i(t.onDragEnd({active:h,over:p}))},onDragCancel(d){let{active:h,over:p}=d;i(t.onDragCancel({active:h,over:p}))}}),[i,t])),!c)return null;const g=Z.createElement(Z.Fragment,null,Z.createElement(Rf,{id:r,value:s.draggable}),Z.createElement(Mf,{id:a,announcement:o}));return n?wt.createPortal(g,n):g}var te;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(te||(te={}));function ir(){}function Vi(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function If(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Se=Object.freeze({x:0,y:0});function pa(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ma(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Af(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Li(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function va(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Oi(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Pf=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Oi(t,t.left,t.top),i=[];for(const o of r){const{id:a}=o,c=n.get(a);if(c){const u=pa(Oi(c),s);i.push({id:a,data:{droppableContainer:o,value:u}})}}return i.sort(ma)},Vf=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Li(t),i=[];for(const o of r){const{id:a}=o,c=n.get(a);if(c){const u=Li(c),g=s.reduce((h,p,v)=>h+pa(u[v],p),0),d=Number((g/4).toFixed(4));i.push({id:a,data:{droppableContainer:o,value:d}})}}return i.sort(ma)};function Lf(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-r,a=i-n;if(r<s&&n<i){const c=t.width*t.height,u=e.width*e.height,g=o*a,d=g/(c+u-g);return Number(d.toFixed(4))}return 0}const Of=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const c=Lf(a,t);c>0&&s.push({id:o,data:{droppableContainer:i,value:c}})}}return s.sort(Af)};function $f(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function xa(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Se}function kf(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const Tf=kf(1);function zf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Bf(e,t,n){const r=zf(t);if(!r)return e;const{scaleX:s,scaleY:i,x:o,y:a}=r,c=e.left-o-(1-s)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),g=s?e.width/s:e.width,d=i?e.height/i:e.height;return{width:g,height:d,top:u,right:c+g,bottom:u+d,left:c}}const Hf={ignoreTransform:!1};function Tt(e,t){t===void 0&&(t=Hf);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:g}=fe(e).getComputedStyle(e);u&&(n=Bf(n,u,g))}const{top:r,left:s,width:i,height:o,bottom:a,right:c}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:c}}function $i(e){return Tt(e,{ignoreTransform:!0})}function Gf(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Uf(e,t){return t===void 0&&(t=fe(e).getComputedStyle(e)),t.position==="fixed"}function Wf(e,t){t===void 0&&(t=fe(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function xr(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Ls(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!bn(s)||fa(s)||n.includes(s))return n;const i=fe(e).getComputedStyle(s);return s!==e&&Wf(s,i)&&n.push(s),Uf(s,i)?n:r(s.parentNode)}return e?r(e):n}function ya(e){const[t]=xr(e,1);return t??null}function qr(e){return!vr||!e?null:$t(e)?e:Vs(e)?Ls(e)||e===kt(e).scrollingElement?window:bn(e)?e:null:null}function ba(e){return $t(e)?e.scrollX:e.scrollLeft}function wa(e){return $t(e)?e.scrollY:e.scrollTop}function bs(e){return{x:ba(e),y:wa(e)}}var re;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(re||(re={}));function Ca(e){return!vr||!e?!1:e===document.scrollingElement}function Sa(e){const t={x:0,y:0},n=Ca(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const qf={x:.2,y:.2};function Kf(e,t,n,r,s){let{top:i,left:o,right:a,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=qf);const{isTop:u,isBottom:g,isLeft:d,isRight:h}=Sa(e),p={x:0,y:0},v={x:0,y:0},m={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+m.height?(p.y=re.Backward,v.y=r*Math.abs((t.top+m.height-i)/m.height)):!g&&c>=t.bottom-m.height&&(p.y=re.Forward,v.y=r*Math.abs((t.bottom-m.height-c)/m.height)),!h&&a>=t.right-m.width?(p.x=re.Forward,v.x=r*Math.abs((t.right-m.width-a)/m.width)):!d&&o<=t.left+m.width&&(p.x=re.Backward,v.x=r*Math.abs((t.left+m.width-o)/m.width)),{direction:p,speed:v}}function Xf(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Ra(e){return e.reduce((t,n)=>Mt(t,bs(n)),Se)}function Qf(e){return e.reduce((t,n)=>t+ba(n),0)}function Zf(e){return e.reduce((t,n)=>t+wa(n),0)}function Yf(e,t){if(t===void 0&&(t=Tt),!e)return;const{top:n,left:r,bottom:s,right:i}=t(e);ya(e)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Jf=[["x",["left","right"],Qf],["y",["top","bottom"],Zf]];class ks{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=xr(n),s=Ra(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of Jf)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=a(r),g=s[i]-u;return this.rect[c]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Yt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function eg(e){const{EventTarget:t}=fe(e);return e instanceof t?e:kt(e)}function Kr(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ye;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ye||(ye={}));function ki(e){e.preventDefault()}function tg(e){e.stopPropagation()}var H;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(H||(H={}));const Ma={start:[H.Space,H.Enter],cancel:[H.Esc],end:[H.Space,H.Enter,H.Tab]},ng=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case H.Right:return{...n,x:n.x+25};case H.Left:return{...n,x:n.x-25};case H.Down:return{...n,y:n.y+25};case H.Up:return{...n,y:n.y-25}}};class Ts{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Yt(kt(n)),this.windowListeners=new Yt(fe(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ye.Resize,this.handleCancel),this.windowListeners.add(ye.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ye.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Yf(r),n(Se)}handleKeyDown(t){if($s(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=Ma,coordinateGetter:o=ng,scrollBehavior:a="smooth"}=s,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,g=u?{x:u.left,y:u.top}:Se;this.referenceCoordinates||(this.referenceCoordinates=g);const d=o(t,{active:n,context:r.current,currentCoordinates:g});if(d){const h=sn(d,g),p={x:0,y:0},{scrollableAncestors:v}=r.current;for(const m of v){const y=t.code,{isTop:x,isRight:w,isLeft:b,isBottom:S,maxScroll:E,minScroll:D}=Sa(m),j=Xf(m),_={x:Math.min(y===H.Right?j.right-j.width/2:j.right,Math.max(y===H.Right?j.left:j.left+j.width/2,d.x)),y:Math.min(y===H.Down?j.bottom-j.height/2:j.bottom,Math.max(y===H.Down?j.top:j.top+j.height/2,d.y))},R=y===H.Right&&!w||y===H.Left&&!b,I=y===H.Down&&!S||y===H.Up&&!x;if(R&&_.x!==d.x){const N=m.scrollLeft+h.x,$=y===H.Right&&N<=E.x||y===H.Left&&N>=D.x;if($&&!h.y){m.scrollTo({left:N,behavior:a});return}$?p.x=m.scrollLeft-N:p.x=y===H.Right?m.scrollLeft-E.x:m.scrollLeft-D.x,p.x&&m.scrollBy({left:-p.x,behavior:a});break}else if(I&&_.y!==d.y){const N=m.scrollTop+h.y,$=y===H.Down&&N<=E.y||y===H.Up&&N>=D.y;if($&&!h.x){m.scrollTo({top:N,behavior:a});return}$?p.y=m.scrollTop-N:p.y=y===H.Down?m.scrollTop-E.y:m.scrollTop-D.y,p.y&&m.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(t,Mt(sn(d,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ts.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Ma,onActivation:s}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Ti(e){return!!(e&&"distance"in e)}function zi(e){return!!(e&&"delay"in e)}class zs{constructor(t,n,r){var s;r===void 0&&(r=eg(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=kt(o),this.documentListeners=new Yt(this.document),this.listeners=new Yt(r),this.windowListeners=new Yt(fe(o)),this.initialCoordinates=(s=ys(i))!=null?s:Se,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ye.Resize,this.handleCancel),this.windowListeners.add(ye.DragStart,ki),this.windowListeners.add(ye.VisibilityChange,this.handleCancel),this.windowListeners.add(ye.ContextMenu,ki),this.documentListeners.add(ye.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(zi(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ti(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ye.Click,tg,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ye.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const c=(n=ys(t))!=null?n:Se,u=sn(s,c);if(!r&&a){if(Ti(a)){if(a.tolerance!=null&&Kr(u,a.tolerance))return this.handleCancel();if(Kr(u,a.distance))return this.handleStart()}if(zi(a)&&Kr(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===H.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const rg={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Bs extends zs{constructor(t){const{event:n}=t,r=kt(n.target);super(t,rg,r)}}Bs.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const sg={move:{name:"mousemove"},end:{name:"mouseup"}};var ws;(function(e){e[e.RightClick=2]="RightClick"})(ws||(ws={}));class ig extends zs{constructor(t){super(t,sg,kt(t.event.target))}}ig.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ws.RightClick?!1:(r==null||r({event:n}),!0)}}];const Xr={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class og extends zs{constructor(t){super(t,Xr)}static setup(){return window.addEventListener(Xr.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Xr.move.name,t)};function t(){}}}og.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Jt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Jt||(Jt={}));var or;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(or||(or={}));function ag(e){let{acceleration:t,activator:n=Jt.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=or.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:g,delta:d,threshold:h}=e;const p=cg({delta:d,disabled:!i}),[v,m]=yf(),y=f.useRef({x:0,y:0}),x=f.useRef({x:0,y:0}),w=f.useMemo(()=>{switch(n){case Jt.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Jt.DraggableRect:return s}},[n,s,c]),b=f.useRef(null),S=f.useCallback(()=>{const D=b.current;if(!D)return;const j=y.current.x*x.current.x,_=y.current.y*x.current.y;D.scrollBy(j,_)},[]),E=f.useMemo(()=>a===or.TreeOrder?[...u].reverse():u,[a,u]);f.useEffect(()=>{if(!i||!u.length||!w){m();return}for(const D of E){if((r==null?void 0:r(D))===!1)continue;const j=u.indexOf(D),_=g[j];if(!_)continue;const{direction:R,speed:I}=Kf(D,_,w,t,h);for(const N of["x","y"])p[N][R[N]]||(I[N]=0,R[N]=0);if(I.x>0||I.y>0){m(),b.current=D,v(S,o),y.current=I,x.current=R;return}}y.current={x:0,y:0},x.current={x:0,y:0},m()},[t,S,r,m,i,o,JSON.stringify(w),JSON.stringify(p),v,u,E,g,JSON.stringify(h)])}const lg={x:{[re.Backward]:!1,[re.Forward]:!1},y:{[re.Backward]:!1,[re.Forward]:!1}};function cg(e){let{delta:t,disabled:n}=e;const r=xs(t);return wn(s=>{if(n||!r||!s)return lg;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[re.Backward]:s.x[re.Backward]||i.x===-1,[re.Forward]:s.x[re.Forward]||i.x===1},y:{[re.Backward]:s.y[re.Backward]||i.y===-1,[re.Forward]:s.y[re.Forward]||i.y===1}}},[n,t,r])}function ug(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return wn(s=>{var i;return t==null?null:(i=r??s)!=null?i:null},[r,t])}function dg(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var an;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(an||(an={}));var Cs;(function(e){e.Optimized="optimized"})(Cs||(Cs={}));const Bi=new Map;function fg(e,t){let{dragging:n,dependencies:r,config:s}=t;const[i,o]=f.useState(null),{frequency:a,measure:c,strategy:u}=s,g=f.useRef(e),d=y(),h=rn(d),p=f.useCallback(function(x){x===void 0&&(x=[]),!h.current&&o(w=>w===null?x:w.concat(x.filter(b=>!w.includes(b))))},[h]),v=f.useRef(null),m=wn(x=>{if(d&&!n)return Bi;if(!x||x===Bi||g.current!==e||i!=null){const w=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){w.set(b.id,b.rect.current);continue}const S=b.node.current,E=S?new ks(c(S),S):null;b.rect.current=E,E&&w.set(b.id,E)}return w}return x},[e,i,n,d,c]);return f.useEffect(()=>{g.current=e},[e]),f.useEffect(()=>{d||p()},[n,d]),f.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),f.useEffect(()=>{d||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{p(),v.current=null},a))},[a,d,p,...r]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:i!=null};function y(){switch(u){case an.Always:return!1;case an.BeforeDragging:return n;default:return!n}}}function Ea(e,t){return wn(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function gg(e,t){return Ea(e,t)}function hg(e){let{callback:t,disabled:n}=e;const r=Os(t),s=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return f.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function yr(e){let{callback:t,disabled:n}=e;const r=Os(t),s=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return f.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function pg(e){return new ks(Tt(e),e)}function Hi(e,t,n){t===void 0&&(t=pg);const[r,s]=f.useState(null);function i(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const g=t(e);return JSON.stringify(c)===JSON.stringify(g)?c:g})}const o=hg({callback(c){if(e)for(const u of c){const{type:g,target:d}=u;if(g==="childList"&&d instanceof HTMLElement&&d.contains(e)){i();break}}}}),a=yr({callback:i});return Ae(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r}function mg(e){const t=Ea(e);return xa(e,t)}const Gi=[];function vg(e){const t=f.useRef(e),n=wn(r=>e?r&&r!==Gi&&e&&t.current&&e.parentNode===t.current.parentNode?r:xr(e):Gi,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function xg(e){const[t,n]=f.useState(null),r=f.useRef(e),s=f.useCallback(i=>{const o=qr(i.target);o&&n(a=>a?(a.set(o,bs(o)),new Map(a)):null)},[]);return f.useEffect(()=>{const i=r.current;if(e!==i){o(i);const a=e.map(c=>{const u=qr(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,bs(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(c=>{const u=qr(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Mt(i,o),Se):Ra(e):Se,[e,t])}function Ui(e,t){t===void 0&&(t=[]);const n=f.useRef(null);return f.useEffect(()=>{n.current=null},t),f.useEffect(()=>{const r=e!==Se;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?sn(e,n.current):Se}function yg(e){f.useEffect(()=>{if(!vr)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function bg(e,t){return f.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,t)},n},{}),[e,t])}function Fa(e){return f.useMemo(()=>e?Gf(e):null,[e])}const Wi=[];function wg(e,t){t===void 0&&(t=Tt);const[n]=e,r=Fa(n?fe(n):null),[s,i]=f.useState(Wi);function o(){i(()=>e.length?e.map(c=>Ca(c)?r:new ks(t(c),c)):Wi)}const a=yr({callback:o});return Ae(()=>{a==null||a.disconnect(),o(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),s}function Cg(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return bn(t)?t:e}function Sg(e){let{measure:t}=e;const[n,r]=f.useState(null),s=f.useCallback(u=>{for(const{target:g}of u)if(bn(g)){r(d=>{const h=t(g);return d?{...d,width:h.width,height:h.height}:h});break}},[t]),i=yr({callback:s}),o=f.useCallback(u=>{const g=Cg(u);i==null||i.disconnect(),g&&(i==null||i.observe(g)),r(g?t(g):null)},[t,i]),[a,c]=sr(o);return f.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const Rg=[{sensor:Bs,options:{}},{sensor:Ts,options:{}}],Mg={current:{}},Zn={draggable:{measure:$i},droppable:{measure:$i,strategy:an.WhileDragging,frequency:Cs.Optimized},dragOverlay:{measure:Tt}};class en extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Eg={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new en,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ir},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zn,measureDroppableContainers:ir,windowRect:null,measuringScheduled:!1},Fg={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ir,draggableNodes:new Map,over:null,measureDroppableContainers:ir},br=f.createContext(Fg),ja=f.createContext(Eg);function jg(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new en}}}function _g(e,t){switch(t.type){case te.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case te.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case te.DragEnd:case te.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case te.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new en(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case te.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new en(e.droppable.containers);return o.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case te.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new en(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Ng(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=f.useContext(br),i=xs(r),o=xs(n==null?void 0:n.id);return f.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!$s(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const g of[c.current,u.current]){if(!g)continue;const d=Cf(g);if(d){d.focus();break}}})}},[r,t,s,o,i]),null}function Dg(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...r}),n):n}function Ig(e){return f.useMemo(()=>({draggable:{...Zn.draggable,...e==null?void 0:e.draggable},droppable:{...Zn.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Zn.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Ag(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const i=f.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Ae(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const g=n(u),d=xa(g,r);if(o||(d.x=0),a||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=ya(u);h&&h.scrollBy({top:d.y,left:d.x})}},[t,o,a,r,n])}const _a=f.createContext({...Se,scaleX:1,scaleY:1});var We;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(We||(We={}));const Pg=f.memo(function(t){var n,r,s,i;let{id:o,accessibility:a,autoScroll:c=!0,children:u,sensors:g=Rg,collisionDetection:d=Of,measuring:h,modifiers:p,...v}=t;const m=f.useReducer(_g,void 0,jg),[y,x]=m,[w,b]=jf(),[S,E]=f.useState(We.Uninitialized),D=S===We.Initialized,{draggable:{active:j,nodes:_,translate:R},droppable:{containers:I}}=y,N=j!=null?_.get(j):null,$=f.useRef({initial:null,translated:null}),T=f.useMemo(()=>{var oe;return j!=null?{id:j,data:(oe=N==null?void 0:N.data)!=null?oe:Mg,rect:$}:null},[j,N]),P=f.useRef(null),[G,Y]=f.useState(null),[Q,C]=f.useState(null),O=rn(v,Object.values(v)),ee=Cn("DndDescribedBy",o),Me=f.useMemo(()=>I.getEnabled(),[I]),ie=Ig(h),{droppableRects:ve,measureDroppableContainers:Ee,measuringScheduled:M}=fg(Me,{dragging:D,dependencies:[R.x,R.y],config:ie.droppable}),A=ug(_,j),z=f.useMemo(()=>Q?ys(Q):null,[Q]),J=Ha(),ce=gg(A,ie.draggable.measure);Ag({activeNode:j!=null?_.get(j):null,config:J.layoutShiftCompensation,initialRect:ce,measure:ie.draggable.measure});const k=Hi(A,ie.draggable.measure,ce),ne=Hi(A?A.parentElement:null),Fe=f.useRef({activatorEvent:null,active:null,activeNode:A,collisionRect:null,collisions:null,droppableRects:ve,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),dt=I.getNodeFor((n=Fe.current.over)==null?void 0:n.id),Pe=Sg({measure:ie.dragOverlay.measure}),ft=(r=Pe.nodeRef.current)!=null?r:A,gt=D?(s=Pe.rect)!=null?s:k:null,Gs=!!(Pe.nodeRef.current&&Pe.rect),Us=mg(Gs?null:k),wr=Fa(ft?fe(ft):null),Te=vg(D?dt??A:null),Sn=wg(Te),Rn=Dg(p,{transform:{x:R.x-Us.x,y:R.y-Us.y,scaleX:1,scaleY:1},activatorEvent:Q,active:T,activeNodeRect:k,containerNodeRect:ne,draggingNodeRect:gt,over:Fe.current.over,overlayNodeRect:Pe.rect,scrollableAncestors:Te,scrollableAncestorRects:Sn,windowRect:wr}),Ws=z?Mt(z,R):null,qs=xg(Te),La=Ui(qs),Oa=Ui(qs,[k]),ht=Mt(Rn,La),pt=gt?Tf(gt,Rn):null,zt=T&&pt?d({active:T,collisionRect:pt,droppableRects:ve,droppableContainers:Me,pointerCoordinates:Ws}):null,Ks=va(zt,"id"),[ze,Xs]=f.useState(null),$a=Gs?Rn:Mt(Rn,Oa),ka=$f($a,(i=ze==null?void 0:ze.rect)!=null?i:null,k),Cr=f.useRef(null),Qs=f.useCallback((oe,ge)=>{let{sensor:he,options:Be}=ge;if(P.current==null)return;const xe=_.get(P.current);if(!xe)return;const pe=oe.nativeEvent,je=new he({active:P.current,activeNode:xe,event:pe,options:Be,context:Fe,onAbort(se){if(!_.get(se))return;const{onDragAbort:_e}=O.current,Ve={id:se};_e==null||_e(Ve),w({type:"onDragAbort",event:Ve})},onPending(se,He,_e,Ve){if(!_.get(se))return;const{onDragPending:Ht}=O.current,Ge={id:se,constraint:He,initialCoordinates:_e,offset:Ve};Ht==null||Ht(Ge),w({type:"onDragPending",event:Ge})},onStart(se){const He=P.current;if(He==null)return;const _e=_.get(He);if(!_e)return;const{onDragStart:Ve}=O.current,Bt={activatorEvent:pe,active:{id:He,data:_e.data,rect:$}};wt.unstable_batchedUpdates(()=>{Ve==null||Ve(Bt),E(We.Initializing),x({type:te.DragStart,initialCoordinates:se,active:He}),w({type:"onDragStart",event:Bt}),Y(Cr.current),C(pe)})},onMove(se){x({type:te.DragMove,coordinates:se})},onEnd:mt(te.DragEnd),onCancel:mt(te.DragCancel)});Cr.current=je;function mt(se){return async function(){const{active:_e,collisions:Ve,over:Bt,scrollAdjustedTranslate:Ht}=Fe.current;let Ge=null;if(_e&&Ht){const{cancelDrop:Gt}=O.current;Ge={activatorEvent:pe,active:_e,collisions:Ve,delta:Ht,over:Bt},se===te.DragEnd&&typeof Gt=="function"&&await Promise.resolve(Gt(Ge))&&(se=te.DragCancel)}P.current=null,wt.unstable_batchedUpdates(()=>{x({type:se}),E(We.Uninitialized),Xs(null),Y(null),C(null),Cr.current=null;const Gt=se===te.DragEnd?"onDragEnd":"onDragCancel";if(Ge){const Sr=O.current[Gt];Sr==null||Sr(Ge),w({type:Gt,event:Ge})}})}}},[_]),Ta=f.useCallback((oe,ge)=>(he,Be)=>{const xe=he.nativeEvent,pe=_.get(Be);if(P.current!==null||!pe||xe.dndKit||xe.defaultPrevented)return;const je={active:pe};oe(he,ge.options,je)===!0&&(xe.dndKit={capturedBy:ge.sensor},P.current=Be,Qs(he,ge))},[_,Qs]),Zs=dg(g,Ta);yg(g),Ae(()=>{k&&S===We.Initializing&&E(We.Initialized)},[k,S]),f.useEffect(()=>{const{onDragMove:oe}=O.current,{active:ge,activatorEvent:he,collisions:Be,over:xe}=Fe.current;if(!ge||!he)return;const pe={active:ge,activatorEvent:he,collisions:Be,delta:{x:ht.x,y:ht.y},over:xe};wt.unstable_batchedUpdates(()=>{oe==null||oe(pe),w({type:"onDragMove",event:pe})})},[ht.x,ht.y]),f.useEffect(()=>{const{active:oe,activatorEvent:ge,collisions:he,droppableContainers:Be,scrollAdjustedTranslate:xe}=Fe.current;if(!oe||P.current==null||!ge||!xe)return;const{onDragOver:pe}=O.current,je=Be.get(Ks),mt=je&&je.rect.current?{id:je.id,rect:je.rect.current,data:je.data,disabled:je.disabled}:null,se={active:oe,activatorEvent:ge,collisions:he,delta:{x:xe.x,y:xe.y},over:mt};wt.unstable_batchedUpdates(()=>{Xs(mt),pe==null||pe(se),w({type:"onDragOver",event:se})})},[Ks]),Ae(()=>{Fe.current={activatorEvent:Q,active:T,activeNode:A,collisionRect:pt,collisions:zt,droppableRects:ve,draggableNodes:_,draggingNode:ft,draggingNodeRect:gt,droppableContainers:I,over:ze,scrollableAncestors:Te,scrollAdjustedTranslate:ht},$.current={initial:gt,translated:pt}},[T,A,zt,pt,_,ft,gt,ve,I,ze,Te,ht]),ag({...J,delta:R,draggingRect:pt,pointerCoordinates:Ws,scrollableAncestors:Te,scrollableAncestorRects:Sn});const za=f.useMemo(()=>({active:T,activeNode:A,activeNodeRect:k,activatorEvent:Q,collisions:zt,containerNodeRect:ne,dragOverlay:Pe,draggableNodes:_,droppableContainers:I,droppableRects:ve,over:ze,measureDroppableContainers:Ee,scrollableAncestors:Te,scrollableAncestorRects:Sn,measuringConfiguration:ie,measuringScheduled:M,windowRect:wr}),[T,A,k,Q,zt,ne,Pe,_,I,ve,ze,Ee,Te,Sn,ie,M,wr]),Ba=f.useMemo(()=>({activatorEvent:Q,activators:Zs,active:T,activeNodeRect:k,ariaDescribedById:{draggable:ee},dispatch:x,draggableNodes:_,over:ze,measureDroppableContainers:Ee}),[Q,Zs,T,k,x,ee,_,ze,Ee]);return Z.createElement(ha.Provider,{value:b},Z.createElement(br.Provider,{value:Ba},Z.createElement(ja.Provider,{value:za},Z.createElement(_a.Provider,{value:ka},u)),Z.createElement(Ng,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Z.createElement(Df,{...a,hiddenTextDescribedById:ee}));function Ha(){const oe=(G==null?void 0:G.autoScrollEnabled)===!1,ge=typeof c=="object"?c.enabled===!1:c===!1,he=D&&!oe&&!ge;return typeof c=="object"?{...c,enabled:he}:{enabled:he}}}),Vg=f.createContext(null),qi="button",Lg="Draggable";function Og(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const i=Cn(Lg),{activators:o,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:g,draggableNodes:d,over:h}=f.useContext(br),{role:p=qi,roleDescription:v="draggable",tabIndex:m=0}=s??{},y=(c==null?void 0:c.id)===t,x=f.useContext(y?_a:Vg),[w,b]=sr(),[S,E]=sr(),D=bg(o,t),j=rn(n);Ae(()=>(d.set(t,{id:t,key:i,node:w,activatorNode:S,data:j}),()=>{const R=d.get(t);R&&R.key===i&&d.delete(t)}),[d,t]);const _=f.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":r,"aria-pressed":y&&p===qi?!0:void 0,"aria-roledescription":v,"aria-describedby":g.draggable}),[r,p,m,y,v,g.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:_,isDragging:y,listeners:r?void 0:D,node:w,over:h,setNodeRef:b,setActivatorNodeRef:E,transform:x}}function $g(){return f.useContext(ja)}const kg="Droppable",Tg={timeout:25};function zg(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const i=Cn(kg),{active:o,dispatch:a,over:c,measureDroppableContainers:u}=f.useContext(br),g=f.useRef({disabled:n}),d=f.useRef(!1),h=f.useRef(null),p=f.useRef(null),{disabled:v,updateMeasurementsFor:m,timeout:y}={...Tg,...s},x=rn(m??r),w=f.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),p.current=null},y)},[y]),b=yr({callback:w,disabled:v||!o}),S=f.useCallback((_,R)=>{b&&(R&&(b.unobserve(R),d.current=!1),_&&b.observe(_))},[b]),[E,D]=sr(S),j=rn(t);return f.useEffect(()=>{!b||!E.current||(b.disconnect(),d.current=!1,b.observe(E.current))},[E,b]),f.useEffect(()=>(a({type:te.RegisterDroppable,element:{id:r,key:i,disabled:n,node:E,rect:h,data:j}}),()=>a({type:te.UnregisterDroppable,key:i,id:r})),[r]),f.useEffect(()=>{n!==g.current.disabled&&(a({type:te.SetDroppableDisabled,id:r,key:i,disabled:n}),g.current.disabled=n)},[r,i,n,a]),{active:o,rect:h,isOver:(c==null?void 0:c.id)===r,node:E,over:c,setNodeRef:D}}function Hs(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Bg(e,t){return e.reduce((n,r,s)=>{const i=t.get(r);return i&&(n[s]=i),n},Array(e.length))}function Gn(e){return e!==null&&e>=0}function Hg(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Gg(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Un={scaleX:1,scaleY:1},Ug=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:s,overIndex:i,index:o}=e;const a=(t=n[s])!=null?t:r;if(!a)return null;const c=Wg(n,o,s);if(o===s){const u=n[i];return u?{x:s<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...Un}:null}return o>s&&o<=i?{x:-a.width-c,y:0,...Un}:o<s&&o>=i?{x:a.width+c,y:0,...Un}:{x:0,y:0,...Un}};function Wg(e,t,n){const r=e[t],s=e[t-1],i=e[t+1];return!r||!s&&!i?0:n<t?s?r.left-(s.left+s.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(s.left+s.width)}const Na=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const i=Hs(t,r,n),o=t[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Da="Sortable",Ia=Z.createContext({activeIndex:-1,containerId:Da,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Na,disabled:{draggable:!1,droppable:!1}});function qg(e){let{children:t,id:n,items:r,strategy:s=Na,disabled:i=!1}=e;const{active:o,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:g}=$g(),d=Cn(Da,n),h=a.rect!==null,p=f.useMemo(()=>r.map(D=>typeof D=="object"&&"id"in D?D.id:D),[r]),v=o!=null,m=o?p.indexOf(o.id):-1,y=u?p.indexOf(u.id):-1,x=f.useRef(p),w=!Hg(p,x.current),b=y!==-1&&m===-1||w,S=Gg(i);Ae(()=>{w&&v&&g(p)},[w,p,v,g]),f.useEffect(()=>{x.current=p},[p]);const E=f.useMemo(()=>({activeIndex:m,containerId:d,disabled:S,disableTransforms:b,items:p,overIndex:y,useDragOverlay:h,sortedRects:Bg(p,c),strategy:s}),[m,d,S.draggable,S.droppable,b,p,y,c,h,s]);return Z.createElement(Ia.Provider,{value:E},t)}const Kg=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return Hs(n,r,s).indexOf(t)},Xg=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==i&&s===o?!1:n?!0:o!==s&&t===c},Qg={duration:200,easing:"ease"},Aa="transform",Zg=on.Transition.toString({property:Aa,duration:0,easing:"linear"}),Yg={roleDescription:"sortable"};function Jg(e){let{disabled:t,index:n,node:r,rect:s}=e;const[i,o]=f.useState(null),a=f.useRef(n);return Ae(()=>{if(!t&&n!==a.current&&r.current){const c=s.current;if(c){const u=Tt(r.current,{ignoreTransform:!0}),g={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(g.x||g.y)&&o(g)}}n!==a.current&&(a.current=n)},[t,n,r,s]),f.useEffect(()=>{i&&o(null)},[i]),i}function eh(e){let{animateLayoutChanges:t=Xg,attributes:n,disabled:r,data:s,getNewIndex:i=Kg,id:o,strategy:a,resizeObserverConfig:c,transition:u=Qg}=e;const{items:g,containerId:d,activeIndex:h,disabled:p,disableTransforms:v,sortedRects:m,overIndex:y,useDragOverlay:x,strategy:w}=f.useContext(Ia),b=th(r,p),S=g.indexOf(o),E=f.useMemo(()=>({sortable:{containerId:d,index:S,items:g},...s}),[d,s,S,g]),D=f.useMemo(()=>g.slice(g.indexOf(o)),[g,o]),{rect:j,node:_,isOver:R,setNodeRef:I}=zg({id:o,data:E,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...c}}),{active:N,activatorEvent:$,activeNodeRect:T,attributes:P,setNodeRef:G,listeners:Y,isDragging:Q,over:C,setActivatorNodeRef:O,transform:ee}=Og({id:o,data:E,attributes:{...Yg,...n},disabled:b.draggable}),Me=xf(I,G),ie=!!N,ve=ie&&!v&&Gn(h)&&Gn(y),Ee=!x&&Q,M=Ee&&ve?ee:null,z=ve?M??(a??w)({rects:m,activeNodeRect:T,activeIndex:h,overIndex:y,index:S}):null,J=Gn(h)&&Gn(y)?i({id:o,items:g,activeIndex:h,overIndex:y}):S,ce=N==null?void 0:N.id,k=f.useRef({activeId:ce,items:g,newIndex:J,containerId:d}),ne=g!==k.current.items,Fe=t({active:N,containerId:d,isDragging:Q,isSorting:ie,id:o,index:S,items:g,newIndex:k.current.newIndex,previousItems:k.current.items,previousContainerId:k.current.containerId,transition:u,wasDragging:k.current.activeId!=null}),dt=Jg({disabled:!Fe,index:S,node:_,rect:j});return f.useEffect(()=>{ie&&k.current.newIndex!==J&&(k.current.newIndex=J),d!==k.current.containerId&&(k.current.containerId=d),g!==k.current.items&&(k.current.items=g)},[ie,J,d,g]),f.useEffect(()=>{if(ce===k.current.activeId)return;if(ce!=null&&k.current.activeId==null){k.current.activeId=ce;return}const ft=setTimeout(()=>{k.current.activeId=ce},50);return()=>clearTimeout(ft)},[ce]),{active:N,activeIndex:h,attributes:P,data:E,rect:j,index:S,newIndex:J,items:g,isOver:R,isSorting:ie,isDragging:Q,listeners:Y,node:_,overIndex:y,over:C,setNodeRef:Me,setActivatorNodeRef:O,setDroppableNodeRef:I,setDraggableNodeRef:G,transform:dt??z,transition:Pe()};function Pe(){if(dt||ne&&k.current.newIndex===S)return Zg;if(!(Ee&&!$s($)||!u)&&(ie||Fe))return on.Transition.toString({...u,property:Aa})}}function th(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function ar(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const nh=[H.Down,H.Right,H.Up,H.Left],rh=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:i,over:o,scrollableAncestors:a}}=t;if(nh.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=s.get(d.id);if(h)switch(e.code){case H.Down:r.top<h.top&&c.push(d);break;case H.Up:r.top>h.top&&c.push(d);break;case H.Left:r.left>h.left&&c.push(d);break;case H.Right:r.left<h.left&&c.push(d);break}});const u=Vf({active:n,collisionRect:r,droppableRects:s,droppableContainers:c,pointerCoordinates:null});let g=va(u,"id");if(g===(o==null?void 0:o.id)&&u.length>1&&(g=u[1].id),g!=null){const d=i.get(n.id),h=i.get(g),p=h?s.get(h.id):null,v=h==null?void 0:h.node.current;if(v&&p&&d&&h){const y=xr(v).some((D,j)=>a[j]!==D),x=Pa(d,h),w=sh(d,h),b=y||!x?{x:0,y:0}:{x:w?r.width-p.width:0,y:w?r.height-p.height:0},S={x:p.left,y:p.top};return b.x&&b.y?S:sn(S,b)}}}};function Pa(e,t){return!ar(e)||!ar(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function sh(e,t){return!ar(e)||!ar(t)||!Pa(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const ih=({value:e,onChange:t,multiple:n=!1,mediaType:r="image"})=>{const[s,i]=f.useState({}),[o,a]=f.useState({}),[c,u]=f.useState(null),[g,d]=f.useState(!1),h=R=>R.type==="image"||R.url.match(/\.(jpg|jpeg|png|gif|webp|svg|bmp|tiff|ico)$/i)!==null,p=R=>R.type==="video"||R.url.match(/\.(mp4|webm|ogg|avi|mov|wmv|flv|mkv|m4v|3gp|ogv)$/i)!==null;console.log(r,e,s,o);const v=R=>R.type==="audio"||R.url.match(/\.(mp3|wav|ogg|aac|flac|wma|m4a|opus)$/i)!==null,m=R=>R&&p(R)?l.jsx(wi,{className:"w-6 h-6 text-gray-400"}):R&&v(R)?l.jsx(Pr,{className:"w-6 h-6 text-gray-400"}):l.jsx(yi,{className:"w-6 h-6 text-gray-400"}),y=R=>p(R)?"Video file":v(R)?"Audio file":h(R)?"Image file":"Media file",x=f.useCallback(R=>{u(R),d(!0)},[]),w=f.useCallback(()=>{u(null),d(!1)},[]),b=f.useCallback(async R=>{var T;if(!((T=window.wp)!=null&&T.media))return;const I={},N={},$=R.filter(P=>!s[P]&&!o[P]);if($.length!==0){$.forEach(P=>{N[P]=!0}),a(P=>({...P,...N}));for(const P of $)try{const G=window.wp.media.attachment(P);await G.fetch();const Y={id:P,url:G.get("url")||"",filename:G.get("filename")||"",alt:G.get("alt")||"",caption:G.get("caption")||"",title:G.get("title")||"",type:G.get("type")||r};I[P]=Y}catch(G){console.error(`Failed to fetch media data for ID ${P}:`,G),I[P]={id:P,url:"",filename:`Media ${P}`,title:`Media ${P}`,type:r}}i(P=>({...P,...I})),a(P=>{const G={...P};return $.forEach(Y=>{G[Y]=!1}),G})}},[r]);f.useEffect(()=>{const R=[];e&&(Array.isArray(e)?R.push(...e):R.push(e)),R.length>0&&b(R)},[e,b]);const S=f.useCallback(()=>{var I;if(!((I=window.wp)!=null&&I.media)){console.error("WordPress media library is not available");return}const R=window.wp.media({title:n?`Select ${r==="video"?"Video":r==="audio"?"Audio":"Media"} Files`:`Select ${r==="video"?"Video":r==="audio"?"Audio":"Media"} File`,button:{text:`Use Selected ${r==="video"?"Video":r==="audio"?"Audio":"Media"}`},multiple:n,library:{type:r}});R.on("open",()=>{document.body.classList.add("wp-media-library-open")}),R.on("select",()=>{const N=R.state().get("selection").toJSON();if(n){const $=N.map(T=>T.id.toString());t($)}else{const $=N[0];$&&t($.id.toString())}}),R.on("close",()=>{document.body.classList.remove("wp-media-library-open")}),R.open()},[n,r,t]),E=f.useCallback(R=>{if(n&&Array.isArray(e)&&typeof R=="number"){const I=e.filter((N,$)=>$!==R);t(I.length>0?I:null)}else t(null)},[n,e,t]),D=(R,I)=>{const N=s[R];if(o[R])return l.jsx("div",{className:"relative border border-gray-300 rounded-lg p-2 bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[" ",l.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center animate-pulse",children:m()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-2/3"})]})]})},R);if(!N)return l.jsx("div",{className:"relative border border-red-300 rounded-lg p-2 bg-red-50",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-16 h-16 bg-red-200 rounded flex items-center justify-center",children:l.jsx(In,{className:"w-6 h-6 text-red-400"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-red-900",children:"Media not found"}),l.jsxs("p",{className:"text-sm text-red-600",children:["ID: ",R]})]}),l.jsx("button",{type:"button",onClick:()=>E(I),className:"p-1 text-red-500 hover:text-red-700",title:"Remove media",children:l.jsx(In,{className:"w-4 h-4"})})]})},R);const T=h(N),P=p(N),G=v(N);return l.jsx("div",{className:"relative group border border-gray-300 rounded-lg p-2 bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[T&&N.url?l.jsx("img",{src:N.url,alt:N.alt||N.filename,className:"w-16 h-16 object-cover rounded"}):P&&N.url?l.jsxs("div",{className:"relative w-16 h-16 rounded overflow-hidden group cursor-pointer",onClick:()=>x(N.url),title:"Click to preview video",children:[l.jsx("video",{src:N.url,className:"w-full h-full object-cover",preload:"metadata",muted:!0,poster:N.url+"#t=0.5"}),l.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center transition-opacity group-hover:bg-opacity-50",children:[l.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:l.jsx(bi,{className:"w-3 h-3 text-gray-800 ml-0.5"})})," "]})]}):G&&N.url?l.jsxs("div",{className:"relative w-16 h-16 rounded overflow-hidden group cursor-pointer bg-blue-50",onClick:()=>x(N.url),title:"Click to preview audio",children:[l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Pr,{className:"w-8 h-8 text-blue-600"})}),l.jsx("div",{className:"absolute inset-0 bg-blue-600 bg-opacity-20 flex items-center justify-center transition-opacity group-hover:bg-opacity-30",children:l.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:l.jsx(bi,{className:"w-3 h-3 text-gray-800 ml-0.5"})})})]}):l.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:m(N)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.title||N.filename})," ",l.jsx("p",{className:"text-sm text-gray-500 truncate",children:N.filename})," ",(P||T||G)&&l.jsx("p",{className:"text-xs text-blue-600",children:y(N)})]}),l.jsx("button",{type:"button",onClick:()=>E(I),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 text-red-500 hover:text-red-700",title:"Remove media",children:l.jsx(In,{className:"w-4 h-4"})})]})},R)},_=(()=>e?Array.isArray(e)?e:[e]:[])();return l.jsxs("div",{className:"space-y-3",children:[_.length>0&&l.jsx("div",{className:"space-y-2",children:_.map((R,I)=>D(R,I))})," ",l.jsxs("button",{type:"button",onClick:S,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[" ",l.jsx("div",{className:"mr-2",children:r==="video"?l.jsx(wi,{className:"w-4 h-4"}):r==="audio"?l.jsx(Pr,{className:"w-4 h-4"}):l.jsx(yi,{className:"w-4 h-4"})}),e?n?`Add More ${r==="video"?"Videos":r==="audio"?"Audio Files":"Media"}`:`Change ${r==="video"?"Video":r==="audio"?"Audio":"Media"}`:n?`Select ${r==="video"?"Video Files":r==="audio"?"Audio Files":"Media Files"}`:`Select ${r==="video"?"Video File":r==="audio"?"Audio File":"Media File"}`]})," ",n&&Array.isArray(e)&&e.length>0&&l.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," file",e.length!==1?"s":""," selected"]})," ",g&&c&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:l.jsxs("div",{className:"relative max-w-4xl max-h-full p-4",children:[l.jsx("button",{onClick:w,className:"absolute -top-2 -right-2 z-10 w-8 h-8 bg-white rounded-full flex items-center justify-center text-gray-700 hover:text-gray-900",title:"Close preview",children:l.jsx(In,{className:"w-4 h-4"})}),c.match(/\.(mp4|webm|ogg|avi|mov|wmv|flv|mkv|m4v|3gp|ogv)$/i)?l.jsx("video",{src:c,controls:!0,autoPlay:!0,className:"max-w-full max-h-full rounded-lg"}):l.jsx("audio",{src:c,controls:!0,autoPlay:!0,className:"w-full max-w-md rounded-lg bg-white p-4"})]})})]})},oh=({field:e,value:t,onChange:n})=>{const r=i=>{n(e.id,e.meta_field,i)},s=()=>{switch(e.type){case"text":return l.jsx("input",{type:"text",value:t||"",onChange:i=>r(i.target.value),placeholder:e.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"});case"textarea":return l.jsx("textarea",{value:t||"",onChange:i=>r(i.target.value),rows:e.rows||4,placeholder:e.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"});case"select":return l.jsx("select",{value:t||"",onChange:i=>r(i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:e.options&&Object.entries(e.options).map(([i,o])=>l.jsx("option",{value:i,children:o.label},i))});case"range":return l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"range",min:e.min||0,max:e.max||100,step:e.step||1,value:t||e.min||0,onChange:i=>r(parseInt(i.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-500",children:e.min||0}),l.jsxs("div",{className:"flex items-center space-x-1",children:[e.id==="review_rating"&&l.jsxs(l.Fragment,{children:[[1,2,3,4,5].map(i=>l.jsx(Su,{className:`w-4 h-4 ${i<=(t||0)?"text-yellow-400 fill-current":"text-gray-300"}`},i)),l.jsx("span",{className:"ml-2 text-sm font-medium",children:t||0})]}),e.id!=="review_rating"&&l.jsx("span",{className:"text-sm font-medium",children:t||0})]}),l.jsx("span",{className:"text-sm text-gray-500",children:e.max||100})]})]});case"datetime":return l.jsx("input",{type:"datetime-local",value:t?new Date(t).toISOString().slice(0,16):"",onChange:i=>r(i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"});case"checkbox":if(e.options){const i=Array.isArray(t)?t:[];return l.jsx("div",{className:"space-y-2",children:Object.entries(e.options).map(([o,a])=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:i.includes(o),onChange:c=>{c.target.checked?r([...i,o]):r(i.filter(u=>u!==o))},className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2",children:a.label})]},o))})}else return l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:!!t,onChange:i=>r(i.target.checked),className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2",children:e.title})]});case"radio":return l.jsx("div",{className:"space-y-2",children:e.options&&Object.entries(e.options).map(([i,o])=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:e.id,value:i,checked:t===i,onChange:a=>r(a.target.value),className:"border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2",children:o.label})]},i))});case"switcher":return l.jsx("button",{type:"button",onClick:()=>r(!t),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t?"bg-primary-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})});case"media":return l.jsx(ih,{value:t,onChange:r,multiple:e.multiple,mediaType:e.media_type});default:return l.jsxs("div",{className:"text-gray-500 italic",children:["Unsupported field type: ",e.type]})}};return l.jsxs("div",{className:"dynamic-field",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.title,e.required&&l.jsx("span",{className:"required ml-1",children:"*"})]}),s(),e.description&&l.jsx("p",{className:"description",children:e.description})]})},rt=Rd(),ah=({id:e,children:t,className:n})=>{const{attributes:r,listeners:s,setNodeRef:i,transform:o,transition:a,isDragging:c}=eh({id:e}),u={transform:on.Transform.toString(o),transition:a,cursor:c?"grabbing":"grab",opacity:c?.5:1};return l.jsx("div",{ref:i,style:u,...r,...s,className:`spider-boxes-table-header-cell sortable-header ${n||""} ${c?"dragging":""}`,title:"Drag to reorder columns",children:l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:t}),l.jsxs("svg",{className:"w-3 h-3 text-gray-400",fill:"currentColor",viewBox:"0 0 6 10",children:[l.jsx("circle",{cx:"1",cy:"2",r:"1"}),l.jsx("circle",{cx:"1",cy:"5",r:"1"}),l.jsx("circle",{cx:"1",cy:"8",r:"1"}),l.jsx("circle",{cx:"5",cy:"2",r:"1"}),l.jsx("circle",{cx:"5",cy:"5",r:"1"}),l.jsx("circle",{cx:"5",cy:"8",r:"1"})]})]})})},lh=({productId:e})=>{var Ee;const t=It(),{get:n,patch:r,del:s,getReviewFields:i}=yn(),[o,a]=f.useState([]),[c,u]=f.useState([]),[g,d]=f.useState(""),[h,p]=f.useState(["id","product_name","author_name","rating","status","date","actions"]),[v,m]=f.useState(null),[y,x]=f.useState(!1),[w,b]=f.useState({}),[S,E]=f.useState({pageIndex:0,pageSize:20}),[D,j]=f.useState("");f.useEffect(()=>{E(M=>({...M,pageIndex:0}))},[g,c,e]),f.useEffect(()=>{const M=setTimeout(()=>{j(g)},500);return()=>clearTimeout(M)},[g]);const _=If(Vi(Bs),Vi(Ts,{coordinateGetter:rh})),{data:R}=tt({queryKey:["review-fields"],queryFn:i,staleTime:10*60*1e3}),I=R!=null&&R.fields?Object.values(R.fields):[],{data:N,isLoading:$,error:T,isFetching:P}=tt({queryKey:["reviews",e,S.pageIndex+1,S.pageSize,D,c],queryFn:()=>{const M=new URLSearchParams;M.set("page",String(S.pageIndex+1)),M.set("per_page",String(S.pageSize)),e&&M.set("product_id",String(e)),D&&M.set("search",D);const A=c.find(z=>z.id==="status");if(A!=null&&A.value&&M.set("status",String(A.value)),o.length>0){const z=o[0];M.set("orderby",z.id==="date"?"comment_date":z.id),M.set("order",z.desc?"DESC":"ASC")}return n(`/reviews?${M.toString()}`)},staleTime:5*60*1e3});console.log("Reviews data:",N);const G=(N==null?void 0:N.reviews)||[],Y=(N==null?void 0:N.total)||0,Q=(N==null?void 0:N.pages)||1,C=we({mutationFn:({id:M,data:A})=>r(`/reviews/${M}`,A),onSuccess:()=>{t.invalidateQueries({queryKey:["reviews"]}),x(!1),b({}),m(null)},onError:M=>{console.error("Failed to update review:",M)}}),O=we({mutationFn:M=>s(`/reviews/${M}`),onSuccess:()=>{t.invalidateQueries({queryKey:["reviews"]})}}),ee=f.useMemo(()=>[rt.accessor("id",{header:"ID",cell:M=>`#${M.getValue()}`,size:80}),rt.accessor("product_name",{header:"Product",cell:M=>M.getValue(),filterFn:"includesString"}),rt.accessor("author_name",{header:"Reviewer",cell:M=>l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:M.getValue()}),l.jsx("div",{className:"text-sm text-gray-500",children:M.row.original.author_email})]}),filterFn:"includesString"}),rt.accessor("rating",{header:"Rating",cell:M=>l.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(A=>l.jsx("svg",{className:`w-4 h-4 ${A<=M.getValue()?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},A)),l.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",M.getValue(),")"]})]}),size:150}),rt.accessor("status",{header:"Status",cell:M=>{const A=M.getValue(),z={approved:"bg-green-100 text-green-800",hold:"bg-yellow-100 text-yellow-800",spam:"bg-red-100 text-red-800",trash:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${z[A]}`,children:A.charAt(0).toUpperCase()+A.slice(1)})},filterFn:"equals"}),rt.accessor("date",{header:"Date",cell:M=>new Date(M.getValue()).toLocaleDateString(),size:120}),rt.display({id:"actions",header:"Actions",cell:M=>l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(X,{variant:"outline",size:"sm",onClick:()=>{m(M.row.original),x(!0)},children:"Edit"}),l.jsx(X,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this review?")&&O.mutate(M.row.original.id)},children:"Delete"})]}),size:120})],[O]),Me=vf({data:G,columns:ee,state:{sorting:o,columnFilters:c,globalFilter:g,columnOrder:h,pagination:S},onSortingChange:a,onColumnFiltersChange:u,onGlobalFilterChange:d,onPaginationChange:E,getCoreRowModel:df(),getSortedRowModel:mf(),getFilteredRowModel:pf(),manualPagination:!0,manualSorting:!0,manualFiltering:!0,pageCount:Q}),ie=M=>{const{active:A,over:z}=M;A.id!==(z==null?void 0:z.id)&&p(J=>{const ce=J.indexOf(A.id),k=J.indexOf(z==null?void 0:z.id);return Hs(J,ce,k)})},ve=(M,A)=>{C.mutate({id:M,data:{status:A}})};return $?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):T?l.jsxs("div",{className:"text-red-600 p-4",children:["Error loading reviews:"," ",T instanceof Error?T.message:"Unknown error"]}):l.jsxs("div",{className:"reviews-app",children:[" ",l.jsxs("div",{className:"reviews-header",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Product Reviews",P&&l.jsxs("span",{className:"ml-2 inline-flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"Loading..."})]})]})," ",l.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",placeholder:"Search reviews...",value:g,onChange:M=>d(M.target.value),className:"search-input",disabled:P})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{value:((Ee=c.find(M=>M.id==="status"))==null?void 0:Ee.value)||"",onChange:M=>{const A=M.target.value;u(z=>A?[...z.filter(J=>J.id!=="status"),{id:"status",value:A}]:z.filter(J=>J.id!=="status"))},className:"filter-select",disabled:P,children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"approve",children:"Approved"}),l.jsx("option",{value:"hold",children:"Hold"}),l.jsx("option",{value:"spam",children:"Spam"}),l.jsx("option",{value:"trash",children:"Trash"})]}),l.jsxs("select",{value:S.pageSize,onChange:M=>{E(A=>({...A,pageSize:Number(M.target.value),pageIndex:0}))},className:"filter-select",disabled:P,children:[l.jsx("option",{value:10,children:"10 per page"}),l.jsx("option",{value:20,children:"20 per page"}),l.jsx("option",{value:50,children:"50 per page"}),l.jsx("option",{value:100,children:"100 per page"})]})]})]})]})," ",G.length===0?l.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:l.jsx("p",{className:"text-gray-500 mb-4",children:"No reviews found."})}):l.jsx(Pg,{sensors:_,collisionDetection:Pf,onDragEnd:ie,children:l.jsxs("div",{className:"spider-boxes-table",children:[l.jsx(qg,{items:h,strategy:Ug,children:l.jsx("div",{className:"spider-boxes-table-header",children:h.map(M=>l.jsxs(ah,{id:M,children:[M==="id"&&"ID",M==="product_name"&&"Product",M==="author_name"&&"Reviewer",M==="rating"&&"Rating",M==="status"&&"Status",M==="date"&&"Date",M==="actions"&&"Actions"]},M))})}),l.jsx("div",{className:"divide-y divide-gray-200",children:l.jsx(xn,{children:Me.getRowModel().rows.map(M=>l.jsx(et.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"spider-boxes-table-row",children:h.map(A=>l.jsxs("div",{className:"spider-boxes-table-cell",children:[A==="id"&&l.jsxs("span",{className:"font-mono text-xs bg-gray-50 px-2 py-1 rounded",children:["#",M.original.id]}),A==="product_name"&&l.jsx("span",{className:"font-medium",children:M.original.product_name}),A==="author_name"&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:M.original.author_name}),l.jsx("div",{className:"text-sm text-gray-500",children:M.original.author_email})]}),A==="rating"&&l.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(z=>l.jsx("svg",{className:`w-4 h-4 ${z<=M.original.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},z)),l.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",M.original.rating,")"]})]}),A==="status"&&l.jsx("span",{className:`spider-boxes-badge ${M.original.status==="approved"?"spider-boxes-badge-success":M.original.status==="hold"?"spider-boxes-badge-warning":M.original.status==="spam"?"spider-boxes-badge-danger":"spider-boxes-badge-secondary"}`,children:M.original.status.charAt(0).toUpperCase()+M.original.status.slice(1)}),A==="date"&&l.jsx("span",{className:"text-gray-500",children:new Date(M.original.date).toLocaleDateString()}),A==="actions"&&l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{m(M.original),x(!0)},className:"text-primary-600 hover:text-primary-900",title:"Edit review",children:l.jsx(yu,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this review?")&&O.mutate(M.original.id)},className:"text-red-600 hover:text-red-900",title:"Delete review",children:l.jsx(Mu,{className:"w-4 h-4"})}),M.original.status==="hold"&&l.jsx("button",{onClick:()=>ve(M.original.id,"approved"),className:"text-green-600 hover:text-green-900",title:"Approve review",children:l.jsx(uu,{className:"w-4 h-4"})}),M.original.status==="approved"&&l.jsx("button",{onClick:()=>ve(M.original.id,"hold"),className:"text-yellow-600 hover:text-yellow-900",title:"Mark as hold",children:l.jsx(Uo,{className:"w-4 h-4"})})]})]},A))},M.id))})})]})})," ",l.jsxs("div",{className:"flex items-center justify-between py-4",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",Y===0?0:S.pageIndex*S.pageSize+1," ","to"," ",Math.min((S.pageIndex+1)*S.pageSize,Y)," ","of ",Y," results"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[" ",l.jsxs(X,{variant:"outline",size:"sm",onClick:()=>Me.previousPage(),disabled:!Me.getCanPreviousPage()||P,children:[l.jsx(fu,{className:"w-4 h-4"}),"Previous"]}),l.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",S.pageIndex+1," of ",Q]}),l.jsxs(X,{variant:"outline",size:"sm",onClick:()=>Me.nextPage(),disabled:!Me.getCanNextPage()||P,children:["Next",l.jsx(hu,{className:"w-4 h-4"})]})]})]}),l.jsx(Ot,{open:y,onOpenChange:x,children:l.jsxs(Pt,{size:"lg",children:[l.jsx(Vt,{children:l.jsx(Lt,{children:"Edit Review"})}),l.jsx("div",{children:v&&I.length>0?l.jsxs("div",{className:"space-y-4",children:[I.map(M=>{var z;let A;switch(M.id){case"review_author_name":A=w[M.id]||v.author_name;break;case"review_author_email":A=w[M.id]||v.author_email;break;case"review_date":A=w[M.id]||v.date;break;case"review_content":A=w[M.id]||v.content;break;case"review_status":A=w[M.id]||v.status;break;case"rating":A=w[M.id]||v.rating;break;default:M.meta_field?A=w[M.id]||((z=v.meta)==null?void 0:z[M.id])||M.value:A=w[M.id]||M.value}return l.jsx(oh,{field:M,value:A,onChange:(J,ce,k)=>{if(console.log(J,ce,k),b(ne=>({...ne,[J]:k})),v){const ne={...v};switch(J){case"review_author_name":ne.author_name=k;break;case"review_author_email":ne.author_email=k;break;case"review_date":ne.date=k;break;case"review_content":ne.content=k;break;case"review_status":ne.status=k;break;case"rating":ne.rating=k;break}ce&&(ne.meta||(ne.meta={}),ne.meta[J]=k),m(ne)}}},M.id)}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx(X,{variant:"outline",onClick:()=>{x(!1),b({})},children:"Cancel"}),l.jsx(X,{onClick:()=>{const M={};Object.entries(w).forEach(([A,z])=>{switch(A){case"review_author_name":M.author_name=z;break;case"review_author_email":M.author_email=z;break;case"review_date":M.date=z;break;case"review_content":M.content=z;break;case"review_status":M.status=z;break;case"rating":M.rating=z;break;default:M.meta||(M.meta={}),M.meta[A]=z}}),C.mutate({id:v.id,data:M})},disabled:C.isPending,children:C.isPending?"Saving...":"Save Changes"})]})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500",children:"No review selected or fields not loaded."})})})]})})]})};const Va=new Xa({defaultOptions:{queries:{retry:1,staleTime:5*60*1e3}}}),Ki=document.getElementById("spider-boxes-main-app");Ki&&to.createRoot(Ki).render(l.jsx(Z.StrictMode,{children:l.jsx(no,{client:Va,children:l.jsx(Sd,{})})}));const Xi=document.getElementById("spider-boxes-reviews-app");Xi&&to.createRoot(Xi).render(l.jsx(Z.StrictMode,{children:l.jsx(no,{client:Va,children:l.jsx(lh,{})})}));
//# sourceMappingURL=admin.js.map
