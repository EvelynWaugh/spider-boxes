var Cr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var M=(e,t,n)=>(Cr(e,t,"read from private field"),n?n.call(e):t.get(e)),T=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},H=(e,t,n,r)=>(Cr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var G=(e,t,n)=>(Cr(e,t,"access private method"),n);import{S as qi,p as Qs,r as we,s as Yn,a as qt,n as Zn,i as Kr,b as Ys,t as Ta,f as ka,c as za,d as Zs,e as lr,h as Js,g as Ba,j as p,k as Ki,u as Ft,l as u,R as q,m as Xi,o as vt,q as Ha,Q as Ga,v as Qi,w as Yi}from"./QueryClientProvider-14c10ab9.js";import{u as Zi,f as Ua,a as Wa,P as qa,L as Ka,c as ur,m as Ke,b as Dt,F as U}from"./FieldRenderer-f9cee68e.js";var se,L,on,ne,Je,St,ze,Be,an,wt,Ct,et,tt,He,Rt,nt,Gt,ln,Xr,un,Qr,cn,Yr,dn,Zr,fn,Jr,gn,es,hn,ts,ar,Ji,Ui,Xa=(Ui=class extends qi{constructor(t,n){super();T(this,nt);T(this,ln);T(this,un);T(this,cn);T(this,dn);T(this,fn);T(this,gn);T(this,hn);T(this,ar);T(this,se,void 0);T(this,L,void 0);T(this,on,void 0);T(this,ne,void 0);T(this,Je,void 0);T(this,St,void 0);T(this,ze,void 0);T(this,Be,void 0);T(this,an,void 0);T(this,wt,void 0);T(this,Ct,void 0);T(this,et,void 0);T(this,tt,void 0);T(this,He,void 0);T(this,Rt,new Set);this.options=n,H(this,se,t),H(this,Be,null),H(this,ze,Qs()),this.options.experimental_prefetchInRender||M(this,ze).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,L).addObserver(this),ei(M(this,L),this.options)?G(this,nt,Gt).call(this):this.updateResult(),G(this,dn,Zr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ns(M(this,L),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ns(M(this,L),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,fn,Jr).call(this),G(this,gn,es).call(this),M(this,L).removeObserver(this)}setOptions(t){const n=this.options,r=M(this,L);if(this.options=M(this,se).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof we(this.options.enabled,M(this,L))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,hn,ts).call(this),M(this,L).setOptions(this.options),n._defaulted&&!Yn(this.options,n)&&M(this,se).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,L),observer:this});const s=this.hasListeners();s&&ti(M(this,L),r,this.options,n)&&G(this,nt,Gt).call(this),this.updateResult(),s&&(M(this,L)!==r||we(this.options.enabled,M(this,L))!==we(n.enabled,M(this,L))||qt(this.options.staleTime,M(this,L))!==qt(n.staleTime,M(this,L)))&&G(this,ln,Xr).call(this);const i=G(this,un,Qr).call(this);s&&(M(this,L)!==r||we(this.options.enabled,M(this,L))!==we(n.enabled,M(this,L))||i!==M(this,He))&&G(this,cn,Yr).call(this,i)}getOptimisticResult(t){const n=M(this,se).getQueryCache().build(M(this,se),t),r=this.createResult(n,t);return Ya(this,r)&&(H(this,ne,r),H(this,St,this.options),H(this,Je,M(this,L).state)),r}getCurrentResult(){return M(this,ne)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){M(this,Rt).add(t)}getCurrentQuery(){return M(this,L)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=M(this,se).defaultQueryOptions(t),r=M(this,se).getQueryCache().build(M(this,se),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return G(this,nt,Gt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,ne)))}createResult(t,n){var F;const r=M(this,L),s=this.options,i=M(this,ne),o=M(this,Je),a=M(this,St),c=t!==r?t.state:M(this,on),{state:f}=t;let d={...f},h=!1,g;if(n._optimisticResults){const I=this.hasListeners(),V=!I&&ei(t,n),z=I&&ti(t,r,n,s);(V||z)&&(d={...d,...za(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:v,status:x}=d;g=d.data;let y=!1;if(n.placeholderData!==void 0&&g===void 0&&x==="pending"){let I;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(I=i.data,y=!0):I=typeof n.placeholderData=="function"?n.placeholderData((F=M(this,Ct))==null?void 0:F.state.data,M(this,Ct)):n.placeholderData,I!==void 0&&(x="success",g=Zs(i==null?void 0:i.data,I,n),h=!0)}if(n.select&&g!==void 0&&!y)if(i&&g===(o==null?void 0:o.data)&&n.select===M(this,an))g=M(this,wt);else try{H(this,an,n.select),g=n.select(g),g=Zs(i==null?void 0:i.data,g,n),H(this,wt,g),H(this,Be,null)}catch(I){H(this,Be,I)}M(this,Be)&&(m=M(this,Be),g=M(this,wt),v=Date.now(),x="error");const S=d.fetchStatus==="fetching",b=x==="pending",C=x==="error",R=b&&S,_=g!==void 0,j={status:x,fetchStatus:d.fetchStatus,isPending:b,isSuccess:x==="success",isError:C,isInitialLoading:R,isLoading:R,data:g,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!b,isLoadingError:C&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&_,isStale:Ss(t,n),refetch:this.refetch,promise:M(this,ze)};if(this.options.experimental_prefetchInRender){const I=E=>{j.status==="error"?E.reject(j.error):j.data!==void 0&&E.resolve(j.data)},V=()=>{const E=H(this,ze,j.promise=Qs());I(E)},z=M(this,ze);switch(z.status){case"pending":t.queryHash===r.queryHash&&I(z);break;case"fulfilled":(j.status==="error"||j.data!==z.value)&&V();break;case"rejected":(j.status!=="error"||j.error!==z.reason)&&V();break}}return j}updateResult(){const t=M(this,ne),n=this.createResult(M(this,L),this.options);if(H(this,Je,M(this,L).state),H(this,St,this.options),M(this,Je).data!==void 0&&H(this,Ct,M(this,L)),Yn(n,t))return;H(this,ne,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!M(this,Rt).size)return!0;const o=new Set(i??M(this,Rt));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,ne)).some(a=>{const l=a;return M(this,ne)[l]!==t[l]&&o.has(l)})};G(this,ar,Ji).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,dn,Zr).call(this)}},se=new WeakMap,L=new WeakMap,on=new WeakMap,ne=new WeakMap,Je=new WeakMap,St=new WeakMap,ze=new WeakMap,Be=new WeakMap,an=new WeakMap,wt=new WeakMap,Ct=new WeakMap,et=new WeakMap,tt=new WeakMap,He=new WeakMap,Rt=new WeakMap,nt=new WeakSet,Gt=function(t){G(this,hn,ts).call(this);let n=M(this,L).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Zn)),n},ln=new WeakSet,Xr=function(){G(this,fn,Jr).call(this);const t=qt(this.options.staleTime,M(this,L));if(Kr||M(this,ne).isStale||!Ys(t))return;const r=Ta(M(this,ne).dataUpdatedAt,t)+1;H(this,et,setTimeout(()=>{M(this,ne).isStale||this.updateResult()},r))},un=new WeakSet,Qr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,L)):this.options.refetchInterval)??!1},cn=new WeakSet,Yr=function(t){G(this,gn,es).call(this),H(this,He,t),!(Kr||we(this.options.enabled,M(this,L))===!1||!Ys(M(this,He))||M(this,He)===0)&&H(this,tt,setInterval(()=>{(this.options.refetchIntervalInBackground||ka.isFocused())&&G(this,nt,Gt).call(this)},M(this,He)))},dn=new WeakSet,Zr=function(){G(this,ln,Xr).call(this),G(this,cn,Yr).call(this,G(this,un,Qr).call(this))},fn=new WeakSet,Jr=function(){M(this,et)&&(clearTimeout(M(this,et)),H(this,et,void 0))},gn=new WeakSet,es=function(){M(this,tt)&&(clearInterval(M(this,tt)),H(this,tt,void 0))},hn=new WeakSet,ts=function(){const t=M(this,se).getQueryCache().build(M(this,se),this.options);if(t===M(this,L))return;const n=M(this,L);H(this,L,t),H(this,on,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},ar=new WeakSet,Ji=function(t){lr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(M(this,ne))}),M(this,se).getQueryCache().notify({query:M(this,L),type:"observerResultsUpdated"})})},Ui);function Qa(e,t){return we(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ei(e,t){return Qa(e,t)||e.state.data!==void 0&&ns(e,t,t.refetchOnMount)}function ns(e,t,n){if(we(t.enabled,e)!==!1&&qt(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Ss(e,t)}return!1}function ti(e,t,n,r){return(e!==t||we(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ss(e,n)}function Ss(e,t){return we(t.enabled,e)!==!1&&e.isStaleByTime(qt(t.staleTime,e))}function Ya(e,t){return!Yn(e.getCurrentResult(),t)}var Ge,Ue,ie,_e,Mt,Un,pn,rs,Wi,Za=(Wi=class extends qi{constructor(n,r){super();T(this,Mt);T(this,pn);T(this,Ge,void 0);T(this,Ue,void 0);T(this,ie,void 0);T(this,_e,void 0);H(this,Ge,n),this.setOptions(r),this.bindMethods(),G(this,Mt,Un).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=M(this,Ge).defaultMutationOptions(n),Yn(this.options,r)||M(this,Ge).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,ie),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Js(r.mutationKey)!==Js(this.options.mutationKey)?this.reset():((s=M(this,ie))==null?void 0:s.state.status)==="pending"&&M(this,ie).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,ie))==null||n.removeObserver(this)}onMutationUpdate(n){G(this,Mt,Un).call(this),G(this,pn,rs).call(this,n)}getCurrentResult(){return M(this,Ue)}reset(){var n;(n=M(this,ie))==null||n.removeObserver(this),H(this,ie,void 0),G(this,Mt,Un).call(this),G(this,pn,rs).call(this)}mutate(n,r){var s;return H(this,_e,r),(s=M(this,ie))==null||s.removeObserver(this),H(this,ie,M(this,Ge).getMutationCache().build(M(this,Ge),this.options)),M(this,ie).addObserver(this),M(this,ie).execute(n)}},Ge=new WeakMap,Ue=new WeakMap,ie=new WeakMap,_e=new WeakMap,Mt=new WeakSet,Un=function(){var r;const n=((r=M(this,ie))==null?void 0:r.state)??Ba();H(this,Ue,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},pn=new WeakSet,rs=function(n){lr.batch(()=>{var r,s,i,o,a,l,c,f;if(M(this,_e)&&this.hasListeners()){const d=M(this,Ue).variables,h=M(this,Ue).context;(n==null?void 0:n.type)==="success"?((s=(r=M(this,_e)).onSuccess)==null||s.call(r,n.data,d,h),(o=(i=M(this,_e)).onSettled)==null||o.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((l=(a=M(this,_e)).onError)==null||l.call(a,n.error,d,h),(f=(c=M(this,_e)).onSettled)==null||f.call(c,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(M(this,Ue))})})},Wi),eo=p.createContext(!1),Ja=()=>p.useContext(eo);eo.Provider;function el(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var tl=p.createContext(el()),nl=()=>p.useContext(tl),rl=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},sl=e=>{p.useEffect(()=>{e.clearReset()},[e])},il=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Ki(n,[e.error,r])),ol=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},al=(e,t)=>e.isLoading&&e.isFetching&&!t,ll=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ni=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ul(e,t,n){var d,h,g,m,v;const r=Ja(),s=nl(),i=Ft(n),o=i.defaultQueryOptions(e);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",ol(o),rl(o,s),sl(s);const a=!i.getQueryCache().get(o.queryHash),[l]=p.useState(()=>new t(i,o)),c=l.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(x=>{const y=f?l.subscribe(lr.batchCalls(x)):Zn;return l.updateResult(),y},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),p.useEffect(()=>{l.setOptions(o)},[o,l]),ll(o,c))throw ni(o,l,s);if(il({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((m=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||m.call(g,o,c),o.experimental_prefetchInRender&&!Kr&&al(c,r)){const x=a?ni(o,l,s):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;x==null||x.catch(Zn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function rt(e,t){return ul(e,Xa,t)}function he(e,t){const n=Ft(t),[r]=p.useState(()=>new Za(n,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);const s=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(lr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=p.useCallback((o,a)=>{r.mutate(o,a).catch(Zn)},[r]);if(s.error&&Ki(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function to(){const e=p.useRef(!1);return Zi(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function cl(){const e=to(),[t,n]=p.useState(0),r=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>Ua.postRender(r),[r]),t]}class dl extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fl({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),p.createElement(dl,{isPresent:t,childRef:r,sizeRef:s},p.cloneElement(e,{ref:r}))}const Rr=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Wa(gl),l=p.useId(),c=p.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:f=>{a.set(f,!0);for(const d of a.values())if(!d)return;r&&r()},register:f=>(a.set(f,!1),()=>a.delete(f))}),i?void 0:[n]);return p.useMemo(()=>{a.forEach((f,d)=>a.set(d,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=p.createElement(fl,{isPresent:n},e)),p.createElement(qa.Provider,{value:c},e)};function gl(){return new Map}function hl(e){return p.useEffect(()=>()=>e(),[])}const Ze=e=>e.key||"";function pl(e,t){e.forEach(n=>{const r=Ze(n);t.set(r,n)})}function vl(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const vn=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=p.useContext(Ka).forceRender||cl()[0],l=to(),c=vl(e);let f=c;const d=p.useRef(new Map).current,h=p.useRef(f),g=p.useRef(new Map).current,m=p.useRef(!0);if(Zi(()=>{m.current=!1,pl(c,g),h.current=f}),hl(()=>{m.current=!0,g.clear(),d.clear()}),m.current)return p.createElement(p.Fragment,null,f.map(S=>p.createElement(Rr,{key:Ze(S),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},S)));f=[...f];const v=h.current.map(Ze),x=c.map(Ze),y=v.length;for(let S=0;S<y;S++){const b=v[S];x.indexOf(b)===-1&&!d.has(b)&&d.set(b,void 0)}return o==="wait"&&d.size&&(f=[]),d.forEach((S,b)=>{if(x.indexOf(b)!==-1)return;const C=g.get(b);if(!C)return;const R=v.indexOf(b);let _=S;if(!_){const D=()=>{d.delete(b);const j=Array.from(g.keys()).filter(F=>!x.includes(F));if(j.forEach(F=>g.delete(F)),h.current=c.filter(F=>{const I=Ze(F);return I===b||j.includes(I)}),!d.size){if(l.current===!1)return;a(),r&&r()}};_=p.createElement(Rr,{key:Ze(C),isPresent:!1,onExitComplete:D,custom:t,presenceAffectsLayout:i,mode:o},C),d.set(b,_)}f.splice(R,0,_)}),f=f.map(S=>{const b=S.key;return d.has(b)?S:p.createElement(Rr,{key:Ze(S),isPresent:!0,presenceAffectsLayout:i,mode:o},S)}),p.createElement(p.Fragment,null,d.size?f:f.map(S=>p.cloneElement(S)))},no=p.createContext(void 0);function ro(){const e=p.useContext(no);if(!e)throw new Error("Tabs components must be used within a Tabs provider");return e}function ml({defaultValue:e,className:t,children:n}){const[r,s]=p.useState(e);return u.jsx(no.Provider,{value:{value:r,setValue:s},children:u.jsx("div",{className:ur("w-full",t),children:n})})}function yl({className:e,children:t}){return u.jsx("div",{className:ur("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",e),children:t})}function Mn({value:e,className:t,children:n}){const{value:r,setValue:s}=ro(),i=r===e;return u.jsx("button",{type:"button",onClick:()=>s(e),className:ur("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i?"bg-white text-gray-950 shadow-sm":"text-gray-600 hover:bg-gray-200 hover:text-gray-900",t),children:n})}function En({value:e,className:t,children:n}){const{value:r}=ro();return r!==e?null:u.jsx(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:ur("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",t),children:n})}function ri(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function so(...e){return t=>{let n=!1;const r=e.map(s=>{const i=ri(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ri(e[s],null)}}}}function it(...e){return p.useCallback(so(...e),e)}function ws(e){const t=bl(e),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),l=a.find(wl);if(l){const c=l.props.children,f=a.map(d=>d===l?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:d);return u.jsx(t,{...o,ref:s,children:p.isValidElement(c)?p.cloneElement(c,void 0,f):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var xl=ws("Slot");function bl(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=Rl(s),a=Cl(i,s.props);return s.type!==p.Fragment&&(a.ref=r?so(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sl=Symbol("radix.slottable");function wl(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sl}function Cl(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Rl(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Ml={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},El={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},W=q.forwardRef(({className:e,variant:t="primary",size:n="md",asChild:r=!1,...s},i)=>{const o=r?xl:"button";return u.jsx(o,{className:Dt("inline-flex items-center justify-center rounded-md font-medium transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:pointer-events-none",Ml[t],El[n],e),ref:i,...s})});W.displayName="Button";function qe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Fl(e,t){const n=p.createContext(t),r=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Dl(e,t=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];const c=d=>{var y;const{scope:h,children:g,...m}=d,v=((y=h==null?void 0:h[e])==null?void 0:y[l])||a,x=p.useMemo(()=>m,Object.values(m));return u.jsx(v.Provider,{value:x,children:g})};c.displayName=i+"Provider";function f(d,h){var v;const g=((v=h==null?void 0:h[e])==null?void 0:v[l])||a,m=p.useContext(g);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,f]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,jl(s,...t)]}function jl(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Jt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},_l=Xi[" useId ".trim().toString()]||(()=>{}),Il=0;function Mr(e){const[t,n]=p.useState(_l());return Jt(()=>{e||n(r=>r??String(Il++))},[e]),e||(t?`radix-${t}`:"")}var Nl=Xi[" useInsertionEffect ".trim().toString()]||Jt;function Al({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=Pl({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const f=p.useRef(e!==void 0);p.useEffect(()=>{const d=f.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const c=p.useCallback(f=>{var d;if(a){const h=Vl(f)?f(e):f;h!==e&&((d=o.current)==null||d.call(o,h))}else i(f)},[a,e,i,o]);return[l,c]}function Pl({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),i=p.useRef(t);return Nl(()=>{i.current=t},[t]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Vl(e){return typeof e=="function"}var Ol=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=Ol.reduce((e,t)=>{const n=ws(`Primitive.${t}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ll(e,t){e&&vt.flushSync(()=>e.dispatchEvent(t))}function en(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function $l(e,t=globalThis==null?void 0:globalThis.document){const n=en(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Tl="DismissableLayer",ss="dismissableLayer.update",kl="dismissableLayer.pointerDownOutside",zl="dismissableLayer.focusOutside",si,io=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oo=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=p.useContext(io),[f,d]=p.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),m=it(t,D=>d(D)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(x),S=f?v.indexOf(f):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=S>=y,R=Gl(D=>{const j=D.target,F=[...c.branches].some(I=>I.contains(j));!C||F||(s==null||s(D),o==null||o(D),D.defaultPrevented||a==null||a())},h),_=Ul(D=>{const j=D.target;[...c.branches].some(I=>I.contains(j))||(i==null||i(D),o==null||o(D),D.defaultPrevented||a==null||a())},h);return $l(D=>{S===c.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&a&&(D.preventDefault(),a()))},h),p.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(si=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),ii(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=si)}},[f,h,n,c]),p.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),ii())},[f,c]),p.useEffect(()=>{const D=()=>g({});return document.addEventListener(ss,D),()=>document.removeEventListener(ss,D)},[]),u.jsx(Ne.div,{...l,ref:m,style:{pointerEvents:b?C?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,_.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,R.onPointerDownCapture)})});oo.displayName=Tl;var Bl="DismissableLayerBranch",Hl=p.forwardRef((e,t)=>{const n=p.useContext(io),r=p.useRef(null),s=it(t,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Ne.div,{...e,ref:s})});Hl.displayName=Bl;function Gl(e,t=globalThis==null?void 0:globalThis.document){const n=en(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){ao(kl,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Ul(e,t=globalThis==null?void 0:globalThis.document){const n=en(e),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&ao(zl,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ii(){const e=new CustomEvent(ss);document.dispatchEvent(e)}function ao(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Ll(s,i):s.dispatchEvent(i)}var Er="focusScope.autoFocusOnMount",Fr="focusScope.autoFocusOnUnmount",oi={bubbles:!1,cancelable:!0},Wl="FocusScope",lo=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=p.useState(null),c=en(s),f=en(i),d=p.useRef(null),h=it(t,v=>l(v)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(b){if(g.paused||!a)return;const C=b.target;a.contains(C)?d.current=C:Te(d.current,{select:!0})},x=function(b){if(g.paused||!a)return;const C=b.relatedTarget;C!==null&&(a.contains(C)||Te(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const R of b)R.removedNodes.length>0&&Te(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const S=new MutationObserver(y);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),S.disconnect()}}},[r,a,g.paused]),p.useEffect(()=>{if(a){li.add(g);const v=document.activeElement;if(!a.contains(v)){const y=new CustomEvent(Er,oi);a.addEventListener(Er,c),a.dispatchEvent(y),y.defaultPrevented||(ql(Zl(uo(a)),{select:!0}),document.activeElement===v&&Te(a))}return()=>{a.removeEventListener(Er,c),setTimeout(()=>{const y=new CustomEvent(Fr,oi);a.addEventListener(Fr,f),a.dispatchEvent(y),y.defaultPrevented||Te(v??document.body,{select:!0}),a.removeEventListener(Fr,f),li.remove(g)},0)}}},[a,c,f,g]);const m=p.useCallback(v=>{if(!n&&!r||g.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(x&&y){const S=v.currentTarget,[b,C]=Kl(S);b&&C?!v.shiftKey&&y===C?(v.preventDefault(),n&&Te(b,{select:!0})):v.shiftKey&&y===b&&(v.preventDefault(),n&&Te(C,{select:!0})):y===S&&v.preventDefault()}},[n,r,g.paused]);return u.jsx(Ne.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});lo.displayName=Wl;function ql(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Te(r,{select:t}),document.activeElement!==n)return}function Kl(e){const t=uo(e),n=ai(t,e),r=ai(t.reverse(),e);return[n,r]}function uo(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ai(e,t){for(const n of e)if(!Xl(n,{upTo:t}))return n}function Xl(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ql(e){return e instanceof HTMLInputElement&&"select"in e}function Te(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ql(e)&&t&&e.select()}}var li=Yl();function Yl(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ui(e,t),e.unshift(t)},remove(t){var n;e=ui(e,t),(n=e[0])==null||n.resume()}}}function ui(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Zl(e){return e.filter(t=>t.tagName!=="A")}var Jl="Portal",co=p.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=p.useState(!1);Jt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Ha.createPortal(u.jsx(Ne.div,{...r,ref:t}),o):null});co.displayName=Jl;function eu(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var cr=e=>{const{present:t,children:n}=e,r=tu(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=it(r.ref,nu(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};cr.displayName="Presence";function tu(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[a,l]=eu(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Fn(r.current);i.current=a==="mounted"?c:"none"},[a]),Jt(()=>{const c=r.current,f=s.current;if(f!==e){const h=i.current,g=Fn(c);e?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Jt(()=>{if(t){let c;const f=t.ownerDocument.defaultView??window,d=g=>{const v=Fn(r.current).includes(g.animationName);if(g.target===t&&v&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=g=>{g.target===t&&(i.current=Fn(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Fn(e){return(e==null?void 0:e.animationName)||"none"}function nu(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Dr=0;function ru(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ci()),document.body.insertAdjacentElement("beforeend",e[1]??ci()),Dr++,()=>{Dr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Dr--}},[])}function ci(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ce=function(){return Ce=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ce.apply(this,arguments)};function fo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function su(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Wn="right-scroll-bar-position",qn="width-before-scroll-bar",iu="with-scroll-bars-hidden",ou="--removed-body-scroll-bar-size";function jr(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function au(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var lu=typeof window<"u"?p.useLayoutEffect:p.useEffect,di=new WeakMap;function uu(e,t){var n=au(t||null,function(r){return e.forEach(function(s){return jr(s,r)})});return lu(function(){var r=di.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||jr(a,null)}),i.forEach(function(a){s.has(a)||jr(a,o)})}di.set(n,e)},[e]),n}function cu(e){return e}function du(e,t){t===void 0&&(t=cu);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var f=o;o=[],f.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){o.push(f),c()},filter:function(f){return o=o.filter(f),n}}}};return s}function fu(e){e===void 0&&(e={});var t=du(null);return t.options=Ce({async:!0,ssr:!1},e),t}var go=function(e){var t=e.sideCar,n=fo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ce({},n))};go.isSideCarExport=!0;function gu(e,t){return e.useMedium(t),go}var ho=fu(),_r=function(){},dr=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:_r,onWheelCapture:_r,onTouchMoveCapture:_r}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,g=e.noRelative,m=e.noIsolation,v=e.inert,x=e.allowPinchZoom,y=e.as,S=y===void 0?"div":y,b=e.gapMode,C=fo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=h,_=uu([n,t]),D=Ce(Ce({},C),s);return p.createElement(p.Fragment,null,f&&p.createElement(R,{sideCar:ho,removeScrollBar:c,shards:d,noRelative:g,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:b}),o?p.cloneElement(p.Children.only(a),Ce(Ce({},D),{ref:_})):p.createElement(S,Ce({},D,{className:l,ref:_}),a))});dr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dr.classNames={fullWidth:qn,zeroRight:Wn};var fi,hu=function(){if(fi)return fi;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pu(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hu();return t&&e.setAttribute("nonce",t),e}function vu(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mu(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var yu=function(){var e=0,t=null;return{add:function(n){e==0&&(t=pu())&&(vu(t,n),mu(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xu=function(){var e=yu();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},po=function(){var e=xu(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},bu={left:0,top:0,right:0,gap:0},Ir=function(e){return parseInt(e||"",10)||0},Su=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ir(n),Ir(r),Ir(s)]},wu=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bu;var t=Su(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Cu=po(),mt="data-scroll-locked",Ru=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(iu,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(mt,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wn,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qn,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wn," .").concat(Wn,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qn," .").concat(qn,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mt,`] {
    `).concat(ou,": ").concat(a,`px;
  }
`)},gi=function(){var e=parseInt(document.body.getAttribute(mt)||"0",10);return isFinite(e)?e:0},Mu=function(){p.useEffect(function(){return document.body.setAttribute(mt,(gi()+1).toString()),function(){var e=gi()-1;e<=0?document.body.removeAttribute(mt):document.body.setAttribute(mt,e.toString())}},[])},Eu=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Mu();var i=p.useMemo(function(){return wu(s)},[s]);return p.createElement(Cu,{styles:Ru(i,!t,s,n?"":"!important")})},is=!1;if(typeof window<"u")try{var Dn=Object.defineProperty({},"passive",{get:function(){return is=!0,!0}});window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{is=!1}var ft=is?{passive:!1}:!1,Fu=function(e){return e.tagName==="TEXTAREA"},vo=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Fu(e)&&n[t]==="visible")},Du=function(e){return vo(e,"overflowY")},ju=function(e){return vo(e,"overflowX")},hi=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=mo(e,r);if(s){var i=yo(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_u=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Iu=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},mo=function(e,t){return e==="v"?Du(t):ju(t)},yo=function(e,t){return e==="v"?_u(t):Iu(t)},Nu=function(e,t){return e==="h"&&t==="rtl"?-1:1},Au=function(e,t,n,r,s){var i=Nu(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),c=!1,f=o>0,d=0,h=0;do{if(!a)break;var g=yo(e,a),m=g[0],v=g[1],x=g[2],y=v-x-i*m;(m||y)&&mo(e,a)&&(d+=y,h+=m);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(f&&(s&&Math.abs(d)<1||!s&&o>d)||!f&&(s&&Math.abs(h)<1||!s&&-o>h))&&(c=!0),c},jn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},pi=function(e){return[e.deltaX,e.deltaY]},vi=function(e){return e&&"current"in e?e.current:e},Pu=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Vu=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ou=0,gt=[];function Lu(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Ou++)[0],i=p.useState(po)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=su([e.lockRef.current],(e.shards||[]).map(vi),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=jn(v),S=n.current,b="deltaX"in v?v.deltaX:S[0]-y[0],C="deltaY"in v?v.deltaY:S[1]-y[1],R,_=v.target,D=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in v&&D==="h"&&_.type==="range")return!1;var j=hi(D,_);if(!j)return!0;if(j?R=D:(R=D==="v"?"h":"v",j=hi(D,_)),!j)return!1;if(!r.current&&"changedTouches"in v&&(b||C)&&(r.current=R),!R)return!0;var F=r.current||R;return Au(F,x,v,F==="h"?b:C,!0)},[]),l=p.useCallback(function(v){var x=v;if(!(!gt.length||gt[gt.length-1]!==i)){var y="deltaY"in x?pi(x):jn(x),S=t.current.filter(function(R){return R.name===x.type&&(R.target===x.target||x.target===R.shadowParent)&&Pu(R.delta,y)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var b=(o.current.shards||[]).map(vi).filter(Boolean).filter(function(R){return R.contains(x.target)}),C=b.length>0?a(x,b[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=p.useCallback(function(v,x,y,S){var b={name:v,delta:x,target:y,should:S,shadowParent:$u(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(C){return C!==b})},1)},[]),f=p.useCallback(function(v){n.current=jn(v),r.current=void 0},[]),d=p.useCallback(function(v){c(v.type,pi(v),v.target,a(v,e.lockRef.current))},[]),h=p.useCallback(function(v){c(v.type,jn(v),v.target,a(v,e.lockRef.current))},[]);p.useEffect(function(){return gt.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ft),document.addEventListener("touchmove",l,ft),document.addEventListener("touchstart",f,ft),function(){gt=gt.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,ft),document.removeEventListener("touchmove",l,ft),document.removeEventListener("touchstart",f,ft)}},[]);var g=e.removeScrollBar,m=e.inert;return p.createElement(p.Fragment,null,m?p.createElement(i,{styles:Vu(s)}):null,g?p.createElement(Eu,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $u(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Tu=gu(ho,Lu);var xo=p.forwardRef(function(e,t){return p.createElement(dr,Ce({},e,{ref:t,sideCar:Tu}))});xo.classNames=dr.classNames;const ku=xo;var zu=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ht=new WeakMap,_n=new WeakMap,In={},Nr=0,bo=function(e){return e&&(e.host||bo(e.parentNode))},Bu=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=bo(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Hu=function(e,t,n,r){var s=Bu(t,Array.isArray(e)?e:[e]);In[n]||(In[n]=new WeakMap);var i=In[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var f=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))f(h);else try{var g=h.getAttribute(r),m=g!==null&&g!=="false",v=(ht.get(h)||0)+1,x=(i.get(h)||0)+1;ht.set(h,v),i.set(h,x),o.push(h),v===1&&m&&_n.set(h,!0),x===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return f(t),a.clear(),Nr++,function(){o.forEach(function(d){var h=ht.get(d)-1,g=i.get(d)-1;ht.set(d,h),i.set(d,g),h||(_n.has(d)||d.removeAttribute(r),_n.delete(d)),g||d.removeAttribute(n)}),Nr--,Nr||(ht=new WeakMap,ht=new WeakMap,_n=new WeakMap,In={})}},Gu=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||zu(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Hu(r,s,n,"aria-hidden")):function(){return null}},fr="Dialog",[So,th]=Dl(fr),[Uu,me]=So(fr),wo=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=p.useRef(null),l=p.useRef(null),[c,f]=Al({prop:r,defaultProp:s??!1,onChange:i,caller:fr});return u.jsx(Uu,{scope:t,triggerRef:a,contentRef:l,contentId:Mr(),titleId:Mr(),descriptionId:Mr(),open:c,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(d=>!d),[f]),modal:o,children:n})};wo.displayName=fr;var Co="DialogTrigger",Wu=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=me(Co,n),i=it(t,s.triggerRef);return u.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ms(s.open),...r,ref:i,onClick:qe(e.onClick,s.onOpenToggle)})});Wu.displayName=Co;var Cs="DialogPortal",[qu,Ro]=So(Cs,{forceMount:void 0}),Mo=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=me(Cs,t);return u.jsx(qu,{scope:t,forceMount:n,children:p.Children.map(r,o=>u.jsx(cr,{present:n||i.open,children:u.jsx(co,{asChild:!0,container:s,children:o})}))})};Mo.displayName=Cs;var Jn="DialogOverlay",Eo=p.forwardRef((e,t)=>{const n=Ro(Jn,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=me(Jn,e.__scopeDialog);return i.modal?u.jsx(cr,{present:r||i.open,children:u.jsx(Xu,{...s,ref:t})}):null});Eo.displayName=Jn;var Ku=ws("DialogOverlay.RemoveScroll"),Xu=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=me(Jn,n);return u.jsx(ku,{as:Ku,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Ne.div,{"data-state":Ms(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),st="DialogContent",Fo=p.forwardRef((e,t)=>{const n=Ro(st,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=me(st,e.__scopeDialog);return u.jsx(cr,{present:r||i.open,children:i.modal?u.jsx(Qu,{...s,ref:t}):u.jsx(Yu,{...s,ref:t})})});Fo.displayName=st;var Qu=p.forwardRef((e,t)=>{const n=me(st,e.__scopeDialog),r=p.useRef(null),s=it(t,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return Gu(i)},[]),u.jsx(Do,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,i=>i.preventDefault())})}),Yu=p.forwardRef((e,t)=>{const n=me(st,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return u.jsx(Do,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Do=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=me(st,n),l=p.useRef(null),c=it(t,l);return ru(),u.jsxs(u.Fragment,{children:[u.jsx(lo,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(oo,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ms(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Zu,{titleId:a.titleId}),u.jsx(ec,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Rs="DialogTitle",jo=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=me(Rs,n);return u.jsx(Ne.h2,{id:s.titleId,...r,ref:t})});jo.displayName=Rs;var _o="DialogDescription",Io=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=me(_o,n);return u.jsx(Ne.p,{id:s.descriptionId,...r,ref:t})});Io.displayName=_o;var No="DialogClose",Ao=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=me(No,n);return u.jsx(Ne.button,{type:"button",...r,ref:t,onClick:qe(e.onClick,()=>s.onOpenChange(!1))})});Ao.displayName=No;function Ms(e){return e?"open":"closed"}var Po="DialogTitleWarning",[nh,Vo]=Fl(Po,{contentName:st,titleName:Rs,docsSlug:"dialog"}),Zu=({titleId:e})=>{const t=Vo(Po),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Ju="DialogDescriptionWarning",ec=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Vo(Ju).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},tc=wo,nc=Mo,Oo=Eo,Lo=Fo,$o=jo,To=Io,rc=Ao;function jt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var sc=["color"],ic=p.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=jt(e,sc);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),oc=["color"],ac=p.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=jt(e,oc);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lc=["color"],uc=p.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=jt(e,lc);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),cc=["color"],ko=p.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=jt(e,cc);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),dc=["color"],fc=p.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=jt(e,dc);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),gc=["color"],hc=p.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=jt(e,gc);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),p.createElement("path",{d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const zo=q.forwardRef(({className:e,...t},n)=>u.jsx(Oo,{ref:n,className:Dt("dialog-overlay",e),...t})),_t=q.forwardRef(({className:e,size:t="md",children:n,...r},s)=>{const i={sm:"dialog-content-sm",md:"dialog-content-md",lg:"dialog-content-lg",xl:"dialog-content-xl"};return u.jsx(nc,{children:u.jsxs(vn,{children:[u.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:u.jsx(zo,{})}),u.jsx(Lo,{ref:s,className:Dt("dialog-content",i[t],e),asChild:!0,...r,children:u.jsxs(Ke.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},children:[n,u.jsxs(rc,{className:"dialog-close",children:[u.jsx(ko,{className:"dialog-close-icon"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})})]})})}),It=({className:e,...t})=>u.jsx("div",{className:Dt("dialog-header",e),...t}),Nt=q.forwardRef(({className:e,...t},n)=>u.jsx($o,{ref:n,className:Dt("dialog-title",e),...t})),pc=q.forwardRef(({className:e,...t},n)=>u.jsx(To,{ref:n,className:Dt("dialog-description",e),...t})),At=({children:e,...t})=>u.jsx(tc,{...t,children:e});At.displayName="Dialog";zo.displayName=Oo.displayName;_t.displayName=Lo.displayName;It.displayName="DialogHeader";Nt.displayName=$o.displayName;pc.displayName=To.displayName;const mn=()=>{var l,c;const e=((l=window.spiderBoxesAdmin)==null?void 0:l.restUrl)||"wp-json/spider-boxes/v1",t=((c=window.spiderBoxesAdmin)==null?void 0:c.nonce)||"",n=p.useCallback(async(f,d={})=>{const h=`${e}${f}`,g={"Content-Type":"application/json","X-WP-Nonce":t,...d.headers};try{const m=await fetch(h,{...d,headers:g});if(!m.ok){const x=await m.json().catch(()=>({}));throw new Error(x.message||`HTTP ${m.status}: ${m.statusText}`)}const v=await m.json();if(v&&typeof v=="object"&&"success"in v){const x=v;if(!x.success)throw new Error(x.message||"API request failed");return x.data}else return v}catch(m){throw m instanceof Error?m:new Error("An unexpected error occurred")}},[e,t]),r=p.useCallback(f=>n(f,{method:"GET"}),[n]),s=p.useCallback((f,d)=>n(f,{method:"POST",body:d?JSON.stringify(d):void 0}),[n]),i=p.useCallback((f,d)=>n(f,{method:"PUT",body:d?JSON.stringify(d):void 0}),[n]),o=p.useCallback((f,d)=>n(f,{method:"PATCH",body:d?JSON.stringify(d):void 0}),[n]),a=p.useCallback(f=>n(f,{method:"DELETE"}),[n]);return{request:n,get:r,post:s,put:i,patch:o,del:a}},vc=()=>{const{get:e}=mn(),[t,n]=p.useState(null),[r,s]=p.useState(!1),[i,o]=p.useState({config:{id:"preview_field",type:"text",label:"Preview Field"}}),[a,l]=p.useState(""),[c,f]=p.useState("all"),{data:d=[],isLoading:h}=rt({queryKey:["field-types"],queryFn:()=>e("/field-types")}),g=q.useMemo(()=>["all",...d.reduce((C,R)=>(C.includes(R.category)||C.push(R.category),C),[]).sort()],[d]),m=q.useMemo(()=>d.filter(b=>{const C=a===""||b.label.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.type.toLowerCase().includes(a.toLowerCase()),R=c==="all"||b.category===c;return C&&R}),[d,a,c]),v=b=>{n(b),o({config:{id:"preview_field",type:b.type,label:`Preview ${b.label}`,description:b.description,placeholder:`Enter ${b.label.toLowerCase()}...`,required:!1,...b.defaultConfig},value:x(b.type)}),s(!0)},x=b=>{switch(b){case"checkbox":return!1;case"radio":case"select":return"";case"range":return 50;case"switcher":return!1;case"number":return 0;case"date":case"datetime":return"";case"textarea":case"wysiwyg":return"";case"media":return null;default:return""}},y=b=>({text:"📝",textarea:"📄",number:"🔢",email:"📧",url:"🔗",password:"🔒",select:"📋",checkbox:"☑️",radio:"🔘",range:"🎚️",date:"📅",datetime:"🕐",file:"📎",media:"🖼️",wysiwyg:"📝",switcher:"🔀",button:"🔳",hidden:"👁️‍🗨️",repeater:"🔄","react-select":"📋"})[b]||"🔧",S=b=>({input:"⌨️",selection:"📋",media:"🖼️",layout:"📐",advanced:"⚙️"})[b]||"📁";return h?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"field-types-manager",children:[u.jsxs("div",{className:"field-types-header",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Field Types"}),u.jsxs("div",{className:"field-types-filters",children:[u.jsx("div",{className:"search-wrapper",children:u.jsx("input",{type:"text",placeholder:"Search field types...",value:a,onChange:b=>l(b.target.value),className:"search-input"})}),u.jsx("div",{className:"category-filter",children:u.jsx("select",{value:c,onChange:b=>f(b.target.value),className:"filter-select",children:g.map(b=>u.jsx("option",{value:b,children:b==="all"?"All Categories":b.charAt(0).toUpperCase()+b.slice(1)},b))})})]})]}),u.jsx("div",{className:"field-types-grid",children:u.jsx(vn,{children:m.map(b=>u.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"field-type-card",children:[u.jsxs("div",{className:"field-type-header",children:[u.jsx("div",{className:"field-type-icon",children:b.icon||y(b.type)}),u.jsxs("div",{className:"field-type-info",children:[u.jsx("h4",{className:"field-type-label",children:b.label}),u.jsx("p",{className:"field-type-name",children:b.type})]}),u.jsxs("div",{className:"field-type-category",children:[S(b.category)," ",b.category]})]}),u.jsx("div",{className:"field-type-description",children:b.description}),b.supports&&b.supports.length>0&&u.jsxs("div",{className:"field-type-supports",children:[u.jsx("span",{className:"supports-label",children:"Supports:"}),u.jsx("div",{className:"supports-list",children:b.supports.map(C=>u.jsx("span",{className:"support-tag",children:C},C))})]}),u.jsx("div",{className:"field-type-actions",children:u.jsx(W,{variant:"outline",size:"sm",onClick:()=>v(b),children:"Preview"})})]},b.type))})}),m.length===0&&u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-state-icon",children:"🔍"}),u.jsx("h3",{className:"empty-state-title",children:"No field types found"}),u.jsx("p",{className:"empty-state-description",children:"Try adjusting your search or filter criteria."})]}),u.jsxs("div",{className:"categories-overview",children:[u.jsx("h4",{className:"categories-title",children:"Field Categories"}),u.jsx("div",{className:"categories-grid",children:g.filter(b=>b!=="all").map(b=>{const C=d.filter(R=>R.category===b);return u.jsxs("div",{className:"category-card",children:[u.jsx("div",{className:"category-icon",children:S(b)}),u.jsxs("div",{className:"category-info",children:[u.jsx("h5",{className:"category-name",children:b.charAt(0).toUpperCase()+b.slice(1)}),u.jsxs("p",{className:"category-count",children:[C.length," field",C.length!==1?"s":""]})]}),u.jsxs("div",{className:"category-fields",children:[C.slice(0,3).map(R=>u.jsx("span",{className:"category-field-preview",children:R.label},R.type)),C.length>3&&u.jsxs("span",{className:"category-field-more",children:["+",C.length-3," more"]})]})]},b)})})]}),u.jsx(At,{open:r,onOpenChange:s,children:u.jsxs(_t,{size:"lg",children:[u.jsx(It,{children:u.jsxs(Nt,{children:["Field Preview: ",t==null?void 0:t.label]})}),u.jsxs("div",{className:"field-preview",children:[t&&u.jsxs("div",{className:"preview-info",children:[u.jsxs("div",{className:"preview-meta",children:[u.jsxs("div",{className:"preview-type",children:[u.jsx("span",{className:"meta-label",children:"Type:"}),u.jsx("code",{children:t.type})]}),u.jsxs("div",{className:"preview-category",children:[u.jsx("span",{className:"meta-label",children:"Category:"}),u.jsx("span",{children:t.category})]})]}),u.jsx("div",{className:"preview-description",children:t.description})]}),u.jsxs("div",{className:"preview-field",children:[u.jsx("h4",{className:"preview-title",children:"Live Preview"}),u.jsx("div",{className:"preview-container",children:u.jsx(U,{config:i.config,value:i.value,onChange:b=>o(C=>({...C,value:b}))})})]}),i.value!==void 0&&i.value!==""&&u.jsxs("div",{className:"preview-output",children:[u.jsx("h4",{className:"output-title",children:"Current Value"}),u.jsx("pre",{className:"output-value",children:JSON.stringify(i.value,null,2)})]}),u.jsx("div",{className:"preview-actions",children:u.jsx(W,{variant:"outline",onClick:()=>s(!1),children:"Close"})})]})]})})]})},mi=({className:e="",size:t=16})=>u.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M12 5v14"}),u.jsx("path",{d:"M5 12h14"})]}),mc=({className:e="",size:t=16})=>u.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),u.jsx("path",{d:"m15 5 4 4"})]}),yc=({className:e="",size:t=16})=>u.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"m3 6 2 0"}),u.jsx("path",{d:"m19 6-2 0"}),u.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),u.jsx("path",{d:"m10 11 0 6"}),u.jsx("path",{d:"m14 11 0 6"}),u.jsx("path",{d:"M5 6l1 14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-14"})]}),xc=({className:e="",size:t=16})=>u.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),u.jsx("path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}),u.jsx("path",{d:"M7 3v4a1 1 0 0 0 1 1h8"})]}),bc=({className:e="",size:t=16})=>u.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M18 6 6 18"}),u.jsx("path",{d:"m6 6 12 12"})]}),yt=new WeakMap,Kn=new WeakMap,er={current:[]};let Ar=!1,Kt=0;const Ut=new Set,Nn=new Map;function Bo(e){const t=Array.from(e).sort((n,r)=>n instanceof Ie&&n.options.deps.includes(r)?1:r instanceof Ie&&r.options.deps.includes(n)?-1:0);for(const n of t){if(er.current.includes(n))continue;er.current.push(n),n.recompute();const r=Kn.get(n);if(r)for(const s of r){const i=yt.get(s);i&&Bo(i)}}}function Sc(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function wc(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function Ho(e){if(Kt>0&&!Nn.has(e)&&Nn.set(e,e.prevState),Ut.add(e),!(Kt>0)&&!Ar)try{for(Ar=!0;Ut.size>0;){const t=Array.from(Ut);Ut.clear();for(const n of t){const r=Nn.get(n)??n.prevState;n.prevState=r,Sc(n)}for(const n of t){const r=yt.get(n);r&&(er.current.push(n),Bo(r))}for(const n of t){const r=yt.get(n);if(r)for(const s of r)wc(s)}}}finally{Ar=!1,er.current=[],Nn.clear()}}function Se(e){Kt++;try{e()}finally{if(Kt--,Kt===0){const t=Array.from(Ut)[0];t&&Ho(t)}}}function Cc(e){return typeof e=="function"}class os{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var s,i;this.listeners.add(r);const o=(i=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:i.call(s,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,s;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):Cc(t)?this.state=t(this.prevState):this.state=t,(s=(r=this.options)==null?void 0:r.onUpdate)==null||s.call(r),Ho(this)}}class Ie{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const s of this.options.deps)n.push(s.prevState),r.push(s.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:s,currDepVals:i,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:s,currDepVals:i,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof Ie&&i.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:s}=this.getDepVals();for(let i=0;i<s.length;i++)if(s[i]!==r[i]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,s;this.listeners.add(n);const i=(s=(r=this.options).onSubscribe)==null?void 0:s.call(r,n,this);return()=>{this.listeners.delete(n),i==null||i()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof Ie)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof os){let r=yt.get(n);r||(r=new Set,yt.set(n,r)),r.add(this);let s=Kn.get(this);s||(s=new Set,Kn.set(this,s)),s.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof Ie)this.unregisterFromGraph(n.options.deps);else if(n instanceof os){const r=yt.get(n);r&&r.delete(this);const s=Kn.get(this);s&&s.delete(n)}}}function gr(e,t){return typeof e=="function"?e(t):e}function Wt(e,t){return Es(t).reduce((r,s)=>{if(r===null)return null;if(typeof r<"u")return r[s]},e)}function An(e,t,n){const r=Es(t);function s(i){if(!r.length)return gr(n,i);const o=r.shift();if(typeof o=="string"||typeof o=="number"&&!Array.isArray(i))return typeof i=="object"?(i===null&&(i={}),{...i,[o]:s(i[o])}):{[o]:s()};if(Array.isArray(i)&&typeof o=="number"){const a=i.slice(0,o);return[...a.length?a:new Array(o),s(i[o]),...i.slice(o+1)]}return[...new Array(o),s()]}return s(e)}function Rc(e,t){const n=Es(t);function r(s){if(!s)return;if(n.length===1){const o=n[0];if(Array.isArray(s)&&typeof o=="number")return s.filter((c,f)=>f!==o);const{[o]:a,...l}=s;return l}const i=n.shift();if(typeof i=="string"&&typeof s=="object")return{...s,[i]:r(s[i])};if(typeof i=="number"&&Array.isArray(s)){if(i>=s.length)return s;const o=s.slice(0,i);return[...o.length?o:new Array(i),r(s[i]),...s.slice(i+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const Mc=/^(\d+)$/gm,Ec=/\.(\d+)(?=\.)/gm,Fc=/^(\d+)\./gm,Dc=/\.(\d+$)/gm,jc=/\.{2,}/gm,as="__int__",Pn=`${as}$1`;function Es(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(Mc,Pn).replace(Ec,`.${Pn}.`).replace(Fc,`${Pn}.`).replace(Dc,`.${Pn}`).replace(jc,".").split(".").map(t=>t.indexOf(as)===0?parseInt(t.substring(as.length),10):t)}function _c(e){return!(Array.isArray(e)&&e.length===0)}function ls(e,t){const{asyncDebounceMs:n}=t,{onChangeAsync:r,onBlurAsync:s,onSubmitAsync:i,onBlurAsyncDebounceMs:o,onChangeAsyncDebounceMs:a}=t.validators||{},l=n??0,c={cause:"change",validate:r,debounceMs:a??l},f={cause:"blur",validate:s,debounceMs:o??l},d={cause:"submit",validate:i,debounceMs:0},h=g=>({...g,debounceMs:0});switch(e){case"submit":return[h(c),h(f),d];case"blur":return[f];case"change":return[c];case"server":default:return[]}}function us(e,t){const{onChange:n,onBlur:r,onSubmit:s,onMount:i}=t.validators||{},o={cause:"change",validate:n},a={cause:"blur",validate:r},l={cause:"submit",validate:s},c={cause:"mount",validate:i},f={cause:"server",validate:()=>{}};switch(e){case"mount":return[c];case"submit":return[o,a,l,f];case"server":return[f];case"blur":return[a,f];case"change":default:return[o,f]}}const cs=e=>!!e&&typeof e=="object"&&"fields"in e;function pt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,i]of e)if(!t.has(s)||!Object.is(i,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(!r.includes(s)||!pt(e[s],t[s]))return!1;return!0}const yi=({newFormValidatorError:e,isPreviousErrorFromFormValidator:t,previousErrorValue:n})=>e?{newErrorValue:e,newSource:"form"}:t?{newErrorValue:void 0,newSource:void 0}:n?{newErrorValue:n,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},xi=({formLevelError:e,fieldLevelError:t})=>t?{newErrorValue:t,newSource:"field"}:e?{newErrorValue:e,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function Ic(e){const t=new Map;for(const n of e){const r=[...n.path??[]].map(s=>{const i=typeof s=="object"?s.key:s;return typeof i=="number"?`[${i}]`:i}).join(".").replace(/\.\[/g,"[");t.set(r,(t.get(r)??[]).concat(n))}return Object.fromEntries(t)}const bi=e=>{const t=Ic(e);return{form:t,fields:t}},xt={validate({value:e,validationSource:t},n){const r=n["~standard"].validate(e);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return t==="field"?r.issues:bi(r.issues)},async validateAsync({value:e,validationSource:t},n){const r=await n["~standard"].validate(e);if(r.issues)return t==="field"?r.issues:bi(r.issues)}},Go=e=>!!e&&"~standard"in e,tr={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function Vn(e){function t(d,h,g,m){const v=r(d,h,g,m);({insert:()=>a(v,d,h),remove:()=>l(v),swap:()=>m!==void 0&&f(v,d,h,m),move:()=>m!==void 0&&c(v,d,h,m)})[g]()}function n(d,h){return`${d}[${h}]`}function r(d,h,g,m){const v=[n(d,h)];if(g==="swap")v.push(n(d,m));else if(g==="move"){const[x,y]=[Math.min(h,m),Math.max(h,m)];for(let S=x;S<=y;S++)v.push(n(d,S))}else{const x=e.getFieldValue(d),y=Array.isArray(x)?x.length:0;for(let S=h+1;S<y;S++)v.push(n(d,S))}return Object.keys(e.fieldInfo).filter(x=>v.some(y=>x.startsWith(y)))}function s(d,h){return d.replace(/\[(\d+)\]/,(g,m)=>{const v=parseInt(m,10);return`[${h==="up"?v+1:Math.max(0,v-1)}]`})}function i(d,h){(h==="up"?d:[...d].reverse()).forEach(m=>{const v=s(m.toString(),h),x=e.getFieldMeta(v);x?e.setFieldMeta(m,x):e.setFieldMeta(m,o())})}const o=()=>tr,a=(d,h,g)=>{i(d,"down"),d.forEach(m=>{m.toString().startsWith(n(h,g))&&e.setFieldMeta(m,o())})},l=d=>{i(d,"up")},c=(d,h,g,m)=>{const v=new Map(Object.keys(e.fieldInfo).filter(x=>x.startsWith(n(h,g))).map(x=>[x,e.getFieldMeta(x)]));i(d,g<m?"up":"down"),Object.keys(e.fieldInfo).filter(x=>x.startsWith(n(h,m))).forEach(x=>{const y=x.replace(n(h,m),n(h,g)),S=v.get(y);S&&e.setFieldMeta(x,S)})},f=(d,h,g,m)=>{d.forEach(v=>{if(!v.toString().startsWith(n(h,g)))return;const x=v.toString().replace(n(h,g),n(h,m)),[y,S]=[e.getFieldMeta(v),e.getFieldMeta(x)];y&&e.setFieldMeta(x,y),S&&e.setFieldMeta(v,S)})};return{handleArrayFieldMetaShift:t}}function Pr(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class Nc{constructor(t){var n;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{var r,s;const i=this.fieldMetaDerived.mount(),o=this.store.mount(),a=()=>{i(),o()};(s=(r=this.options.listeners)==null?void 0:r.onMount)==null||s.call(r,{formApi:this});const{onMount:l}=this.options.validators||{};return l&&this.validateSync("mount"),a},this.update=r=>{var s,i;if(!r)return;const o=this.options;this.options=r;const a=!!((i=(s=r.transform)==null?void 0:s.deps)!=null&&i.some((f,d)=>f!==this.prevTransformArray[d])),l=r.defaultValues&&!pt(r.defaultValues,o.defaultValues)&&!this.state.isTouched,c=!pt(r.defaultState,o.defaultState)&&!this.state.isTouched;!l&&!c&&!a||Se(()=>{this.baseStore.setState(()=>Pr(Object.assign({},this.state,c?r.defaultState:{},l?{values:r.defaultValues}:{},a?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(r,s)=>{const{fieldMeta:i}=this.state,o=this.resetFieldMeta(i);r&&!(s!=null&&s.keepDefaultValues)&&(this.options={...this.options,defaultValues:r}),this.baseStore.setState(()=>{var a;return Pr({...this.options.defaultState,values:r??this.options.defaultValues??((a=this.options.defaultState)==null?void 0:a.values),fieldMetaBase:o})})},this.validateAllFields=async r=>{const s=[];return Se(()=>{Object.values(this.fieldInfo).forEach(o=>{if(!o.instance)return;const a=o.instance;s.push(Promise.resolve().then(()=>a.validate(r,{skipFormValidation:!0}))),o.instance.state.meta.isTouched||o.instance.setMeta(l=>({...l,isTouched:!0}))})}),(await Promise.all(s)).flat()},this.validateArrayFieldsStartingFrom=async(r,s,i)=>{const o=this.getFieldValue(r),a=Array.isArray(o)?Math.max(o.length-1,0):null,l=[`${r}[${s}]`];for(let h=s+1;h<=(a??0);h++)l.push(`${r}[${h}]`);const c=Object.keys(this.fieldInfo).filter(h=>l.some(g=>h.startsWith(g))),f=[];return Se(()=>{c.forEach(h=>{f.push(Promise.resolve().then(()=>this.validateField(h,i)))})}),(await Promise.all(f)).flat()},this.validateField=(r,s)=>{var i;const o=(i=this.fieldInfo[r])==null?void 0:i.instance;return o?(o.state.meta.isTouched||o.setMeta(a=>({...a,isTouched:!0})),o.validate(s)):[]},this.validateSync=r=>{const s=us(r,this.options);let i=!1;const o={};return Se(()=>{var a,l;for(const f of s){if(!f.validate)continue;const d=this.runValidator({validate:f.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:h,fieldErrors:g}=Xn(d),m=On(f.cause);for(const v of Object.keys(this.state.fieldMeta)){const x=this.getFieldMeta(v);if(!x)continue;const{errorMap:y,errorSourceMap:S}=x,b=g==null?void 0:g[v],{newErrorValue:C,newSource:R}=yi({newFormValidatorError:b,isPreviousErrorFromFormValidator:(S==null?void 0:S[m])==="form",previousErrorValue:y==null?void 0:y[m]});R==="form"&&(o[v]={...o[v],[m]:b}),(y==null?void 0:y[m])!==C&&this.setFieldMeta(v,_=>({..._,errorMap:{..._.errorMap,[m]:C},errorSourceMap:{..._.errorSourceMap,[m]:R}}))}((a=this.state.errorMap)==null?void 0:a[m])!==h&&this.baseStore.setState(v=>({...v,errorMap:{...v.errorMap,[m]:h}})),(h||g)&&(i=!0)}const c=On("submit");(l=this.state.errorMap)!=null&&l[c]&&r!=="submit"&&!i&&this.baseStore.setState(f=>({...f,errorMap:{...f.errorMap,[c]:void 0}}))}),{hasErrored:i,fieldsErrorMap:o}},this.validateAsync=async r=>{const s=ls(r,this.options);this.state.isFormValidating||this.baseStore.setState(c=>({...c,isFormValidating:!0}));const i=[];let o;for(const c of s){if(!c.validate)continue;const f=On(c.cause),d=this.state.validationMetaMap[f];d==null||d.lastAbortController.abort();const h=new AbortController;this.state.validationMetaMap[f]={lastAbortController:h},i.push(new Promise(async g=>{let m;try{m=await new Promise((S,b)=>{setTimeout(async()=>{if(h.signal.aborted)return S(void 0);try{S(await this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:h.signal},type:"validateAsync"}))}catch(C){b(C)}},c.debounceMs)})}catch(S){m=S}const{formError:v,fieldErrors:x}=Xn(m);x&&(o=o?{...o,...x}:x);const y=On(c.cause);for(const S of Object.keys(this.state.fieldMeta)){const b=this.getFieldMeta(S);if(!b)continue;const{errorMap:C,errorSourceMap:R}=b,_=o==null?void 0:o[S],{newErrorValue:D,newSource:j}=yi({newFormValidatorError:_,isPreviousErrorFromFormValidator:(R==null?void 0:R[y])==="form",previousErrorValue:C==null?void 0:C[y]});(C==null?void 0:C[y])!==D&&this.setFieldMeta(S,F=>({...F,errorMap:{...F.errorMap,[y]:D},errorSourceMap:{...F.errorSourceMap,[y]:j}}))}this.baseStore.setState(S=>({...S,errorMap:{...S.errorMap,[y]:v}})),g(o?{fieldErrors:o,errorMapKey:y}:void 0)}))}let a=[];const l={};if(i.length){a=await Promise.all(i);for(const c of a)if(c!=null&&c.fieldErrors){const{errorMapKey:f}=c;for(const[d,h]of Object.entries(c.fieldErrors)){const m={...l[d]||{},[f]:h};l[d]=m}}}return this.baseStore.setState(c=>({...c,isFormValidating:!1})),l},this.validate=r=>{const{hasErrored:s,fieldsErrorMap:i}=this.validateSync(r);return s&&!this.options.asyncAlways?i:this.validateAsync(r)},this.getFieldValue=r=>Wt(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>{var s;return(s=this.fieldInfo)[r]||(s[r]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(r,s)=>{this.baseStore.setState(i=>({...i,fieldMetaBase:{...i.fieldMetaBase,[r]:gr(s,i.fieldMetaBase[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((s,i)=>{const o=i;return s[o]=tr,s},{}),this.setFieldValue=(r,s,i)=>{const o=(i==null?void 0:i.dontUpdateMeta)??!1;Se(()=>{o||this.setFieldMeta(r,a=>({...a,isTouched:!0,isDirty:!0,errorMap:{...a==null?void 0:a.errorMap,onMount:void 0}})),this.baseStore.setState(a=>({...a,values:An(a.values,r,s)}))})},this.deleteField=r=>{const i=[...Object.keys(this.fieldInfo).filter(o=>{const a=r.toString();return o!==a&&o.startsWith(a)}),r];this.baseStore.setState(o=>{const a={...o};return i.forEach(l=>{a.values=Rc(a.values,l),delete this.fieldInfo[l],delete a.fieldMetaBase[l]}),a})},this.pushFieldValue=(r,s,i)=>{this.setFieldValue(r,o=>[...Array.isArray(o)?o:[],s],i),this.validateField(r,"change")},this.insertFieldValue=async(r,s,i,o)=>{this.setFieldValue(r,a=>[...a.slice(0,s),i,...a.slice(s)],o),await this.validateField(r,"change"),Vn(this).handleArrayFieldMetaShift(r,s,"insert"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.replaceFieldValue=async(r,s,i,o)=>{this.setFieldValue(r,a=>a.map((l,c)=>c===s?i:l),o),await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.removeFieldValue=async(r,s,i)=>{const o=this.getFieldValue(r),a=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(r,l=>l.filter((c,f)=>f!==s),i),Vn(this).handleArrayFieldMetaShift(r,s,"remove"),a!==null){const l=`${r}[${a}]`;this.deleteField(l)}await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.swapFieldValues=(r,s,i,o)=>{this.setFieldValue(r,a=>{const l=a[s],c=a[i];return An(An(a,`${s}`,c),`${i}`,l)},o),Vn(this).handleArrayFieldMetaShift(r,s,"swap",i),this.validateField(r,"change"),this.validateField(`${r}[${s}]`,"change"),this.validateField(`${r}[${i}]`,"change")},this.moveFieldValues=(r,s,i,o)=>{this.setFieldValue(r,a=>(a.splice(i,0,a.splice(s,1)[0]),a),o),Vn(this).handleArrayFieldMetaShift(r,s,"move",i),this.validateField(r,"change"),this.validateField(`${r}[${s}]`,"change"),this.validateField(`${r}[${i}]`,"change")},this.clearFieldValues=(r,s)=>{const i=this.getFieldValue(r),o=Array.isArray(i)?Math.max(i.length-1,0):null;if(this.setFieldValue(r,[],s),o!==null)for(let a=0;a<=o;a++){const l=`${r}[${a}]`;this.deleteField(l)}this.validateField(r,"change")},this.resetField=r=>{this.baseStore.setState(s=>({...s,fieldMetaBase:{...s.fieldMetaBase,[r]:tr},values:this.options.defaultValues?An(s.values,r,Wt(this.options.defaultValues,r)):s.values}))},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((r,[s,i])=>(Object.keys(i).length&&i.errors.length&&(r[s]={errors:i.errors,errorMap:i.errorMap}),r),{})}),this.parseValuesWithSchema=r=>xt.validate({value:this.state.values,validationSource:"form"},r),this.parseValuesWithSchemaAsync=r=>xt.validateAsync({value:this.state.values,validationSource:"form"},r),this.baseStore=new os(Pr({...t==null?void 0:t.defaultState,values:(t==null?void 0:t.defaultValues)??((n=t==null?void 0:t.defaultState)==null?void 0:n.values)})),this.fieldMetaDerived=new Ie({deps:[this.baseStore],fn:({prevDepVals:r,currDepVals:s,prevVal:i})=>{var o,a,l;const c=i,f=r==null?void 0:r[0],d=s[0];let h=0;const g={};for(const m of Object.keys(d.fieldMetaBase)){const v=d.fieldMetaBase[m],x=f==null?void 0:f.fieldMetaBase[m],y=c==null?void 0:c[m],S=Wt(d.values,m);let b=y==null?void 0:y.errors;if(!x||v.errorMap!==x.errorMap){b=Object.values(v.errorMap??{}).filter(j=>j!==void 0);const D=(o=this.getFieldInfo(m))==null?void 0:o.instance;D&&!D.options.disableErrorFlat&&(b=b==null?void 0:b.flat(1))}const C=!_c(b??[]),R=!v.isDirty,_=pt(S,Wt(this.options.defaultValues,m))||pt(S,(l=(a=this.getFieldInfo(m))==null?void 0:a.instance)==null?void 0:l.options.defaultValue);if(y&&y.isPristine===R&&y.isValid===C&&y.isDefaultValue===_&&y.errors===b&&v===x){g[m]=y,h++;continue}g[m]={...v,errors:b,isPristine:R,isValid:C,isDefaultValue:_}}return Object.keys(d.fieldMetaBase).length&&c&&h===Object.keys(d.fieldMetaBase).length?c:g}}),this.store=new Ie({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:r,currDepVals:s,prevVal:i})=>{var o,a,l,c;const f=i,d=r==null?void 0:r[0],h=s[0],g=s[1],m=Object.values(g).filter(Boolean),v=m.some(w=>w.isValidating),x=m.every(w=>w.isValid),y=m.some(w=>w.isTouched),S=m.some(w=>w.isBlurred),b=m.every(w=>w.isDefaultValue),C=y&&((o=h.errorMap)==null?void 0:o.onMount),R=m.some(w=>w.isDirty),_=!R,D=!!((a=h.errorMap)!=null&&a.onMount||m.some(w=>{var O;return(O=w==null?void 0:w.errorMap)==null?void 0:O.onMount})),j=!!v;let F=(f==null?void 0:f.errors)??[];(!d||h.errorMap!==d.errorMap)&&(F=Object.values(h.errorMap).reduce((w,O)=>O===void 0?w:O&&cs(O)?(w.push(O.form),w):(w.push(O),w),[]));const I=F.length===0,V=x&&I,z=this.options.canSubmitWhenInvalid??!1,E=h.submissionAttempts===0&&!y&&!D||!j&&!h.isSubmitting&&V||z;let N=h.errorMap;if(C&&(F=F.filter(w=>w!==h.errorMap.onMount),N=Object.assign(N,{onMount:void 0})),f&&d&&f.errorMap===N&&f.fieldMeta===this.fieldMetaDerived.state&&f.errors===F&&f.isFieldsValidating===v&&f.isFieldsValid===x&&f.isFormValid===I&&f.isValid===V&&f.canSubmit===E&&f.isTouched===y&&f.isBlurred===S&&f.isPristine===_&&f.isDefaultValue===b&&f.isDirty===R&&pt(d,h))return f;let k={...h,errorMap:N,fieldMeta:this.fieldMetaDerived.state,errors:F,isFieldsValidating:v,isFieldsValid:x,isFormValid:I,isValid:V,canSubmit:E,isTouched:y,isBlurred:S,isPristine:_,isDefaultValue:b,isDirty:R};const K=((l=this.options.transform)==null?void 0:l.deps)??[];if(K.length!==this.prevTransformArray.length||K.some((w,O)=>w!==this.prevTransformArray[O])){const w=Object.assign({},this,{state:k});(c=this.options.transform)==null||c.fn(w),k=w.state,this.prevTransformArray=K}return k}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{})}get state(){return this.store.state}runValidator(t){return Go(t.validate)?xt[t.type](t.value,t.validate):t.validate(t.value)}async handleSubmit(t){var n,r,s,i,o,a,l,c;if(this.baseStore.setState(d=>({...d,isSubmitted:!1,submissionAttempts:d.submissionAttempts+1,isSubmitSuccessful:!1})),Se(()=>{Object.values(this.fieldInfo).forEach(d=>{d.instance&&(d.instance.state.meta.isTouched||d.instance.setMeta(h=>({...h,isTouched:!0})))})}),!this.state.canSubmit)return;this.baseStore.setState(d=>({...d,isSubmitting:!0}));const f=()=>{this.baseStore.setState(d=>({...d,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){f(),(r=(n=this.options).onSubmitInvalid)==null||r.call(n,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){f(),(i=(s=this.options).onSubmitInvalid)==null||i.call(s,{value:this.state.values,formApi:this});return}Se(()=>{Object.values(this.fieldInfo).forEach(d=>{var h,g,m;(m=(g=(h=d.instance)==null?void 0:h.options.listeners)==null?void 0:g.onSubmit)==null||m.call(g,{value:d.instance.state.value,fieldApi:d.instance})})}),(a=(o=this.options.listeners)==null?void 0:o.onSubmit)==null||a.call(o,{formApi:this});try{await((c=(l=this.options).onSubmit)==null?void 0:c.call(l,{value:this.state.values,formApi:this,meta:t??this.options.onSubmitMeta})),Se(()=>{this.baseStore.setState(d=>({...d,isSubmitted:!0,isSubmitSuccessful:!0})),f()})}catch(d){throw this.baseStore.setState(h=>({...h,isSubmitSuccessful:!1})),f(),d}}setErrorMap(t){Se(()=>{Object.entries(t).forEach(([n,r])=>{const s=n;if(cs(r)){const{formError:i,fieldErrors:o}=Xn(r);for(const a of Object.keys(this.fieldInfo))this.getFieldMeta(a)&&this.setFieldMeta(a,c=>({...c,errorMap:{...c.errorMap,[s]:o==null?void 0:o[a]},errorSourceMap:{...c.errorSourceMap,[s]:"form"}}));this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[s]:i}}))}else this.baseStore.setState(i=>({...i,errorMap:{...i.errorMap,[s]:r}}))})})}}function Xn(e){if(e){if(cs(e)){const t=Xn(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return{formError:e}}return{formError:void 0}}function On(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class Ac{constructor(t){this.options={},this.mount=()=>{var n,r;const s=this.store.mount();this.options.defaultValue!==void 0&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const i=this.getInfo();i.instance=this,this.update(this.options);const{onMount:o}=this.options.validators||{};if(o){const a=this.runValidator({validate:o,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});a&&this.setMeta(l=>({...l,errorMap:{...l==null?void 0:l.errorMap,onMount:a},errorSourceMap:{...l==null?void 0:l.errorSourceMap,onMount:"field"}}))}return(r=(n=this.options.listeners)==null?void 0:n.onMount)==null||r.call(n,{value:this.state.value,fieldApi:this}),s},this.update=n=>{this.options=n;const r=this.name!==n.name;if(this.name=n.name,this.state.value===void 0){const s=Wt(n.form.options.defaultValues,n.name),i=n.defaultValue??s;r?this.setValue(o=>o||i,{dontUpdateMeta:!0}):i!==void 0&&this.setValue(i,{dontUpdateMeta:!0})}this.form.getFieldMeta(this.name)===void 0&&this.setMeta(this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,r),this.triggerOnChangeListener(),this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{this.form.pushFieldValue(this.name,n,r),this.triggerOnChangeListener()},this.insertValue=(n,r,s)=>{this.form.insertFieldValue(this.name,n,r,s),this.triggerOnChangeListener()},this.replaceValue=(n,r,s)=>{this.form.replaceFieldValue(this.name,n,r,s),this.triggerOnChangeListener()},this.removeValue=(n,r)=>{this.form.removeFieldValue(this.name,n,r),this.triggerOnChangeListener()},this.swapValues=(n,r,s)=>{this.form.swapFieldValues(this.name,n,r,s),this.triggerOnChangeListener()},this.moveValue=(n,r,s)=>{this.form.moveFieldValues(this.name,n,r,s),this.triggerOnChangeListener()},this.clearValues=n=>{this.form.clearFieldValues(this.name,n),this.triggerOnChangeListener()},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),s=[];for(const i of r){if(!i.instance)continue;const{onChangeListenTo:o,onBlurListenTo:a}=i.instance.options.validators||{};n==="change"&&(o!=null&&o.includes(this.name))&&s.push(i.instance),n==="blur"&&(a!=null&&a.includes(this.name))&&s.push(i.instance)}return s},this.validateSync=(n,r)=>{var s;const i=us(n,this.options),a=this.getLinkedFields(n).reduce((f,d)=>{const h=us(n,d.options);return h.forEach(g=>{g.field=d}),f.concat(h)},[]);let l=!1;Se(()=>{const f=(d,h)=>{var g;const m=Ln(h.cause),v=h.validate?Si(d.runValidator({validate:h.validate,value:{value:d.store.state.value,validationSource:"field",fieldApi:d},type:"validate"})):void 0,x=r[m],{newErrorValue:y,newSource:S}=xi({formLevelError:x,fieldLevelError:v});((g=d.state.meta.errorMap)==null?void 0:g[m])!==y&&d.setMeta(b=>({...b,errorMap:{...b.errorMap,[m]:y},errorSourceMap:{...b.errorSourceMap,[m]:S}})),y&&(l=!0)};for(const d of i)f(this,d);for(const d of a)d.validate&&f(d.field,d)});const c=Ln("submit");return(s=this.state.meta.errorMap)!=null&&s[c]&&n!=="submit"&&!l&&this.setMeta(f=>({...f,errorMap:{...f.errorMap,[c]:void 0},errorSourceMap:{...f.errorSourceMap,[c]:void 0}})),{hasErrored:l}},this.validateAsync=async(n,r)=>{const s=ls(n,this.options),i=await r,o=this.getLinkedFields(n),a=o.reduce((h,g)=>{const m=ls(n,g.options);return m.forEach(v=>{v.field=g}),h.concat(m)},[]);this.state.meta.isValidating||this.setMeta(h=>({...h,isValidating:!0}));for(const h of o)h.setMeta(g=>({...g,isValidating:!0}));const l=[],c=[],f=(h,g,m)=>{const v=Ln(g.cause),x=h.getInfo().validationMetaMap[v];x==null||x.lastAbortController.abort();const y=new AbortController;this.getInfo().validationMetaMap[v]={lastAbortController:y},m.push(new Promise(async S=>{var b;let C;try{C=await new Promise((F,I)=>{this.timeoutIds.validations[g.cause]&&clearTimeout(this.timeoutIds.validations[g.cause]),this.timeoutIds.validations[g.cause]=setTimeout(async()=>{if(y.signal.aborted)return F(void 0);try{F(await this.runValidator({validate:g.validate,value:{value:h.store.state.value,fieldApi:h,signal:y.signal,validationSource:"field"},type:"validateAsync"}))}catch(V){I(V)}},g.debounceMs)})}catch(F){C=F}if(y.signal.aborted)return S(void 0);const R=Si(C),_=(b=i[this.name])==null?void 0:b[v],{newErrorValue:D,newSource:j}=xi({formLevelError:_,fieldLevelError:R});h.setMeta(F=>({...F,errorMap:{...F==null?void 0:F.errorMap,[v]:D},errorSourceMap:{...F.errorSourceMap,[v]:j}})),S(D)}))};for(const h of s)h.validate&&f(this,h,l);for(const h of a)h.validate&&f(h.field,h,c);let d=[];(l.length||c.length)&&(d=await Promise.all(l),await Promise.all(c)),this.setMeta(h=>({...h,isValidating:!1}));for(const h of o)h.setMeta(g=>({...g,isValidating:!1}));return d.filter(Boolean)},this.validate=(n,r)=>{var s;if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:i}=r!=null&&r.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:o}=this.validateSync(n,i[this.name]??{});if(o&&!this.options.asyncAlways)return(s=this.getInfo().validationMetaMap[Ln(n)])==null||s.lastAbortController.abort(),this.state.meta.errors;const a=r!=null&&r.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,a)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{this.state.meta.isTouched||(this.setMeta(r=>({...r,isTouched:!0})),this.validate("change")),this.state.meta.isBlurred||this.setMeta(r=>({...r,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.parseValueWithSchema=n=>xt.validate({value:this.state.value,validationSource:"field"},n),this.parseValueWithSchemaAsync=n=>xt.validateAsync({value:this.state.value,validationSource:"field"},n),this.form=t.form,this.name=t.name,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new Ie({deps:[this.form.store],fn:()=>{const n=this.form.getFieldValue(this.name),r=this.form.getFieldMeta(this.name)??{...tr,...t.defaultMeta};return{value:n,meta:r}}}),this.options=t}get state(){return this.store.state}runValidator(t){return Go(t.validate)?xt[t.type](t.value,t.validate):t.validate(t.value)}setErrorMap(t){this.setMeta(n=>({...n,errorMap:{...n.errorMap,...t}}))}triggerOnBlurListener(){var t,n,r,s,i,o;const a=(t=this.form.options.listeners)==null?void 0:t.onBlurDebounceMs;a&&a>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{var c,f;(f=(c=this.form.options.listeners)==null?void 0:c.onBlur)==null||f.call(c,{formApi:this.form,fieldApi:this})},a)):(r=(n=this.form.options.listeners)==null?void 0:n.onBlur)==null||r.call(n,{formApi:this.form,fieldApi:this});const l=(s=this.options.listeners)==null?void 0:s.onBlurDebounceMs;l&&l>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{var c,f;(f=(c=this.options.listeners)==null?void 0:c.onBlur)==null||f.call(c,{value:this.state.value,fieldApi:this})},l)):(o=(i=this.options.listeners)==null?void 0:i.onBlur)==null||o.call(i,{value:this.state.value,fieldApi:this})}triggerOnChangeListener(){var t,n,r,s,i,o;const a=(t=this.form.options.listeners)==null?void 0:t.onChangeDebounceMs;a&&a>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{var c,f;(f=(c=this.form.options.listeners)==null?void 0:c.onChange)==null||f.call(c,{formApi:this.form,fieldApi:this})},a)):(r=(n=this.form.options.listeners)==null?void 0:n.onChange)==null||r.call(n,{formApi:this.form,fieldApi:this});const l=(s=this.options.listeners)==null?void 0:s.onChangeDebounceMs;l&&l>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{var c,f;(f=(c=this.options.listeners)==null?void 0:c.onChange)==null||f.call(c,{value:this.state.value,fieldApi:this})},l)):(o=(i=this.options.listeners)==null?void 0:i.onChange)==null||o.call(i,{value:this.state.value,fieldApi:this})}}function Si(e){if(e)return e}function Ln(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}var Uo={exports:{}},Wo={},qo={exports:{}},Ko={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Et=p;function Pc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vc=typeof Object.is=="function"?Object.is:Pc,Oc=Et.useState,Lc=Et.useEffect,$c=Et.useLayoutEffect,Tc=Et.useDebugValue;function kc(e,t){var n=t(),r=Oc({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return $c(function(){s.value=n,s.getSnapshot=t,Vr(s)&&i({inst:s})},[e,n,t]),Lc(function(){return Vr(s)&&i({inst:s}),e(function(){Vr(s)&&i({inst:s})})},[e]),Tc(n),n}function Vr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vc(e,n)}catch{return!0}}function zc(e,t){return t()}var Bc=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zc:kc;Ko.useSyncExternalStore=Et.useSyncExternalStore!==void 0?Et.useSyncExternalStore:Bc;qo.exports=Ko;var Hc=qo.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hr=p,Gc=Hc;function Uc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wc=typeof Object.is=="function"?Object.is:Uc,qc=Gc.useSyncExternalStore,Kc=hr.useRef,Xc=hr.useEffect,Qc=hr.useMemo,Yc=hr.useDebugValue;Wo.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=Kc(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Qc(function(){function l(g){if(!c){if(c=!0,f=g,g=r(g),s!==void 0&&o.hasValue){var m=o.value;if(s(m,g))return d=m}return d=g}if(m=d,Wc(f,g))return m;var v=r(g);return s!==void 0&&s(m,v)?(f=g,m):(f=g,d=v)}var c=!1,f,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,s]);var a=qc(e,i[0],i[1]);return Xc(function(){o.hasValue=!0,o.value=a},[a]),Yc(a),a};Uo.exports=Wo;var Zc=Uo.exports;function Fs(e,t=n=>n){return Zc.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,Jc)}function Jc(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!t.has(r)||!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}const nr=typeof window<"u"?p.useLayoutEffect:p.useEffect;function ed(e){const[t]=p.useState(()=>{const r=new Ac({...e,form:e.form,name:e.name});return r.Field=Xo,r});return nr(t.mount,[t]),nr(()=>{t.update(e)}),Fs(t.store,e.mode==="array"?n=>[n.meta,Object.keys(n.value??[]).length]:void 0),t}const Xo=({children:e,...t})=>{const n=ed(t),r=p.useMemo(()=>gr(e,n),[e,n,n.state.value,n.state.meta]);return u.jsx(u.Fragment,{children:r})};function td({form:e,selector:t,children:n}){const r=Fs(e.store,t);return gr(n,r)}function nd(e){const[t]=p.useState(()=>{const n=new Nc(e),r=n;return r.Field=function(i){return u.jsx(Xo,{...i,form:n})},r.Subscribe=s=>u.jsx(td,{form:n,selector:s.selector,children:s.children}),r});return nr(t.mount,[]),Fs(t.store,n=>n.isSubmitting),nr(()=>{t.update(e)}),t}const rd=[{value:"text",label:"Text"},{value:"textarea",label:"Textarea"},{value:"select",label:"Select"},{value:"radio",label:"Radio"},{value:"checkbox",label:"Checkbox"},{value:"media",label:"Media"},{value:"range",label:"Range"},{value:"switcher",label:"Switcher"},{value:"datetime",label:"DateTime"},{value:"wysiwyg",label:"WYSIWYG"},{value:"button",label:"Button"},{value:"repeater",label:"Repeater"},{value:"react-select",label:"React Select"}],sd=({field:e,onSave:t,onCancel:n,error:r,isLoading:s=!1})=>{const i=a=>{const l=a.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),c=Date.now().toString(36);return`field_${l}_${c}`},o=nd({defaultValues:{id:(e==null?void 0:e.id)||"",type:(e==null?void 0:e.type)||"text",label:(e==null?void 0:e.label)||"",description:(e==null?void 0:e.description)||"",required:(e==null?void 0:e.required)||!1,default_value:(e==null?void 0:e.default_value)||"",options:(e==null?void 0:e.options)||{}},onSubmit:async({value:a})=>{if(!a.label.trim()){o.setFieldMeta("label",c=>({...c,errors:["Label is required"]}));return}const l={...a,id:a.id||i(a.label)};t(l)}});return u.jsxs("div",{className:"space-y-4",children:[r&&u.jsxs("div",{className:"p-3 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:[u.jsx("strong",{children:"Error:"})," ",r]}),u.jsxs("form",{onSubmit:a=>{a.preventDefault(),a.stopPropagation(),o.handleSubmit()},className:"space-y-4",children:[" ",e!=null&&e.id?u.jsx(o.Field,{name:"id",children:a=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field ID"}),u.jsx("input",{name:a.name,type:"text",value:a.state.value,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]})}):u.jsx(o.Field,{name:"label",children:a=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field ID (Preview)"}),u.jsx("div",{className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-500 text-sm",children:a.state.value?i(a.state.value):"field_example_"+Date.now().toString(36).slice(-4)}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This ID will be auto-generated based on the label"})]})}),u.jsx(o.Field,{name:"type",validators:{onChange:({value:a})=>a?void 0:"Field type is required"},children:a=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Type *"}),u.jsx("select",{name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:l=>a.handleChange(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:rd.map(l=>u.jsx("option",{value:l.value,children:l.label},l.value))}),a.state.meta.errors&&u.jsx("div",{className:"mt-1 text-sm text-red-600",children:a.state.meta.errors.join(", ")})]})}),u.jsx(o.Field,{name:"label",validators:{onChange:({value:a})=>a!=null&&a.trim()?void 0:"Label is required"},children:a=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label *"}),u.jsx("input",{name:a.name,type:"text",value:a.state.value,onBlur:a.handleBlur,onChange:l=>a.handleChange(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),a.state.meta.errors&&u.jsx("div",{className:"mt-1 text-sm text-red-600",children:a.state.meta.errors.join(", ")})]})}),u.jsx(o.Field,{name:"description",children:a=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("textarea",{name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:l=>a.handleChange(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}),a.state.meta.errors&&u.jsx("div",{className:"mt-1 text-sm text-red-600",children:a.state.meta.errors.join(", ")})]})}),u.jsx(o.Field,{name:"required",children:a=>u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{name:a.name,type:"checkbox",checked:a.state.value,onBlur:a.handleBlur,onChange:l=>a.handleChange(l.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Required"})]}),a.state.meta.errors&&u.jsx("div",{className:"mt-1 text-sm text-red-600",children:a.state.meta.errors.join(", ")})]})}),u.jsx(o.Field,{name:"default_value",children:a=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Value"}),u.jsx("input",{name:a.name,type:"text",value:a.state.value||"",onBlur:a.handleBlur,onChange:l=>a.handleChange(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.state.meta.errors&&u.jsx("div",{className:"mt-1 text-sm text-red-600",children:a.state.meta.errors.join(", ")})]})}),u.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[u.jsxs(W,{type:"button",variant:"secondary",onClick:n,className:"flex items-center space-x-2",disabled:s,children:[u.jsx(bc,{size:16}),u.jsx("span",{children:"Cancel"})]}),u.jsx(o.Subscribe,{selector:a=>[a.canSubmit,a.isSubmitting],children:([a,l])=>u.jsxs(W,{type:"submit",variant:"primary",className:"flex items-center space-x-2",disabled:!a||l||s,children:[u.jsx(xc,{size:16}),u.jsx("span",{children:l||s?"Saving...":"Save Field"})]})})]})]})]})};function Qo(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}function Ds(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}function wi(e,t){return function(r,s,i,o=10){const a=e[t];if(!Ds(r)||!Qo(s))return;if(typeof i!="function"){console.error("The hook callback must be a function.");return}if(typeof o!="number"){console.error("If specified, the hook priority must be a number.");return}const l={callback:i,priority:o,namespace:s};if(a[r]){const c=a[r].handlers;let f;for(f=c.length;f>0&&!(o>=c[f-1].priority);f--);f===c.length?c[f]=l:c.splice(f,0,l),a.__current.forEach(d=>{d.name===r&&d.currentIndex>=f&&d.currentIndex++})}else a[r]={handlers:[l],runs:0};r!=="hookAdded"&&e.doAction("hookAdded",r,s,i,o)}}function $n(e,t,n=!1){return function(s,i){const o=e[t];if(!Ds(s)||!n&&!Qo(i))return;if(!o[s])return 0;let a=0;if(n)a=o[s].handlers.length,o[s]={runs:o[s].runs,handlers:[]};else{const l=o[s].handlers;for(let c=l.length-1;c>=0;c--)l[c].namespace===i&&(l.splice(c,1),a++,o.__current.forEach(f=>{f.name===s&&f.currentIndex>=c&&f.currentIndex--}))}return s!=="hookRemoved"&&e.doAction("hookRemoved",s,i),a}}function Ci(e,t){return function(r,s){const i=e[t];return typeof s<"u"?r in i&&i[r].handlers.some(o=>o.namespace===s):r in i}}function Tn(e,t,n,r){return function(i,...o){const a=e[t];a[i]||(a[i]={handlers:[],runs:0}),a[i].runs++;const l=a[i].handlers;if(!l||!l.length)return n?o[0]:void 0;const c={name:i,currentIndex:0};async function f(){try{a.__current.add(c);let h=n?o[0]:void 0;for(;c.currentIndex<l.length;)h=await l[c.currentIndex].callback.apply(null,o),n&&(o[0]=h),c.currentIndex++;return n?h:void 0}finally{a.__current.delete(c)}}function d(){try{a.__current.add(c);let h=n?o[0]:void 0;for(;c.currentIndex<l.length;)h=l[c.currentIndex].callback.apply(null,o),n&&(o[0]=h),c.currentIndex++;return n?h:void 0}finally{a.__current.delete(c)}}return(r?f:d)()}}function Ri(e,t){return function(){var o;var r;const s=e[t];return(r=(o=Array.from(s.__current).at(-1))==null?void 0:o.name)!==null&&r!==void 0?r:null}}function Mi(e,t){return function(r){const s=e[t];return typeof r>"u"?s.__current.size>0:Array.from(s.__current).some(i=>i.name===r)}}function Ei(e,t){return function(r){const s=e[t];if(Ds(r))return s[r]&&s[r].runs?s[r].runs:0}}class id{constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=wi(this,"actions"),this.addFilter=wi(this,"filters"),this.removeAction=$n(this,"actions"),this.removeFilter=$n(this,"filters"),this.hasAction=Ci(this,"actions"),this.hasFilter=Ci(this,"filters"),this.removeAllActions=$n(this,"actions",!0),this.removeAllFilters=$n(this,"filters",!0),this.doAction=Tn(this,"actions",!1,!1),this.doActionAsync=Tn(this,"actions",!1,!0),this.applyFilters=Tn(this,"filters",!0,!1),this.applyFiltersAsync=Tn(this,"filters",!0,!0),this.currentAction=Ri(this,"actions"),this.currentFilter=Ri(this,"filters"),this.doingAction=Mi(this,"actions"),this.doingFilter=Mi(this,"filters"),this.didAction=Ei(this,"actions"),this.didFilter=Ei(this,"filters")}}function Yo(){return new id}Yo();window.spiderBoxesHooks||(window.spiderBoxesHooks=Yo());const{filters:rh,addFilter:sh,applyFilters:ih,removeFilter:oh,removeAllFilters:ah,hasFilter:lh,actions:uh,addAction:ch,doAction:Or,removeAction:dh,removeAllActions:fh,hasAction:gh}=window.spiderBoxesHooks,od=e=>{if(e)return{id:e.id,type:e.type,label:e.title,description:e.description,default_value:e.value}},ad=e=>({id:e.id,type:e.type,title:e.label,description:e.description||"",value:e.default_value,parent:"",context:"default"});function ld(){const[e,t]=p.useState(!1),[n,r]=p.useState(null),s=Ft(),i=mn(),{data:o=[],isLoading:a}=rt({queryKey:["fields"],queryFn:()=>i.get("/fields")}),l=he({mutationFn:y=>i.post("/fields",y),onSuccess:()=>{s.invalidateQueries({queryKey:["fields"]}),t(!1),r(null),Or("spiderBoxes.fieldCreated")},onError:y=>{console.error("Error creating field:",y)}}),c=he({mutationFn:({id:y,...S})=>i.put(`/fields/${y}`,S),onSuccess:()=>{s.invalidateQueries({queryKey:["fields"]}),t(!1),r(null),Or("spiderBoxes.fieldUpdated")},onError:y=>{console.error("Error updating field:",y)}}),f=he({mutationFn:y=>i.del(`/fields/${y}`),onSuccess:()=>{s.invalidateQueries({queryKey:["fields"]}),Or("spiderBoxes.fieldDeleted")}}),d=()=>{r(null),t(!0),l.reset(),c.reset(),console.log("Opening dialog for new field")},h=y=>{r(y),t(!0),l.reset(),c.reset()},g=()=>{t(!1),r(null),l.reset(),c.reset()},m=y=>{confirm("Are you sure you want to delete this field?")&&f.mutate(y)},v=y=>{console.log("Form submitted with data:",y);const S=ad(y);if(console.log("Converted field data:",S),!S.id||!S.title||!S.type){console.error("Missing required fields: id, title and type are required");return}n?(console.log("Updating existing field:",n.id),c.mutate({...S,id:n.id})):(console.log("Creating new field"),l.mutate(S))},x=y=>{var S,b,C;return y?typeof y=="string"?y:y.message?y.message:(b=(S=y.response)==null?void 0:S.data)!=null&&b.message?y.response.data.message:(C=y.response)!=null&&C.statusText?y.response.statusText:"An unexpected error occurred":""};return a?u.jsx("div",{className:"flex items-center justify-center h-32",children:u.jsx("div",{className:"spider-boxes-loading"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Fields"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Manage individual fields that can be used in components."})]}),u.jsxs(W,{onClick:d,className:"spider-boxes-button",children:[u.jsx(mi,{className:"w-4 h-4 mr-2"}),"Add Field"]})]}),o.length===0?u.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[u.jsx("p",{className:"text-gray-500 mb-4",children:"No fields created yet."}),u.jsxs(W,{onClick:d,className:"spider-boxes-button",children:[u.jsx(mi,{className:"w-4 h-4 mr-2"}),"Create your first field"]})]}):u.jsxs("div",{className:"spider-boxes-table",children:[u.jsxs("div",{className:"spider-boxes-table-header",children:[u.jsx("div",{className:"spider-boxes-table-header-cell",children:"Field ID"}),u.jsx("div",{className:"spider-boxes-table-header-cell",children:"Title"}),u.jsx("div",{className:"spider-boxes-table-header-cell",children:"Type"}),u.jsx("div",{className:"spider-boxes-table-header-cell",children:"Parent"}),u.jsx("div",{className:"spider-boxes-table-header-cell",children:"Context"}),u.jsx("div",{className:"spider-boxes-table-header-cell",children:"Actions"})]}),u.jsx("div",{className:"divide-y divide-gray-200",children:o.map(y=>u.jsxs(Ke.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"spider-boxes-table-row",children:[u.jsx("div",{className:"spider-boxes-table-cell font-mono text-xs bg-gray-50",children:y.id}),u.jsx("div",{className:"spider-boxes-table-cell font-medium",children:y.title||y.id}),u.jsx("div",{className:"spider-boxes-table-cell",children:u.jsx("span",{className:"spider-boxes-badge spider-boxes-badge-success",children:y.type})}),u.jsx("div",{className:"spider-boxes-table-cell text-gray-500",children:y.parent||"—"}),u.jsx("div",{className:"spider-boxes-table-cell text-gray-500",children:y.context}),u.jsx("div",{className:"spider-boxes-table-cell",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>h(y),className:"text-primary-600 hover:text-primary-900",title:"Edit field",children:u.jsx(mc,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>m(y.id),className:"text-red-600 hover:text-red-900",title:"Delete field",children:u.jsx(yc,{className:"w-4 h-4"})})]})})]},y.id))})]})," ",u.jsx(At,{open:e,onOpenChange:t,children:u.jsxs(_t,{size:"lg",children:[u.jsx(It,{children:u.jsx(Nt,{children:n?"Edit Field":"Create New Field"})}),u.jsx(sd,{field:od(n),onSave:v,onCancel:g,error:x(l.error)||x(c.error),isLoading:l.isPending||c.isPending})]})})]})}const ud=()=>{var V,z,E,N,k,K,X;const e=Ft(),{get:t,post:n,patch:r,del:s}=mn(),[i,o]=p.useState(null),[a,l]=p.useState(!1),[c,f]=p.useState(!1),[d,h]=p.useState({}),{data:g=[],isLoading:m}=rt({queryKey:["components"],queryFn:()=>t("/components")}),{data:v=[],isLoading:x}=rt({queryKey:["component-types"],queryFn:()=>t("/component-types")}),y=he({mutationFn:w=>n("/components",w),onSuccess:()=>{e.invalidateQueries({queryKey:["components"]}),l(!1),h({})}}),S=he({mutationFn:({id:w,data:O})=>r(`/components/${w}`,O),onSuccess:()=>{e.invalidateQueries({queryKey:["components"]}),l(!1),o(null)}}),b=he({mutationFn:w=>s(`/components/${w}`),onSuccess:()=>{e.invalidateQueries({queryKey:["components"]})}}),C=()=>{f(!0),h({type:"accordion",title:"",description:"",config:{},fields:[]}),l(!0)},R=w=>{f(!1),o(w),h(w),l(!0)},_=()=>{c?y.mutate(d):i&&S.mutate({id:i.id,data:d})},D=w=>{confirm("Are you sure you want to delete this component?")&&b.mutate(w)},j=(w,O)=>{h(Y=>({...Y,[w]:O}))},F=(w,O)=>{h(Y=>({...Y,config:{...Y.config,[w]:O}}))},I=w=>({accordion:"📋",tab:"📑",row:"▦",column:"▨"})[w]||"🔧";return m||x?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"components-manager",children:[u.jsxs("div",{className:"components-header",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Components"}),u.jsx(W,{onClick:C,children:"Create Component"})]}),u.jsx("div",{className:"components-grid",children:u.jsx(vn,{children:g.map(w=>{var O;return u.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"component-card",children:[u.jsxs("div",{className:"component-card-header",children:[u.jsx("div",{className:"component-icon",children:I(w.type)}),u.jsxs("div",{className:"component-info",children:[u.jsx("h4",{className:"component-title",children:w.title}),u.jsx("p",{className:"component-type",children:w.type}),w.description&&u.jsx("p",{className:"component-description",children:w.description})]})]}),u.jsx("div",{className:"component-meta",children:u.jsxs("span",{className:"component-field-count",children:[((O=w.fields)==null?void 0:O.length)||0," fields"]})}),u.jsxs("div",{className:"component-actions",children:[u.jsx(W,{variant:"outline",size:"sm",onClick:()=>R(w),children:"Edit"}),u.jsx(W,{variant:"outline",size:"sm",onClick:()=>D(w.id),children:"Delete"})]})]},w.id)})})}),g.length===0&&u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-state-icon",children:"🔧"}),u.jsx("h3",{className:"empty-state-title",children:"No components yet"}),u.jsx("p",{className:"empty-state-description",children:"Create your first component to get started."}),u.jsx(W,{onClick:C,children:"Create Component"})]}),u.jsx(At,{open:a,onOpenChange:l,children:u.jsxs(_t,{size:"lg",children:[u.jsx(It,{children:u.jsx(Nt,{children:c?"Create Component":"Edit Component"})}),u.jsxs("div",{className:"component-form",children:[u.jsxs("div",{className:"form-grid",children:[u.jsx(U,{config:{id:"title",type:"text",label:"Component Title",required:!0,placeholder:"Enter component title"},value:d.title||"",onChange:w=>j("title",w)}),u.jsx(U,{config:{id:"type",type:"select",label:"Component Type",required:!0,options:v.map(w=>({label:w.label,value:w.type}))},value:d.type||"",onChange:w=>j("type",w)}),u.jsx(U,{config:{id:"description",type:"textarea",label:"Description",placeholder:"Enter component description",rows:3},value:d.description||"",onChange:w=>j("description",w)})]}),d.type&&u.jsxs("div",{className:"component-config",children:[u.jsx("h4",{className:"config-title",children:"Component Configuration"}),d.type==="accordion"&&u.jsxs("div",{className:"config-grid",children:[u.jsx(U,{config:{id:"collapsed",type:"switcher",label:"Start Collapsed"},value:((V=d.config)==null?void 0:V.collapsed)||!1,onChange:w=>F("collapsed",w)}),u.jsx(U,{config:{id:"multiple",type:"switcher",label:"Allow Multiple Open"},value:((z=d.config)==null?void 0:z.multiple)||!1,onChange:w=>F("multiple",w)})]}),d.type==="tab"&&u.jsxs("div",{className:"config-grid",children:[u.jsx(U,{config:{id:"orientation",type:"select",label:"Tab Orientation",options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"}]},value:((E=d.config)==null?void 0:E.orientation)||"horizontal",onChange:w=>F("orientation",w)}),u.jsx(U,{config:{id:"icon",type:"text",label:"Tab Icon",placeholder:"Icon class or emoji"},value:((N=d.config)==null?void 0:N.icon)||"",onChange:w=>F("icon",w)})]}),d.type==="row"&&u.jsxs("div",{className:"config-grid",children:[u.jsx(U,{config:{id:"gap",type:"select",label:"Column Gap",options:[{label:"Small",value:"sm"},{label:"Medium",value:"md"},{label:"Large",value:"lg"}]},value:((k=d.config)==null?void 0:k.gap)||"md",onChange:w=>F("gap",w)}),u.jsx(U,{config:{id:"align",type:"select",label:"Vertical Alignment",options:[{label:"Top",value:"start"},{label:"Center",value:"center"},{label:"Bottom",value:"end"}]},value:((K=d.config)==null?void 0:K.align)||"start",onChange:w=>F("align",w)})]}),d.type==="column"&&u.jsx("div",{className:"config-grid",children:u.jsx(U,{config:{id:"width",type:"select",label:"Column Width",options:[{label:"Auto",value:"auto"},{label:"1/12",value:"1/12"},{label:"2/12",value:"2/12"},{label:"3/12",value:"3/12"},{label:"4/12",value:"4/12"},{label:"6/12",value:"6/12"},{label:"8/12",value:"8/12"},{label:"12/12",value:"12/12"}]},value:((X=d.config)==null?void 0:X.width)||"auto",onChange:w=>F("width",w)})})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx(W,{variant:"outline",onClick:()=>l(!1),children:"Cancel"})," ",u.jsx(W,{onClick:_,disabled:y.isPending||S.isPending,children:c?"Create Component":"Save Changes"})]})]})]})})]})},cd=()=>{var V,z,E,N,k,K,X;const e=Ft(),{get:t,post:n,patch:r,del:s}=mn(),[i,o]=p.useState(null),[a,l]=p.useState(!1),[c,f]=p.useState(!1),[d,h]=p.useState({}),{data:g=[],isLoading:m}=rt({queryKey:["sections"],queryFn:()=>t("/sections")}),{data:v=[],isLoading:x}=rt({queryKey:["section-types"],queryFn:()=>t("/section-types")}),y=he({mutationFn:w=>n("/sections",w),onSuccess:()=>{e.invalidateQueries({queryKey:["sections"]}),l(!1),h({})}}),S=he({mutationFn:({id:w,data:O})=>r(`/sections/${w}`,O),onSuccess:()=>{e.invalidateQueries({queryKey:["sections"]}),l(!1),o(null)}}),b=he({mutationFn:w=>s(`/sections/${w}`),onSuccess:()=>{e.invalidateQueries({queryKey:["sections"]})}}),C=()=>{f(!0),h({type:"section",title:"",description:"",context:"default",screen:"",capability:"manage_options",priority:"default",config:{},components:[],fields:[]}),l(!0)},R=w=>{f(!1),o(w),h(w),l(!0)},_=()=>{c?y.mutate(d):i&&S.mutate({id:i.id,data:d})},D=w=>{confirm("Are you sure you want to delete this section?")&&b.mutate(w)},j=(w,O)=>{h(Y=>({...Y,[w]:O}))},F=(w,O)=>{h(Y=>({...Y,config:{...Y.config,[w]:O}}))},I=w=>({section:"📝",form:"📋"})[w]||"📄";return m||x?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"sections-manager",children:[u.jsxs("div",{className:"sections-header",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sections"}),u.jsx(W,{onClick:C,children:"Create Section"})]}),u.jsx("div",{className:"sections-grid",children:u.jsx(vn,{children:g.map(w=>{var O,Y;return u.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"section-card",children:[u.jsxs("div",{className:"section-card-header",children:[u.jsx("div",{className:"section-icon",children:I(w.type)}),u.jsxs("div",{className:"section-info",children:[u.jsx("h4",{className:"section-title",children:w.title}),u.jsx("p",{className:"section-type",children:w.type}),w.description&&u.jsx("p",{className:"section-description",children:w.description})]})]}),u.jsxs("div",{className:"section-meta",children:[u.jsxs("span",{className:"section-context",children:["Context: ",w.context]}),u.jsxs("span",{className:"section-capability",children:["Capability: ",w.capability]}),u.jsxs("span",{className:"section-component-count",children:[((O=w.components)==null?void 0:O.length)||0," components"]}),u.jsxs("span",{className:"section-field-count",children:[((Y=w.fields)==null?void 0:Y.length)||0," fields"]})]}),u.jsxs("div",{className:"section-actions",children:[u.jsx(W,{variant:"outline",size:"sm",onClick:()=>R(w),children:"Edit"}),u.jsx(W,{variant:"outline",size:"sm",onClick:()=>D(w.id),children:"Delete"})]})]},w.id)})})}),g.length===0&&u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-state-icon",children:"📄"}),u.jsx("h3",{className:"empty-state-title",children:"No sections yet"}),u.jsx("p",{className:"empty-state-description",children:"Create your first section to get started."}),u.jsx(W,{onClick:C,children:"Create Section"})]}),u.jsx(At,{open:a,onOpenChange:l,children:u.jsxs(_t,{size:"lg",children:[u.jsx(It,{children:u.jsx(Nt,{children:c?"Create Section":"Edit Section"})}),u.jsxs("div",{className:"section-form",children:[u.jsxs("div",{className:"form-grid",children:[u.jsx(U,{config:{id:"title",type:"text",label:"Section Title",required:!0,placeholder:"Enter section title"},value:d.title||"",onChange:w=>j("title",w)}),u.jsx(U,{config:{id:"type",type:"select",label:"Section Type",required:!0,options:v.map(w=>({label:w.label,value:w.type}))},value:d.type||"",onChange:w=>j("type",w)}),u.jsx(U,{config:{id:"description",type:"textarea",label:"Description",placeholder:"Enter section description",rows:3},value:d.description||"",onChange:w=>j("description",w)}),u.jsx(U,{config:{id:"context",type:"select",label:"Context",required:!0,options:[{label:"Default",value:"default"},{label:"Post Edit",value:"post_edit"},{label:"User Profile",value:"user_profile"},{label:"Settings",value:"settings"},{label:"WooCommerce Product",value:"wc_product"}]},value:d.context||"default",onChange:w=>j("context",w)}),u.jsx(U,{config:{id:"screen",type:"text",label:"Screen (Optional)",placeholder:"e.g., post, page, product",description:"Limit section to specific admin screens"},value:d.screen||"",onChange:w=>j("screen",w)}),u.jsx(U,{config:{id:"capability",type:"select",label:"Required Capability",required:!0,options:[{label:"Manage Options",value:"manage_options"},{label:"Edit Posts",value:"edit_posts"},{label:"Edit Pages",value:"edit_pages"},{label:"Edit Users",value:"edit_users"},{label:"Manage WooCommerce",value:"manage_woocommerce"}]},value:d.capability||"manage_options",onChange:w=>j("capability",w)}),u.jsx(U,{config:{id:"priority",type:"select",label:"Priority",options:[{label:"High",value:"high"},{label:"Default",value:"default"},{label:"Low",value:"low"}]},value:d.priority||"default",onChange:w=>j("priority",w)})]}),d.type&&u.jsxs("div",{className:"section-config",children:[u.jsx("h4",{className:"config-title",children:"Section Configuration"}),d.type==="section"&&u.jsxs("div",{className:"config-grid",children:[u.jsx(U,{config:{id:"collapsible",type:"switcher",label:"Collapsible",description:"Allow users to collapse this section"},value:((V=d.config)==null?void 0:V.collapsible)||!1,onChange:w=>F("collapsible",w)}),u.jsx(U,{config:{id:"collapsed",type:"switcher",label:"Start Collapsed",description:"Start with the section collapsed"},value:((z=d.config)==null?void 0:z.collapsed)||!1,onChange:w=>F("collapsed",w)})]}),d.type==="form"&&u.jsxs("div",{className:"config-grid",children:[u.jsx(U,{config:{id:"method",type:"select",label:"Form Method",options:[{label:"POST",value:"post"},{label:"GET",value:"get"}]},value:((E=d.config)==null?void 0:E.method)||"post",onChange:w=>F("method",w)}),u.jsx(U,{config:{id:"action",type:"text",label:"Form Action URL",placeholder:"Leave empty for current page"},value:((N=d.config)==null?void 0:N.action)||"",onChange:w=>F("action",w)}),u.jsx(U,{config:{id:"ajax",type:"switcher",label:"AJAX Submission",description:"Submit form via AJAX"},value:((k=d.config)==null?void 0:k.ajax)||!1,onChange:w=>F("ajax",w)}),u.jsx(U,{config:{id:"submit_text",type:"text",label:"Submit Button Text",placeholder:"Submit"},value:((K=d.config)==null?void 0:K.submit_text)||"Submit",onChange:w=>F("submit_text",w)}),u.jsx(U,{config:{id:"nonce_action",type:"text",label:"Nonce Action",placeholder:"Enter nonce action for security"},value:((X=d.config)==null?void 0:X.nonce_action)||"",onChange:w=>F("nonce_action",w)})]})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx(W,{variant:"outline",onClick:()=>l(!1),children:"Cancel"})," ",u.jsx(W,{onClick:_,disabled:y.isPending||S.isPending,children:c?"Create Section":"Save Changes"})]})]})]})})]})};function dd(){return u.jsxs("div",{className:"spider-boxes-admin",children:[u.jsxs("div",{className:"spider-boxes-header",children:[u.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Spider Boxes Configuration"}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage field types, fields, components, and sections for your custom meta boxes."})]}),u.jsx("div",{className:"spider-boxes-content",children:u.jsxs(ml,{defaultValue:"fields",className:"w-full",children:[u.jsxs(yl,{className:"grid w-full grid-cols-4",children:[u.jsx(Mn,{value:"fields",children:"Fields"}),u.jsx(Mn,{value:"components",children:"Components"}),u.jsx(Mn,{value:"sections",children:"Sections"}),u.jsx(Mn,{value:"field-types",children:"Field Types"})]}),u.jsx(En,{value:"fields",className:"mt-6",children:u.jsx(ld,{})}),u.jsx(En,{value:"components",className:"mt-6",children:u.jsx(ud,{})}),u.jsx(En,{value:"sections",className:"mt-6",children:u.jsx(cd,{})}),u.jsx(En,{value:"field-types",className:"mt-6",children:u.jsx(vc,{})})]})})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function fd(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function We(e,t){return typeof e=="function"?e(t):e}function ce(e,t){return n=>{t.setState(r=>({...r,[e]:We(n,r[e])}))}}function pr(e){return e instanceof Function}function gd(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function hd(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&r(o)})};return r(e),n}function A(e,t,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(i);if(!(a.length!==r.length||a.some((f,d)=>r[d]!==f)))return s;r=a;let c;if(n.key&&n.debug&&(c=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-o)*100)/100,d=Math.round((Date.now()-c)*100)/100,h=d/16,g=(m,v)=>{for(m=String(m);m.length<v;)m=" "+m;return m};console.info(`%c⏱ ${g(d,5)} /${g(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function P(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function pd(e,t,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:A(()=>[e,n,t,i],(o,a,l,c)=>({table:o,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),P(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,n,t,e)},{}),i}function vd(e,t,n,r){var s,i;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let c=(s=(i=a.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,f;if(a.accessorFn?f=a.accessorFn:l&&(l.includes(".")?f=h=>{let g=h;for(const v of l.split(".")){var m;g=(m=g)==null?void 0:m[v]}return g}:f=h=>h[a.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:f,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:A(()=>[!0],()=>{var h;return[d,...(h=d.columns)==null?void 0:h.flatMap(g=>g.getFlatColumns())]},P(e.options,"debugColumns")),getLeafColumns:A(()=>[e._getOrderColumnsFn()],h=>{var g;if((g=d.columns)!=null&&g.length){let m=d.columns.flatMap(v=>v.getLeafColumns());return h(m)}return[d]},P(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(d,e);return d}const te="debugHeaders";function Fi(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const md={createTable:e=>{e.getHeaderGroups=A(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,o;const a=(i=r==null?void 0:r.map(d=>n.find(h=>h.id===d)).filter(Boolean))!=null?i:[],l=(o=s==null?void 0:s.map(d=>n.find(h=>h.id===d)).filter(Boolean))!=null?o:[],c=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(s!=null&&s.includes(d.id)));return kn(t,[...a,...c,...l],e)},P(e.options,te)),e.getCenterHeaderGroups=A(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),kn(t,n,e,"center")),P(e.options,te)),e.getLeftHeaderGroups=A(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return kn(t,i,e,"left")},P(e.options,te)),e.getRightHeaderGroups=A(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return kn(t,i,e,"right")},P(e.options,te)),e.getFooterGroups=A(()=>[e.getHeaderGroups()],t=>[...t].reverse(),P(e.options,te)),e.getLeftFooterGroups=A(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),P(e.options,te)),e.getCenterFooterGroups=A(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),P(e.options,te)),e.getRightFooterGroups=A(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),P(e.options,te)),e.getFlatHeaders=A(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),P(e.options,te)),e.getLeftFlatHeaders=A(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),P(e.options,te)),e.getCenterFlatHeaders=A(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),P(e.options,te)),e.getRightFlatHeaders=A(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),P(e.options,te)),e.getCenterLeafHeaders=A(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),P(e.options,te)),e.getLeftLeafHeaders=A(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),P(e.options,te)),e.getRightLeafHeaders=A(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),P(e.options,te)),e.getLeafHeaders=A(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,o,a,l,c;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(f=>f.getLeafHeaders()).flat()},P(e.options,te))}};function kn(e,t,n,r){var s,i;let o=0;const a=function(h,g){g===void 0&&(g=1),o=Math.max(o,g),h.filter(m=>m.getIsVisible()).forEach(m=>{var v;(v=m.columns)!=null&&v.length&&a(m.columns,g+1)},0)};a(e);let l=[];const c=(h,g)=>{const m={depth:g,id:[r,`${g}`].filter(Boolean).join("_"),headers:[]},v=[];h.forEach(x=>{const y=[...v].reverse()[0],S=x.column.depth===m.depth;let b,C=!1;if(S&&x.column.parent?b=x.column.parent:(b=x.column,C=!0),y&&(y==null?void 0:y.column)===b)y.subHeaders.push(x);else{const R=Fi(n,b,{id:[r,g,b.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:C,placeholderId:C?`${v.filter(_=>_.column===b).length}`:void 0,depth:g,index:v.length});R.subHeaders.push(x),v.push(R)}m.headers.push(x),x.headerGroup=m}),l.push(m),g>0&&c(v,g-1)},f=t.map((h,g)=>Fi(n,h,{depth:o,index:g}));c(f,o-1),l.reverse();const d=h=>h.filter(m=>m.column.getIsVisible()).map(m=>{let v=0,x=0,y=[0];m.subHeaders&&m.subHeaders.length?(y=[],d(m.subHeaders).forEach(b=>{let{colSpan:C,rowSpan:R}=b;v+=C,y.push(R)})):v=1;const S=Math.min(...y);return x=x+S,m.colSpan=v,m.rowSpan=x,{colSpan:v,rowSpan:x}});return d((s=(i=l[0])==null?void 0:i.headers)!=null?s:[]),l}const js=(e,t,n,r,s,i,o)=>{let a={id:t,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>hd(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const f=c.getParentRow();if(!f)break;l.push(f),c=f}return l.reverse()},getAllCells:A(()=>[e.getAllLeafColumns()],l=>l.map(c=>pd(e,a,c,c.id)),P(e.options,"debugRows")),_getAllCellsByColumnId:A(()=>[a.getAllCells()],l=>l.reduce((c,f)=>(c[f.column.id]=f,c),{}),P(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(a,e)}return a},yd={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Zo=(e,t,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};Zo.autoRemove=e=>pe(e);const Jo=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Jo.autoRemove=e=>pe(e);const ea=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};ea.autoRemove=e=>pe(e);const ta=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};ta.autoRemove=e=>pe(e);const na=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});na.autoRemove=e=>pe(e)||!(e!=null&&e.length);const ra=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});ra.autoRemove=e=>pe(e)||!(e!=null&&e.length);const sa=(e,t,n)=>e.getValue(t)===n;sa.autoRemove=e=>pe(e);const ia=(e,t,n)=>e.getValue(t)==n;ia.autoRemove=e=>pe(e);const _s=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};_s.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const a=i;i=o,o=a}return[i,o]};_s.autoRemove=e=>pe(e)||pe(e[0])&&pe(e[1]);const je={includesString:Zo,includesStringSensitive:Jo,equalsString:ea,arrIncludes:ta,arrIncludesAll:na,arrIncludesSome:ra,equals:sa,weakEquals:ia,inNumberRange:_s};function pe(e){return e==null||e===""}const xd={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ce("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?je.includesString:typeof r=="number"?je.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?je.equals:Array.isArray(r)?je.arrIncludes:je.weakEquals},e.getFilterFn=()=>{var n,r;return pr(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:je[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r==null?void 0:r.find(f=>f.id===e.id),o=We(n,i?i.value:void 0);if(Di(s,o,e)){var a;return(a=r==null?void 0:r.filter(f=>f.id!==e.id))!=null?a:[]}const l={id:e.id,value:o};if(i){var c;return(c=r==null?void 0:r.map(f=>f.id===e.id?l:f))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=We(t,s))==null?void 0:i.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(Di(l,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Di(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const bd=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),Sd=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},wd=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},Cd=(e,t,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},Rd=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},Md=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!gd(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},Ed=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Fd=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Dd=(e,t)=>t.length,Lr={sum:bd,min:Sd,max:wd,extent:Cd,mean:Rd,median:Md,unique:Ed,uniqueCount:Fd,count:Dd},jd={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ce("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Lr.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Lr.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return pr(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Lr[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function _d(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...r]}const Id={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ce("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=A(n=>[Xt(t,n)],n=>n.findIndex(r=>r.id===e.id),P(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Xt(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=Xt(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=A(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const o=[...t],a=[...s];for(;a.length&&o.length;){const l=o.shift(),c=a.findIndex(f=>f.id===l);c>-1&&i.push(a.splice(c,1)[0])}i=[...i,...a]}return _d(i,n,r)},P(e.options,"debugTable"))}},$r=()=>({left:[],right:[]}),Nd={getInitialState:e=>({columnPinning:$r(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ce("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,o;if(n==="right"){var a,l;return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=s==null?void 0:s.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var c,f;return{left:[...((c=s==null?void 0:s.left)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((f=s==null?void 0:s.right)!=null?f:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(d=>!(r!=null&&r.includes(d))),right:((o=s==null?void 0:s.right)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=A(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},P(t.options,"debugRows")),e.getLeftVisibleCells=A(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),P(t.options,"debugRows")),e.getRightVisibleCells=A(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),P(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?$r():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:$r())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=A(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),P(e.options,"debugColumns")),e.getRightLeafColumns=A(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),P(e.options,"debugColumns")),e.getCenterLeafColumns=A(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},P(e.options,"debugColumns"))}};function Ad(e){return e||(typeof document<"u"?document:null)}const zn={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Tr=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Pd={getDefaultColumnDef:()=>zn,getInitialState:e=>({columnSizing:{},columnSizingInfo:Tr(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ce("columnSizing",e),onColumnSizingInfoChange:ce("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:zn.minSize,(r=i??e.columnDef.size)!=null?r:zn.size),(s=e.columnDef.maxSize)!=null?s:zn.maxSize)},e.getStart=A(n=>[n,Xt(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),P(t.options,"debugColumns")),e.getAfter=A(n=>[n,Xt(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),P(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),kr(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],l=kr(i)?Math.round(i.touches[0].clientX):i.clientX,c={},f=(y,S)=>{typeof S=="number"&&(t.setColumnSizingInfo(b=>{var C,R;const _=t.options.columnResizeDirection==="rtl"?-1:1,D=(S-((C=b==null?void 0:b.startOffset)!=null?C:0))*_,j=Math.max(D/((R=b==null?void 0:b.startSize)!=null?R:0),-.999999);return b.columnSizingStart.forEach(F=>{let[I,V]=F;c[I]=Math.round(Math.max(V+V*j,0)*100)/100}),{...b,deltaOffset:D,deltaPercentage:j}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(b=>({...b,...c})))},d=y=>f("move",y),h=y=>{f("end",y),t.setColumnSizingInfo(S=>({...S,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g=Ad(n),m={moveHandler:y=>d(y.clientX),upHandler:y=>{g==null||g.removeEventListener("mousemove",m.moveHandler),g==null||g.removeEventListener("mouseup",m.upHandler),h(y.clientX)}},v={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),d(y.touches[0].clientX),!1),upHandler:y=>{var S;g==null||g.removeEventListener("touchmove",v.moveHandler),g==null||g.removeEventListener("touchend",v.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),h((S=y.touches[0])==null?void 0:S.clientX)}},x=Vd()?{passive:!1}:!1;kr(i)?(g==null||g.addEventListener("touchmove",v.moveHandler,x),g==null||g.addEventListener("touchend",v.upHandler,x)):(g==null||g.addEventListener("mousemove",m.moveHandler,x),g==null||g.addEventListener("mouseup",m.upHandler,x)),t.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Tr():(n=e.initialState.columnSizingInfo)!=null?n:Tr())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let Bn=null;function Vd(){if(typeof Bn=="boolean")return Bn;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Bn=e,Bn}function kr(e){return e.type==="touchstart"}const Od={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ce("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=A(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),P(t.options,"debugRows")),e.getVisibleCells=A(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],P(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>A(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),P(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Xt(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Ld={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},$d={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ce("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>je.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return pr(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:je[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Td={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ce("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:a,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},ds=0,fs=10,zr=()=>({pageIndex:ds,pageSize:fs}),kd={getInitialState:e=>({...e,pagination:{...zr(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ce("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>We(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?zr():(s=e.initialState.pagination)!=null?s:zr())},e.setPageIndex=r=>{e.setPagination(s=>{let i=We(r,s.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?ds:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:ds)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?fs:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:fs)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,We(r,s.pageSize)),o=s.pageSize*s.pageIndex,a=Math.floor(o/i);return{...s,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let o=We(r,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),e.getPageOptions=A(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},P(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Br=()=>({top:[],bottom:[]}),zd={getInitialState:e=>({rowPinning:Br(),...e}),getDefaultOptions:e=>({onRowPinningChange:ce("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],o=s?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...o,e.id,...i]);t.setRowPinning(l=>{var c,f;if(n==="bottom"){var d,h;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(v=>!(a!=null&&a.has(v))),bottom:[...((h=l==null?void 0:l.bottom)!=null?h:[]).filter(v=>!(a!=null&&a.has(v))),...Array.from(a)]}}if(n==="top"){var g,m;return{top:[...((g=l==null?void 0:l.top)!=null?g:[]).filter(v=>!(a!=null&&a.has(v))),...Array.from(a)],bottom:((m=l==null?void 0:l.bottom)!=null?m:[]).filter(v=>!(a!=null&&a.has(v)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(v=>!(a!=null&&a.has(v))),bottom:((f=l==null?void 0:l.bottom)!=null?f:[]).filter(v=>!(a!=null&&a.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>s==null?void 0:s.includes(a));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Br():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Br())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=A(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),P(e.options,"debugRows")),e.getBottomRows=A(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),P(e.options,"debugRows")),e.getCenterRows=A(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},P(e.options,"debugRows"))}},Bd={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ce("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{gs(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=A(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Hr(e,n):{rows:[],flatRows:[],rowsById:{}},P(e.options,"debugTable")),e.getFilteredSelectedRowModel=A(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Hr(e,n):{rows:[],flatRows:[],rowsById:{}},P(e.options,"debugTable")),e.getGroupedSelectedRowModel=A(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Hr(e,n):{rows:[],flatRows:[],rowsById:{}},P(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const a={...i};return gs(a,e.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Is(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return hs(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return hs(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},gs=(e,t,n,r,s)=>{var i;const o=s.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>gs(e,a.id,n,r,s))};function Hr(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(o,a){return o.map(l=>{var c;const f=Is(l,n);if(f&&(r.push(l),s[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:i(l.subRows)}),f)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function Is(e,t){var n;return(n=t[e.id])!=null?n:!1}function hs(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(Is(o,t)?i=!0:s=!1),o.subRows&&o.subRows.length)){const a=hs(o,t);a==="all"?i=!0:(a==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const ps=/([0-9]+)/gm,Hd=(e,t,n)=>oa(Xe(e.getValue(n)).toLowerCase(),Xe(t.getValue(n)).toLowerCase()),Gd=(e,t,n)=>oa(Xe(e.getValue(n)),Xe(t.getValue(n))),Ud=(e,t,n)=>Ns(Xe(e.getValue(n)).toLowerCase(),Xe(t.getValue(n)).toLowerCase()),Wd=(e,t,n)=>Ns(Xe(e.getValue(n)),Xe(t.getValue(n))),qd=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},Kd=(e,t,n)=>Ns(e.getValue(n),t.getValue(n));function Ns(e,t){return e===t?0:e>t?1:-1}function Xe(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function oa(e,t){const n=e.split(ps).filter(Boolean),r=t.split(ps).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),a=parseInt(i,10),l=[o,a].sort();if(isNaN(l[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const Ht={alphanumeric:Hd,alphanumericCaseSensitive:Gd,text:Ud,textCaseSensitive:Wd,datetime:qd,basic:Kd},Xd={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ce("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Ht.datetime;if(typeof i=="string"&&(r=!0,i.split(ps).length>1))return Ht.alphanumeric}return r?Ht.text:Ht.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return pr(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Ht[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(g=>g.id===e.id),l=o==null?void 0:o.findIndex(g=>g.id===e.id);let c=[],f,d=i?n:s==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?f="toggle":f="add":o!=null&&o.length&&l!==o.length-1?f="replace":a?f="toggle":f="replace",f==="toggle"&&(i||s||(f="remove")),f==="add"){var h;c=[...o,{id:e.id,desc:d}],c.splice(0,c.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else f==="toggle"?c=o.map(g=>g.id===e.id?{...g,desc:d}:g):f==="remove"?c=o.filter(g=>g.id!==e.id):c=[{id:e.id,desc:d}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Qd=[md,Od,Id,Nd,yd,xd,Ld,$d,Xd,jd,Td,kd,zd,Bd,Pd];function Yd(e){var t,n;const r=[...Qd,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((h,g)=>Object.assign(h,g.getDefaultOptions==null?void 0:g.getDefaultOptions(s)),{}),o=h=>s.options.mergeOptions?s.options.mergeOptions(i,h):{...i,...h};let l={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(h=>{var g;l=(g=h.getInitialState==null?void 0:h.getInitialState(l))!=null?g:l});const c=[];let f=!1;const d={_features:r,options:{...i,...e},initialState:l,_queue:h=>{c.push(h),f||(f=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();f=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{s.setState(s.initialState)},setOptions:h=>{const g=We(h,s.options);s.options=o(g)},getState:()=>s.options.state,setState:h=>{s.options.onStateChange==null||s.options.onStateChange(h)},_getRowId:(h,g,m)=>{var v;return(v=s.options.getRowId==null?void 0:s.options.getRowId(h,g,m))!=null?v:`${m?[m.id,g].join("."):g}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(h,g)=>{let m=(g?s.getPrePaginationRowModel():s.getRowModel()).rowsById[h];if(!m&&(m=s.getCoreRowModel().rowsById[h],!m))throw new Error;return m},_getDefaultColumnDef:A(()=>[s.options.defaultColumn],h=>{var g;return h=(g=h)!=null?g:{},{header:m=>{const v=m.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:m=>{var v,x;return(v=(x=m.renderValue())==null||x.toString==null?void 0:x.toString())!=null?v:null},...s._features.reduce((m,v)=>Object.assign(m,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...h}},P(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:A(()=>[s._getColumnDefs()],h=>{const g=function(m,v,x){return x===void 0&&(x=0),m.map(y=>{const S=vd(s,y,x,v),b=y;return S.columns=b.columns?g(b.columns,S,x+1):[],S})};return g(h)},P(e,"debugColumns")),getAllFlatColumns:A(()=>[s.getAllColumns()],h=>h.flatMap(g=>g.getFlatColumns()),P(e,"debugColumns")),_getAllFlatColumnsById:A(()=>[s.getAllFlatColumns()],h=>h.reduce((g,m)=>(g[m.id]=m,g),{}),P(e,"debugColumns")),getAllLeafColumns:A(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(h,g)=>{let m=h.flatMap(v=>v.getLeafColumns());return g(m)},P(e,"debugColumns")),getColumn:h=>s._getAllFlatColumnsById()[h]};Object.assign(s,d);for(let h=0;h<s._features.length;h++){const g=s._features[h];g==null||g.createTable==null||g.createTable(s)}return s}function Zd(){return e=>A(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const a=[];for(let c=0;c<s.length;c++){const f=js(e,e._getRowId(s[c],c,o),s[c],c,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,a.push(f),e.options.getSubRows){var l;f.originalSubRows=e.options.getSubRows(s[c],c),(l=f.originalSubRows)!=null&&l.length&&(f.subRows=r(f.originalSubRows,i+1,f))}}return a};return n.rows=r(t),n},P(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Jd(e){const t=[],n=r=>{var s;t.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function ef(e,t,n){return n.options.filterFromLeafRows?tf(e,t,n):nf(e,t,n)}function tf(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const f=[];for(let h=0;h<l.length;h++){var d;let g=l[h];const m=js(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);if(m.columnFilters=g.columnFilters,(d=g.subRows)!=null&&d.length&&c<o){if(m.subRows=a(g.subRows,c+1),g=m,t(g)&&!m.subRows.length){f.push(g),i[g.id]=g,s.push(g);continue}if(t(g)||m.subRows.length){f.push(g),i[g.id]=g,s.push(g);continue}}else g=m,t(g)&&(f.push(g),i[g.id]=g,s.push(g))}return f};return{rows:a(e),flatRows:s,rowsById:i}}function nf(e,t,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const f=[];for(let h=0;h<l.length;h++){let g=l[h];if(t(g)){var d;if((d=g.subRows)!=null&&d.length&&c<o){const v=js(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);v.subRows=a(g.subRows,c+1),g=v}f.push(g),s.push(g),i[g.id]=g}}return f};return{rows:a(e),flatRows:s,rowsById:i}}function rf(){return e=>A(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let h=0;h<t.flatRows.length;h++)t.flatRows[h].columnFilters={},t.flatRows[h].columnFiltersMeta={};return t}const s=[],i=[];(n??[]).forEach(h=>{var g;const m=e.getColumn(h.id);if(!m)return;const v=m.getFilterFn();v&&s.push({id:h.id,filterFn:v,resolvedValue:(g=v.resolveFilterValue==null?void 0:v.resolveFilterValue(h.value))!=null?g:h.value})});const o=(n??[]).map(h=>h.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());r&&a&&l.length&&(o.push("__global__"),l.forEach(h=>{var g;i.push({id:h.id,filterFn:a,resolvedValue:(g=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?g:r})}));let c,f;for(let h=0;h<t.flatRows.length;h++){const g=t.flatRows[h];if(g.columnFilters={},s.length)for(let m=0;m<s.length;m++){c=s[m];const v=c.id;g.columnFilters[v]=c.filterFn(g,v,c.resolvedValue,x=>{g.columnFiltersMeta[v]=x})}if(i.length){for(let m=0;m<i.length;m++){f=i[m];const v=f.id;if(f.filterFn(g,v,f.resolvedValue,x=>{g.columnFiltersMeta[v]=x})){g.columnFilters.__global__=!0;break}}g.columnFilters.__global__!==!0&&(g.columnFilters.__global__=!1)}}const d=h=>{for(let g=0;g<o.length;g++)if(h.columnFilters[o[g]]===!1)return!1;return!0};return ef(t.rows,d,e)},P(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function sf(e){return t=>A(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:i}=n;let{rows:o,flatRows:a,rowsById:l}=r;const c=s*i,f=c+s;o=o.slice(c,f);let d;t.options.paginateExpandedRows?d={rows:o,flatRows:a,rowsById:l}:d=Jd({rows:o,flatRows:a,rowsById:l}),d.flatRows=[];const h=g=>{d.flatRows.push(g),g.subRows.length&&g.subRows.forEach(h)};return d.rows.forEach(h),d},P(t.options,"debugTable"))}function of(){return e=>A(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),o={};i.forEach(l=>{const c=e.getColumn(l.id);c&&(o[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(f=>({...f}));return c.sort((f,d)=>{for(let g=0;g<i.length;g+=1){var h;const m=i[g],v=o[m.id],x=v.sortUndefined,y=(h=m==null?void 0:m.desc)!=null?h:!1;let S=0;if(x){const b=f.getValue(m.id),C=d.getValue(m.id),R=b===void 0,_=C===void 0;if(R||_){if(x==="first")return R?-1:1;if(x==="last")return R?1:-1;S=R&&_?0:R?x:-x}}if(S===0&&(S=v.sortingFn(f,d,m.id)),S!==0)return y&&(S*=-1),v.invertSorting&&(S*=-1),S}return f.index-d.index}),c.forEach(f=>{var d;s.push(f),(d=f.subRows)!=null&&d.length&&(f.subRows=a(f.subRows))}),c};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},P(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function af(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=p.useState(()=>({current:Yd(t)})),[r,s]=p.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:o=>{s(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}function lf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const vr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pt(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function As(e){return"nodeType"in e}function oe(e){var t,n;return e?Pt(e)?e:As(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ps(e){const{Document:t}=oe(e);return e instanceof t}function yn(e){return Pt(e)?!1:e instanceof oe(e).HTMLElement}function aa(e){return e instanceof oe(e).SVGElement}function Vt(e){return e?Pt(e)?e.document:As(e)?Ps(e)?e:yn(e)||aa(e)?e.ownerDocument:document:document:document}const Re=vr?p.useLayoutEffect:p.useEffect;function Vs(e){const t=p.useRef(e);return Re(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function uf(){const e=p.useRef(null),t=p.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function tn(e,t){t===void 0&&(t=[e]);const n=p.useRef(e);return Re(()=>{n.current!==e&&(n.current=e)},t),n}function xn(e,t){const n=p.useRef();return p.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function rr(e){const t=Vs(e),n=p.useRef(null),r=p.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function vs(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let Gr={};function bn(e,t){return p.useMemo(()=>{if(t)return t;const n=Gr[e]==null?0:Gr[e]+1;return Gr[e]=n,e+"-"+n},[e,t])}function la(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[l,c]of a){const f=i[l];f!=null&&(i[l]=f+e*c)}return i},{...t})}}const bt=la(1),nn=la(-1);function cf(e){return"clientX"in e&&"clientY"in e}function Os(e){if(!e)return!1;const{KeyboardEvent:t}=oe(e.target);return t&&e instanceof t}function df(e){if(!e)return!1;const{TouchEvent:t}=oe(e.target);return t&&e instanceof t}function ms(e){if(df(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return cf(e)?{x:e.clientX,y:e.clientY}:null}const rn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[rn.Translate.toString(e),rn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ji="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ff(e){return e.matches(ji)?e:e.querySelector(ji)}const gf={display:"none"};function hf(e){let{id:t,value:n}=e;return q.createElement("div",{id:t,style:gf},n)}function pf(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return q.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function vf(){const[e,t]=p.useState("");return{announce:p.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const ua=p.createContext(null);function mf(e){const t=p.useContext(ua);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function yf(){const[e]=p.useState(()=>new Set),t=p.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[p.useCallback(r=>{let{type:s,event:i}=r;e.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[e]),t]}const xf={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bf={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Sf(e){let{announcements:t=bf,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=xf}=e;const{announce:i,announcement:o}=vf(),a=bn("DndLiveRegion"),[l,c]=p.useState(!1);if(p.useEffect(()=>{c(!0)},[]),mf(p.useMemo(()=>({onDragStart(d){let{active:h}=d;i(t.onDragStart({active:h}))},onDragMove(d){let{active:h,over:g}=d;t.onDragMove&&i(t.onDragMove({active:h,over:g}))},onDragOver(d){let{active:h,over:g}=d;i(t.onDragOver({active:h,over:g}))},onDragEnd(d){let{active:h,over:g}=d;i(t.onDragEnd({active:h,over:g}))},onDragCancel(d){let{active:h,over:g}=d;i(t.onDragCancel({active:h,over:g}))}}),[i,t])),!l)return null;const f=q.createElement(q.Fragment,null,q.createElement(hf,{id:r,value:s.draggable}),q.createElement(pf,{id:a,announcement:o}));return n?vt.createPortal(f,n):f}var Q;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Q||(Q={}));function sr(){}function _i(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function wf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ve=Object.freeze({x:0,y:0});function ca(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function da(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Cf(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Ii(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function fa(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Ni(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Rf=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Ni(t,t.left,t.top),i=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=ca(Ni(l),s);i.push({id:a,data:{droppableContainer:o,value:c}})}}return i.sort(da)},Mf=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Ii(t),i=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=Ii(l),f=s.reduce((h,g,m)=>h+ca(c[m],g),0),d=Number((f/4).toFixed(4));i.push({id:a,data:{droppableContainer:o,value:d}})}}return i.sort(da)};function Ef(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-r,a=i-n;if(r<s&&n<i){const l=t.width*t.height,c=e.width*e.height,f=o*a,d=f/(l+c-f);return Number(d.toFixed(4))}return 0}const Ff=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const l=Ef(a,t);l>0&&s.push({id:o,data:{droppableContainer:i,value:l}})}}return s.sort(Cf)};function Df(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ga(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ve}function jf(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const _f=jf(1);function If(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Nf(e,t,n){const r=If(t);if(!r)return e;const{scaleX:s,scaleY:i,x:o,y:a}=r,l=e.left-o-(1-s)*parseFloat(n),c=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,d=i?e.height/i:e.height;return{width:f,height:d,top:c,right:l+f,bottom:c+d,left:l}}const Af={ignoreTransform:!1};function Ot(e,t){t===void 0&&(t=Af);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:f}=oe(e).getComputedStyle(e);c&&(n=Nf(n,c,f))}const{top:r,left:s,width:i,height:o,bottom:a,right:l}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:l}}function Ai(e){return Ot(e,{ignoreTransform:!0})}function Pf(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Vf(e,t){return t===void 0&&(t=oe(e).getComputedStyle(e)),t.position==="fixed"}function Of(e,t){t===void 0&&(t=oe(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function mr(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Ps(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!yn(s)||aa(s)||n.includes(s))return n;const i=oe(e).getComputedStyle(s);return s!==e&&Of(s,i)&&n.push(s),Vf(s,i)?n:r(s.parentNode)}return e?r(e):n}function ha(e){const[t]=mr(e,1);return t??null}function Ur(e){return!vr||!e?null:Pt(e)?e:As(e)?Ps(e)||e===Vt(e).scrollingElement?window:yn(e)?e:null:null}function pa(e){return Pt(e)?e.scrollX:e.scrollLeft}function va(e){return Pt(e)?e.scrollY:e.scrollTop}function ys(e){return{x:pa(e),y:va(e)}}var Z;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Z||(Z={}));function ma(e){return!vr||!e?!1:e===document.scrollingElement}function ya(e){const t={x:0,y:0},n=ma(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const Lf={x:.2,y:.2};function $f(e,t,n,r,s){let{top:i,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=Lf);const{isTop:c,isBottom:f,isLeft:d,isRight:h}=ya(e),g={x:0,y:0},m={x:0,y:0},v={height:t.height*s.y,width:t.width*s.x};return!c&&i<=t.top+v.height?(g.y=Z.Backward,m.y=r*Math.abs((t.top+v.height-i)/v.height)):!f&&l>=t.bottom-v.height&&(g.y=Z.Forward,m.y=r*Math.abs((t.bottom-v.height-l)/v.height)),!h&&a>=t.right-v.width?(g.x=Z.Forward,m.x=r*Math.abs((t.right-v.width-a)/v.width)):!d&&o<=t.left+v.width&&(g.x=Z.Backward,m.x=r*Math.abs((t.left+v.width-o)/v.width)),{direction:g,speed:m}}function Tf(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function xa(e){return e.reduce((t,n)=>bt(t,ys(n)),ve)}function kf(e){return e.reduce((t,n)=>t+pa(n),0)}function zf(e){return e.reduce((t,n)=>t+va(n),0)}function Bf(e,t){if(t===void 0&&(t=Ot),!e)return;const{top:n,left:r,bottom:s,right:i}=t(e);ha(e)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Hf=[["x",["left","right"],kf],["y",["top","bottom"],zf]];class Ls{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=mr(n),s=xa(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of Hf)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),f=s[i]-c;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Qt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Gf(e){const{EventTarget:t}=oe(e);return e instanceof t?e:Vt(e)}function Wr(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ge;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ge||(ge={}));function Pi(e){e.preventDefault()}function Uf(e){e.stopPropagation()}var $;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($||($={}));const ba={start:[$.Space,$.Enter],cancel:[$.Esc],end:[$.Space,$.Enter,$.Tab]},Wf=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case $.Right:return{...n,x:n.x+25};case $.Left:return{...n,x:n.x-25};case $.Down:return{...n,y:n.y+25};case $.Up:return{...n,y:n.y-25}}};class $s{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Qt(Vt(n)),this.windowListeners=new Qt(oe(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ge.Resize,this.handleCancel),this.windowListeners.add(ge.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ge.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Bf(r),n(ve)}handleKeyDown(t){if(Os(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=ba,coordinateGetter:o=Wf,scrollBehavior:a="smooth"}=s,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=r.current,f=c?{x:c.left,y:c.top}:ve;this.referenceCoordinates||(this.referenceCoordinates=f);const d=o(t,{active:n,context:r.current,currentCoordinates:f});if(d){const h=nn(d,f),g={x:0,y:0},{scrollableAncestors:m}=r.current;for(const v of m){const x=t.code,{isTop:y,isRight:S,isLeft:b,isBottom:C,maxScroll:R,minScroll:_}=ya(v),D=Tf(v),j={x:Math.min(x===$.Right?D.right-D.width/2:D.right,Math.max(x===$.Right?D.left:D.left+D.width/2,d.x)),y:Math.min(x===$.Down?D.bottom-D.height/2:D.bottom,Math.max(x===$.Down?D.top:D.top+D.height/2,d.y))},F=x===$.Right&&!S||x===$.Left&&!b,I=x===$.Down&&!C||x===$.Up&&!y;if(F&&j.x!==d.x){const V=v.scrollLeft+h.x,z=x===$.Right&&V<=R.x||x===$.Left&&V>=_.x;if(z&&!h.y){v.scrollTo({left:V,behavior:a});return}z?g.x=v.scrollLeft-V:g.x=x===$.Right?v.scrollLeft-R.x:v.scrollLeft-_.x,g.x&&v.scrollBy({left:-g.x,behavior:a});break}else if(I&&j.y!==d.y){const V=v.scrollTop+h.y,z=x===$.Down&&V<=R.y||x===$.Up&&V>=_.y;if(z&&!h.x){v.scrollTo({top:V,behavior:a});return}z?g.y=v.scrollTop-V:g.y=x===$.Down?v.scrollTop-R.y:v.scrollTop-_.y,g.y&&v.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(t,bt(nn(d,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$s.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=ba,onActivation:s}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Vi(e){return!!(e&&"distance"in e)}function Oi(e){return!!(e&&"delay"in e)}class Ts{constructor(t,n,r){var s;r===void 0&&(r=Gf(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=Vt(o),this.documentListeners=new Qt(this.document),this.listeners=new Qt(r),this.windowListeners=new Qt(oe(o)),this.initialCoordinates=(s=ms(i))!=null?s:ve,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ge.Resize,this.handleCancel),this.windowListeners.add(ge.DragStart,Pi),this.windowListeners.add(ge.VisibilityChange,this.handleCancel),this.windowListeners.add(ge.ContextMenu,Pi),this.documentListeners.add(ge.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Oi(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Vi(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ge.Click,Uf,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ge.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const l=(n=ms(t))!=null?n:ve,c=nn(s,l);if(!r&&a){if(Vi(a)){if(a.tolerance!=null&&Wr(c,a.tolerance))return this.handleCancel();if(Wr(c,a.distance))return this.handleStart()}if(Oi(a)&&Wr(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===$.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const qf={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ks extends Ts{constructor(t){const{event:n}=t,r=Vt(n.target);super(t,qf,r)}}ks.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Kf={move:{name:"mousemove"},end:{name:"mouseup"}};var xs;(function(e){e[e.RightClick=2]="RightClick"})(xs||(xs={}));class Xf extends Ts{constructor(t){super(t,Kf,Vt(t.event.target))}}Xf.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===xs.RightClick?!1:(r==null||r({event:n}),!0)}}];const qr={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Qf extends Ts{constructor(t){super(t,qr)}static setup(){return window.addEventListener(qr.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(qr.move.name,t)};function t(){}}}Qf.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Yt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Yt||(Yt={}));var ir;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ir||(ir={}));function Yf(e){let{acceleration:t,activator:n=Yt.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=ir.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:f,delta:d,threshold:h}=e;const g=Jf({delta:d,disabled:!i}),[m,v]=uf(),x=p.useRef({x:0,y:0}),y=p.useRef({x:0,y:0}),S=p.useMemo(()=>{switch(n){case Yt.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Yt.DraggableRect:return s}},[n,s,l]),b=p.useRef(null),C=p.useCallback(()=>{const _=b.current;if(!_)return;const D=x.current.x*y.current.x,j=x.current.y*y.current.y;_.scrollBy(D,j)},[]),R=p.useMemo(()=>a===ir.TreeOrder?[...c].reverse():c,[a,c]);p.useEffect(()=>{if(!i||!c.length||!S){v();return}for(const _ of R){if((r==null?void 0:r(_))===!1)continue;const D=c.indexOf(_),j=f[D];if(!j)continue;const{direction:F,speed:I}=$f(_,j,S,t,h);for(const V of["x","y"])g[V][F[V]]||(I[V]=0,F[V]=0);if(I.x>0||I.y>0){v(),b.current=_,m(C,o),x.current=I,y.current=F;return}}x.current={x:0,y:0},y.current={x:0,y:0},v()},[t,C,r,v,i,o,JSON.stringify(S),JSON.stringify(g),m,c,R,f,JSON.stringify(h)])}const Zf={x:{[Z.Backward]:!1,[Z.Forward]:!1},y:{[Z.Backward]:!1,[Z.Forward]:!1}};function Jf(e){let{delta:t,disabled:n}=e;const r=vs(t);return xn(s=>{if(n||!r||!s)return Zf;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Z.Backward]:s.x[Z.Backward]||i.x===-1,[Z.Forward]:s.x[Z.Forward]||i.x===1},y:{[Z.Backward]:s.y[Z.Backward]||i.y===-1,[Z.Forward]:s.y[Z.Forward]||i.y===1}}},[n,t,r])}function eg(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return xn(s=>{var i;return t==null?null:(i=r??s)!=null?i:null},[r,t])}function tg(e,t){return p.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var sn;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(sn||(sn={}));var bs;(function(e){e.Optimized="optimized"})(bs||(bs={}));const Li=new Map;function ng(e,t){let{dragging:n,dependencies:r,config:s}=t;const[i,o]=p.useState(null),{frequency:a,measure:l,strategy:c}=s,f=p.useRef(e),d=x(),h=tn(d),g=p.useCallback(function(y){y===void 0&&(y=[]),!h.current&&o(S=>S===null?y:S.concat(y.filter(b=>!S.includes(b))))},[h]),m=p.useRef(null),v=xn(y=>{if(d&&!n)return Li;if(!y||y===Li||f.current!==e||i!=null){const S=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){S.set(b.id,b.rect.current);continue}const C=b.node.current,R=C?new Ls(l(C),C):null;b.rect.current=R,R&&S.set(b.id,R)}return S}return y},[e,i,n,d,l]);return p.useEffect(()=>{f.current=e},[e]),p.useEffect(()=>{d||g()},[n,d]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{d||typeof a!="number"||m.current!==null||(m.current=setTimeout(()=>{g(),m.current=null},a))},[a,d,g,...r]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:i!=null};function x(){switch(c){case sn.Always:return!1;case sn.BeforeDragging:return n;default:return!n}}}function Sa(e,t){return xn(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function rg(e,t){return Sa(e,t)}function sg(e){let{callback:t,disabled:n}=e;const r=Vs(t),s=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function yr(e){let{callback:t,disabled:n}=e;const r=Vs(t),s=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ig(e){return new Ls(Ot(e),e)}function $i(e,t,n){t===void 0&&(t=ig);const[r,s]=p.useState(null);function i(){s(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??n)!=null?c:null}const f=t(e);return JSON.stringify(l)===JSON.stringify(f)?l:f})}const o=sg({callback(l){if(e)for(const c of l){const{type:f,target:d}=c;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){i();break}}}}),a=yr({callback:i});return Re(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r}function og(e){const t=Sa(e);return ga(e,t)}const Ti=[];function ag(e){const t=p.useRef(e),n=xn(r=>e?r&&r!==Ti&&e&&t.current&&e.parentNode===t.current.parentNode?r:mr(e):Ti,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function lg(e){const[t,n]=p.useState(null),r=p.useRef(e),s=p.useCallback(i=>{const o=Ur(i.target);o&&n(a=>a?(a.set(o,ys(o)),new Map(a)):null)},[]);return p.useEffect(()=>{const i=r.current;if(e!==i){o(i);const a=e.map(l=>{const c=Ur(l);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,ys(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(l=>{const c=Ur(l);c==null||c.removeEventListener("scroll",s)})}},[s,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>bt(i,o),ve):xa(e):ve,[e,t])}function ki(e,t){t===void 0&&(t=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},t),p.useEffect(()=>{const r=e!==ve;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?nn(e,n.current):ve}function ug(e){p.useEffect(()=>{if(!vr)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function cg(e,t){return p.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,t)},n},{}),[e,t])}function wa(e){return p.useMemo(()=>e?Pf(e):null,[e])}const zi=[];function dg(e,t){t===void 0&&(t=Ot);const[n]=e,r=wa(n?oe(n):null),[s,i]=p.useState(zi);function o(){i(()=>e.length?e.map(l=>ma(l)?r:new Ls(t(l),l)):zi)}const a=yr({callback:o});return Re(()=>{a==null||a.disconnect(),o(),e.forEach(l=>a==null?void 0:a.observe(l))},[e]),s}function fg(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return yn(t)?t:e}function gg(e){let{measure:t}=e;const[n,r]=p.useState(null),s=p.useCallback(c=>{for(const{target:f}of c)if(yn(f)){r(d=>{const h=t(f);return d?{...d,width:h.width,height:h.height}:h});break}},[t]),i=yr({callback:s}),o=p.useCallback(c=>{const f=fg(c);i==null||i.disconnect(),f&&(i==null||i.observe(f)),r(f?t(f):null)},[t,i]),[a,l]=rr(o);return p.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const hg=[{sensor:ks,options:{}},{sensor:$s,options:{}}],pg={current:{}},Qn={draggable:{measure:Ai},droppable:{measure:Ai,strategy:sn.WhileDragging,frequency:bs.Optimized},dragOverlay:{measure:Ot}};class Zt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const vg={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Qn,measureDroppableContainers:sr,windowRect:null,measuringScheduled:!1},mg={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sr,draggableNodes:new Map,over:null,measureDroppableContainers:sr},xr=p.createContext(mg),Ca=p.createContext(vg);function yg(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zt}}}function xg(e,t){switch(t.type){case Q.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Q.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Q.DragEnd:case Q.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Q.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Zt(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Q.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new Zt(e.droppable.containers);return o.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case Q.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Zt(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function bg(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=p.useContext(xr),i=vs(r),o=vs(n==null?void 0:n.id);return p.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!Os(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const f of[l.current,c.current]){if(!f)continue;const d=ff(f);if(d){d.focus();break}}})}},[r,t,s,o,i]),null}function Sg(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...r}),n):n}function wg(e){return p.useMemo(()=>({draggable:{...Qn.draggable,...e==null?void 0:e.draggable},droppable:{...Qn.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Qn.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Cg(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const i=p.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Re(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const f=n(c),d=ga(f,r);if(o||(d.x=0),a||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=ha(c);h&&h.scrollBy({top:d.y,left:d.x})}},[t,o,a,r,n])}const Ra=p.createContext({...ve,scaleX:1,scaleY:1});var ke;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ke||(ke={}));const Rg=p.memo(function(t){var n,r,s,i;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:f=hg,collisionDetection:d=Ff,measuring:h,modifiers:g,...m}=t;const v=p.useReducer(xg,void 0,yg),[x,y]=v,[S,b]=yf(),[C,R]=p.useState(ke.Uninitialized),_=C===ke.Initialized,{draggable:{active:D,nodes:j,translate:F},droppable:{containers:I}}=x,V=D!=null?j.get(D):null,z=p.useRef({initial:null,translated:null}),E=p.useMemo(()=>{var ee;return D!=null?{id:D,data:(ee=V==null?void 0:V.data)!=null?ee:pg,rect:z}:null},[D,V]),N=p.useRef(null),[k,K]=p.useState(null),[X,w]=p.useState(null),O=tn(m,Object.values(m)),Y=bn("DndDescribedBy",o),Sn=p.useMemo(()=>I.getEnabled(),[I]),re=wg(h),{droppableRects:Me,measureDroppableContainers:Qe,measuringScheduled:Lt}=ng(Sn,{dragging:_,dependencies:[F.x,F.y],config:re.droppable}),de=eg(j,D),wn=p.useMemo(()=>X?ms(X):null,[X]),Ae=$a(),Ee=rg(de,re.draggable.measure);Cg({activeNode:D!=null?j.get(D):null,config:Ae.layoutShiftCompensation,initialRect:Ee,measure:re.draggable.measure});const B=$i(de,re.draggable.measure,Ee),$t=$i(de?de.parentElement:null),ye=p.useRef({activatorEvent:null,active:null,activeNode:de,collisionRect:null,collisions:null,droppableRects:Me,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ot=I.getNodeFor((n=ye.current.over)==null?void 0:n.id),Fe=gg({measure:re.dragOverlay.measure}),at=(r=Fe.nodeRef.current)!=null?r:de,lt=_?(s=Fe.rect)!=null?s:B:null,Bs=!!(Fe.nodeRef.current&&Fe.rect),Hs=og(Bs?null:B),br=wa(at?oe(at):null),Pe=ag(_?ot??de:null),Cn=dg(Pe),Rn=Sg(g,{transform:{x:F.x-Hs.x,y:F.y-Hs.y,scaleX:1,scaleY:1},activatorEvent:X,active:E,activeNodeRect:B,containerNodeRect:$t,draggingNodeRect:lt,over:ye.current.over,overlayNodeRect:Fe.rect,scrollableAncestors:Pe,scrollableAncestorRects:Cn,windowRect:br}),Gs=wn?bt(wn,F):null,Us=lg(Pe),Ia=ki(Us),Na=ki(Us,[B]),ut=bt(Rn,Ia),ct=lt?_f(lt,Rn):null,Tt=E&&ct?d({active:E,collisionRect:ct,droppableRects:Me,droppableContainers:Sn,pointerCoordinates:Gs}):null,Ws=fa(Tt,"id"),[Ve,qs]=p.useState(null),Aa=Bs?Rn:bt(Rn,Na),Pa=Df(Aa,(i=Ve==null?void 0:Ve.rect)!=null?i:null,B),Sr=p.useRef(null),Ks=p.useCallback((ee,ae)=>{let{sensor:le,options:Oe}=ae;if(N.current==null)return;const fe=j.get(N.current);if(!fe)return;const ue=ee.nativeEvent,xe=new le({active:N.current,activeNode:fe,event:ue,options:Oe,context:ye,onAbort(J){if(!j.get(J))return;const{onDragAbort:be}=O.current,De={id:J};be==null||be(De),S({type:"onDragAbort",event:De})},onPending(J,Le,be,De){if(!j.get(J))return;const{onDragPending:zt}=O.current,$e={id:J,constraint:Le,initialCoordinates:be,offset:De};zt==null||zt($e),S({type:"onDragPending",event:$e})},onStart(J){const Le=N.current;if(Le==null)return;const be=j.get(Le);if(!be)return;const{onDragStart:De}=O.current,kt={activatorEvent:ue,active:{id:Le,data:be.data,rect:z}};vt.unstable_batchedUpdates(()=>{De==null||De(kt),R(ke.Initializing),y({type:Q.DragStart,initialCoordinates:J,active:Le}),S({type:"onDragStart",event:kt}),K(Sr.current),w(ue)})},onMove(J){y({type:Q.DragMove,coordinates:J})},onEnd:dt(Q.DragEnd),onCancel:dt(Q.DragCancel)});Sr.current=xe;function dt(J){return async function(){const{active:be,collisions:De,over:kt,scrollAdjustedTranslate:zt}=ye.current;let $e=null;if(be&&zt){const{cancelDrop:Bt}=O.current;$e={activatorEvent:ue,active:be,collisions:De,delta:zt,over:kt},J===Q.DragEnd&&typeof Bt=="function"&&await Promise.resolve(Bt($e))&&(J=Q.DragCancel)}N.current=null,vt.unstable_batchedUpdates(()=>{y({type:J}),R(ke.Uninitialized),qs(null),K(null),w(null),Sr.current=null;const Bt=J===Q.DragEnd?"onDragEnd":"onDragCancel";if($e){const wr=O.current[Bt];wr==null||wr($e),S({type:Bt,event:$e})}})}}},[j]),Va=p.useCallback((ee,ae)=>(le,Oe)=>{const fe=le.nativeEvent,ue=j.get(Oe);if(N.current!==null||!ue||fe.dndKit||fe.defaultPrevented)return;const xe={active:ue};ee(le,ae.options,xe)===!0&&(fe.dndKit={capturedBy:ae.sensor},N.current=Oe,Ks(le,ae))},[j,Ks]),Xs=tg(f,Va);ug(f),Re(()=>{B&&C===ke.Initializing&&R(ke.Initialized)},[B,C]),p.useEffect(()=>{const{onDragMove:ee}=O.current,{active:ae,activatorEvent:le,collisions:Oe,over:fe}=ye.current;if(!ae||!le)return;const ue={active:ae,activatorEvent:le,collisions:Oe,delta:{x:ut.x,y:ut.y},over:fe};vt.unstable_batchedUpdates(()=>{ee==null||ee(ue),S({type:"onDragMove",event:ue})})},[ut.x,ut.y]),p.useEffect(()=>{const{active:ee,activatorEvent:ae,collisions:le,droppableContainers:Oe,scrollAdjustedTranslate:fe}=ye.current;if(!ee||N.current==null||!ae||!fe)return;const{onDragOver:ue}=O.current,xe=Oe.get(Ws),dt=xe&&xe.rect.current?{id:xe.id,rect:xe.rect.current,data:xe.data,disabled:xe.disabled}:null,J={active:ee,activatorEvent:ae,collisions:le,delta:{x:fe.x,y:fe.y},over:dt};vt.unstable_batchedUpdates(()=>{qs(dt),ue==null||ue(J),S({type:"onDragOver",event:J})})},[Ws]),Re(()=>{ye.current={activatorEvent:X,active:E,activeNode:de,collisionRect:ct,collisions:Tt,droppableRects:Me,draggableNodes:j,draggingNode:at,draggingNodeRect:lt,droppableContainers:I,over:Ve,scrollableAncestors:Pe,scrollAdjustedTranslate:ut},z.current={initial:lt,translated:ct}},[E,de,Tt,ct,j,at,lt,Me,I,Ve,Pe,ut]),Yf({...Ae,delta:F,draggingRect:ct,pointerCoordinates:Gs,scrollableAncestors:Pe,scrollableAncestorRects:Cn});const Oa=p.useMemo(()=>({active:E,activeNode:de,activeNodeRect:B,activatorEvent:X,collisions:Tt,containerNodeRect:$t,dragOverlay:Fe,draggableNodes:j,droppableContainers:I,droppableRects:Me,over:Ve,measureDroppableContainers:Qe,scrollableAncestors:Pe,scrollableAncestorRects:Cn,measuringConfiguration:re,measuringScheduled:Lt,windowRect:br}),[E,de,B,X,Tt,$t,Fe,j,I,Me,Ve,Qe,Pe,Cn,re,Lt,br]),La=p.useMemo(()=>({activatorEvent:X,activators:Xs,active:E,activeNodeRect:B,ariaDescribedById:{draggable:Y},dispatch:y,draggableNodes:j,over:Ve,measureDroppableContainers:Qe}),[X,Xs,E,B,y,Y,j,Ve,Qe]);return q.createElement(ua.Provider,{value:b},q.createElement(xr.Provider,{value:La},q.createElement(Ca.Provider,{value:Oa},q.createElement(Ra.Provider,{value:Pa},c)),q.createElement(bg,{disabled:(a==null?void 0:a.restoreFocus)===!1})),q.createElement(Sf,{...a,hiddenTextDescribedById:Y}));function $a(){const ee=(k==null?void 0:k.autoScrollEnabled)===!1,ae=typeof l=="object"?l.enabled===!1:l===!1,le=_&&!ee&&!ae;return typeof l=="object"?{...l,enabled:le}:{enabled:le}}}),Mg=p.createContext(null),Bi="button",Eg="Draggable";function Fg(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const i=bn(Eg),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:f,draggableNodes:d,over:h}=p.useContext(xr),{role:g=Bi,roleDescription:m="draggable",tabIndex:v=0}=s??{},x=(l==null?void 0:l.id)===t,y=p.useContext(x?Ra:Mg),[S,b]=rr(),[C,R]=rr(),_=cg(o,t),D=tn(n);Re(()=>(d.set(t,{id:t,key:i,node:S,activatorNode:C,data:D}),()=>{const F=d.get(t);F&&F.key===i&&d.delete(t)}),[d,t]);const j=p.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":r,"aria-pressed":x&&g===Bi?!0:void 0,"aria-roledescription":m,"aria-describedby":f.draggable}),[r,g,v,x,m,f.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:j,isDragging:x,listeners:r?void 0:_,node:S,over:h,setNodeRef:b,setActivatorNodeRef:R,transform:y}}function Dg(){return p.useContext(Ca)}const jg="Droppable",_g={timeout:25};function Ig(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const i=bn(jg),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=p.useContext(xr),f=p.useRef({disabled:n}),d=p.useRef(!1),h=p.useRef(null),g=p.useRef(null),{disabled:m,updateMeasurementsFor:v,timeout:x}={..._g,...s},y=tn(v??r),S=p.useCallback(()=>{if(!d.current){d.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),g.current=null},x)},[x]),b=yr({callback:S,disabled:m||!o}),C=p.useCallback((j,F)=>{b&&(F&&(b.unobserve(F),d.current=!1),j&&b.observe(j))},[b]),[R,_]=rr(C),D=tn(t);return p.useEffect(()=>{!b||!R.current||(b.disconnect(),d.current=!1,b.observe(R.current))},[R,b]),p.useEffect(()=>(a({type:Q.RegisterDroppable,element:{id:r,key:i,disabled:n,node:R,rect:h,data:D}}),()=>a({type:Q.UnregisterDroppable,key:i,id:r})),[r]),p.useEffect(()=>{n!==f.current.disabled&&(a({type:Q.SetDroppableDisabled,id:r,key:i,disabled:n}),f.current.disabled=n)},[r,i,n,a]),{active:o,rect:h,isOver:(l==null?void 0:l.id)===r,node:R,over:l,setNodeRef:_}}function zs(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ng(e,t){return e.reduce((n,r,s)=>{const i=t.get(r);return i&&(n[s]=i),n},Array(e.length))}function Hn(e){return e!==null&&e>=0}function Ag(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Pg(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Gn={scaleX:1,scaleY:1},Vg=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:s,overIndex:i,index:o}=e;const a=(t=n[s])!=null?t:r;if(!a)return null;const l=Og(n,o,s);if(o===s){const c=n[i];return c?{x:s<i?c.left+c.width-(a.left+a.width):c.left-a.left,y:0,...Gn}:null}return o>s&&o<=i?{x:-a.width-l,y:0,...Gn}:o<s&&o>=i?{x:a.width+l,y:0,...Gn}:{x:0,y:0,...Gn}};function Og(e,t,n){const r=e[t],s=e[t-1],i=e[t+1];return!r||!s&&!i?0:n<t?s?r.left-(s.left+s.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(s.left+s.width)}const Ma=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const i=zs(t,r,n),o=t[s],a=i[s];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Ea="Sortable",Fa=q.createContext({activeIndex:-1,containerId:Ea,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ma,disabled:{draggable:!1,droppable:!1}});function Lg(e){let{children:t,id:n,items:r,strategy:s=Ma,disabled:i=!1}=e;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:f}=Dg(),d=bn(Ea,n),h=a.rect!==null,g=p.useMemo(()=>r.map(_=>typeof _=="object"&&"id"in _?_.id:_),[r]),m=o!=null,v=o?g.indexOf(o.id):-1,x=c?g.indexOf(c.id):-1,y=p.useRef(g),S=!Ag(g,y.current),b=x!==-1&&v===-1||S,C=Pg(i);Re(()=>{S&&m&&f(g)},[S,g,m,f]),p.useEffect(()=>{y.current=g},[g]);const R=p.useMemo(()=>({activeIndex:v,containerId:d,disabled:C,disableTransforms:b,items:g,overIndex:x,useDragOverlay:h,sortedRects:Ng(g,l),strategy:s}),[v,d,C.draggable,C.droppable,b,g,x,l,h,s]);return q.createElement(Fa.Provider,{value:R},t)}const $g=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return zs(n,r,s).indexOf(t)},Tg=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:i,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!r||a!==i&&s===o?!1:n?!0:o!==s&&t===l},kg={duration:200,easing:"ease"},Da="transform",zg=rn.Transition.toString({property:Da,duration:0,easing:"linear"}),Bg={roleDescription:"sortable"};function Hg(e){let{disabled:t,index:n,node:r,rect:s}=e;const[i,o]=p.useState(null),a=p.useRef(n);return Re(()=>{if(!t&&n!==a.current&&r.current){const l=s.current;if(l){const c=Ot(r.current,{ignoreTransform:!0}),f={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(f.x||f.y)&&o(f)}}n!==a.current&&(a.current=n)},[t,n,r,s]),p.useEffect(()=>{i&&o(null)},[i]),i}function Gg(e){let{animateLayoutChanges:t=Tg,attributes:n,disabled:r,data:s,getNewIndex:i=$g,id:o,strategy:a,resizeObserverConfig:l,transition:c=kg}=e;const{items:f,containerId:d,activeIndex:h,disabled:g,disableTransforms:m,sortedRects:v,overIndex:x,useDragOverlay:y,strategy:S}=p.useContext(Fa),b=Ug(r,g),C=f.indexOf(o),R=p.useMemo(()=>({sortable:{containerId:d,index:C,items:f},...s}),[d,s,C,f]),_=p.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:D,node:j,isOver:F,setNodeRef:I}=Ig({id:o,data:R,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...l}}),{active:V,activatorEvent:z,activeNodeRect:E,attributes:N,setNodeRef:k,listeners:K,isDragging:X,over:w,setActivatorNodeRef:O,transform:Y}=Fg({id:o,data:R,attributes:{...Bg,...n},disabled:b.draggable}),Sn=lf(I,k),re=!!V,Me=re&&!m&&Hn(h)&&Hn(x),Qe=!y&&X,Lt=Qe&&Me?Y:null,wn=Me?Lt??(a??S)({rects:v,activeNodeRect:E,activeIndex:h,overIndex:x,index:C}):null,Ae=Hn(h)&&Hn(x)?i({id:o,items:f,activeIndex:h,overIndex:x}):C,Ee=V==null?void 0:V.id,B=p.useRef({activeId:Ee,items:f,newIndex:Ae,containerId:d}),$t=f!==B.current.items,ye=t({active:V,containerId:d,isDragging:X,isSorting:re,id:o,index:C,items:f,newIndex:B.current.newIndex,previousItems:B.current.items,previousContainerId:B.current.containerId,transition:c,wasDragging:B.current.activeId!=null}),ot=Hg({disabled:!ye,index:C,node:j,rect:D});return p.useEffect(()=>{re&&B.current.newIndex!==Ae&&(B.current.newIndex=Ae),d!==B.current.containerId&&(B.current.containerId=d),f!==B.current.items&&(B.current.items=f)},[re,Ae,d,f]),p.useEffect(()=>{if(Ee===B.current.activeId)return;if(Ee!=null&&B.current.activeId==null){B.current.activeId=Ee;return}const at=setTimeout(()=>{B.current.activeId=Ee},50);return()=>clearTimeout(at)},[Ee]),{active:V,activeIndex:h,attributes:N,data:R,rect:D,index:C,newIndex:Ae,items:f,isOver:F,isSorting:re,isDragging:X,listeners:K,node:j,overIndex:x,over:w,setNodeRef:Sn,setActivatorNodeRef:O,setDroppableNodeRef:I,setDraggableNodeRef:k,transform:ot??wn,transition:Fe()};function Fe(){if(ot||$t&&B.current.newIndex===C)return zg;if(!(Qe&&!Os(z)||!c)&&(re||ye))return rn.Transition.toString({...c,property:Da})}}function Ug(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function or(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Wg=[$.Down,$.Right,$.Up,$.Left],qg=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:i,over:o,scrollableAncestors:a}}=t;if(Wg.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];i.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=s.get(d.id);if(h)switch(e.code){case $.Down:r.top<h.top&&l.push(d);break;case $.Up:r.top>h.top&&l.push(d);break;case $.Left:r.left>h.left&&l.push(d);break;case $.Right:r.left<h.left&&l.push(d);break}});const c=Mf({active:n,collisionRect:r,droppableRects:s,droppableContainers:l,pointerCoordinates:null});let f=fa(c,"id");if(f===(o==null?void 0:o.id)&&c.length>1&&(f=c[1].id),f!=null){const d=i.get(n.id),h=i.get(f),g=h?s.get(h.id):null,m=h==null?void 0:h.node.current;if(m&&g&&d&&h){const x=mr(m).some((_,D)=>a[D]!==_),y=ja(d,h),S=Kg(d,h),b=x||!y?{x:0,y:0}:{x:S?r.width-g.width:0,y:S?r.height-g.height:0},C={x:g.left,y:g.top};return b.x&&b.y?C:nn(C,b)}}}};function ja(e,t){return!or(e)||!or(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Kg(e,t){return!or(e)||!or(t)||!ja(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Ye=fd(),Xg=({id:e,children:t,className:n})=>{const{attributes:r,listeners:s,setNodeRef:i,transform:o,transition:a,isDragging:l}=Gg({id:e}),c={transform:rn.Transform.toString(o),transition:a,cursor:l?"grabbing":"grab",opacity:l?.5:1};return u.jsx("div",{ref:i,style:c,...r,...s,className:`spider-boxes-table-header-cell sortable-header ${n||""} ${l?"dragging":""}`,title:"Drag to reorder columns",children:u.jsxs("span",{className:"flex items-center space-x-2",children:[u.jsx("span",{children:t}),u.jsxs("svg",{className:"w-3 h-3 text-gray-400",fill:"currentColor",viewBox:"0 0 6 10",children:[u.jsx("circle",{cx:"1",cy:"2",r:"1"}),u.jsx("circle",{cx:"1",cy:"5",r:"1"}),u.jsx("circle",{cx:"1",cy:"8",r:"1"}),u.jsx("circle",{cx:"5",cy:"2",r:"1"}),u.jsx("circle",{cx:"5",cy:"5",r:"1"}),u.jsx("circle",{cx:"5",cy:"8",r:"1"})]})]})})},Qg=({productId:e})=>{var z;const t=Ft(),{get:n,patch:r,del:s}=mn(),[i,o]=p.useState([]),[a,l]=p.useState([]),[c,f]=p.useState(""),[d,h]=p.useState(["id","product_name","author_name","rating","status","date","actions"]),[g,m]=p.useState(null),[v,x]=p.useState(!1),y=wf(_i(ks),_i($s,{coordinateGetter:qg})),{data:S,isLoading:b,error:C}=rt({queryKey:["reviews",e],queryFn:()=>n(`/reviews${e?`?product_id=${e}`:""}`),staleTime:5*60*1e3});console.log("Reviews data:",S);const R=(S==null?void 0:S.reviews)||[],_=he({mutationFn:({id:E,data:N})=>r(`/reviews/${E}`,N),onSuccess:()=>{t.invalidateQueries({queryKey:["reviews"]})}}),D=he({mutationFn:E=>s(`/reviews/${E}`),onSuccess:()=>{t.invalidateQueries({queryKey:["reviews"]})}}),j=p.useMemo(()=>[Ye.accessor("id",{header:"ID",cell:E=>`#${E.getValue()}`,size:80}),Ye.accessor("product_name",{header:"Product",cell:E=>E.getValue(),filterFn:"includesString"}),Ye.accessor("author_name",{header:"Reviewer",cell:E=>u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:E.getValue()}),u.jsx("div",{className:"text-sm text-gray-500",children:E.row.original.author_email})]}),filterFn:"includesString"}),Ye.accessor("rating",{header:"Rating",cell:E=>u.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(N=>u.jsx("svg",{className:`w-4 h-4 ${N<=E.getValue()?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},N)),u.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",E.getValue(),")"]})]}),size:150}),Ye.accessor("status",{header:"Status",cell:E=>{const N=E.getValue(),k={approved:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",spam:"bg-red-100 text-red-800",trash:"bg-gray-100 text-gray-800"};return u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k[N]}`,children:N.charAt(0).toUpperCase()+N.slice(1)})},filterFn:"equals"}),Ye.accessor("date",{header:"Date",cell:E=>new Date(E.getValue()).toLocaleDateString(),size:120}),Ye.display({id:"actions",header:"Actions",cell:E=>u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(W,{variant:"outline",size:"sm",onClick:()=>{m(E.row.original),x(!0)},children:"Edit"}),u.jsx(W,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this review?")&&D.mutate(E.row.original.id)},children:"Delete"})]}),size:120})],[D]),F=af({data:R,columns:j,state:{sorting:i,columnFilters:a,globalFilter:c,columnOrder:d},onSortingChange:o,onColumnFiltersChange:l,onGlobalFilterChange:f,getCoreRowModel:Zd(),getPaginationRowModel:sf(),getSortedRowModel:of(),getFilteredRowModel:rf(),initialState:{pagination:{pageSize:10}}}),I=E=>{const{active:N,over:k}=E;N.id!==(k==null?void 0:k.id)&&h(K=>{const X=K.indexOf(N.id),w=K.indexOf(k==null?void 0:k.id);return zs(K,X,w)})},V=(E,N)=>{_.mutate({id:E,data:{status:N}})};return b?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):C?u.jsxs("div",{className:"text-red-600 p-4",children:["Error loading reviews:"," ",C instanceof Error?C.message:"Unknown error"]}):u.jsxs("div",{className:"reviews-app",children:[u.jsxs("div",{className:"reviews-header",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Product Reviews"}),u.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx("input",{type:"text",placeholder:"Search reviews...",value:c,onChange:E=>f(E.target.value),className:"search-input"})}),u.jsx("div",{className:"flex gap-2",children:u.jsxs("select",{value:((z=a.find(E=>E.id==="status"))==null?void 0:z.value)||"",onChange:E=>{const N=E.target.value;l(k=>N?[...k.filter(K=>K.id!=="status"),{id:"status",value:N}]:k.filter(K=>K.id!=="status"))},className:"filter-select",children:[u.jsx("option",{value:"",children:"All Statuses"}),u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"spam",children:"Spam"}),u.jsx("option",{value:"trash",children:"Trash"})]})})]})]})," ",R.length===0?u.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:u.jsx("p",{className:"text-gray-500 mb-4",children:"No reviews found."})}):u.jsx(Rg,{sensors:y,collisionDetection:Rf,onDragEnd:I,children:u.jsxs("div",{className:"spider-boxes-table",children:[u.jsx(Lg,{items:d,strategy:Vg,children:u.jsx("div",{className:"spider-boxes-table-header",children:d.map(E=>u.jsxs(Xg,{id:E,children:[E==="id"&&"ID",E==="product_name"&&"Product",E==="author_name"&&"Reviewer",E==="rating"&&"Rating",E==="status"&&"Status",E==="date"&&"Date",E==="actions"&&"Actions"]},E))})}),u.jsx("div",{className:"divide-y divide-gray-200",children:u.jsx(vn,{children:F.getRowModel().rows.map(E=>u.jsx(Ke.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"spider-boxes-table-row",children:d.map(N=>u.jsxs("div",{className:"spider-boxes-table-cell",children:[N==="id"&&u.jsxs("span",{className:"font-mono text-xs bg-gray-50 px-2 py-1 rounded",children:["#",E.original.id]}),N==="product_name"&&u.jsx("span",{className:"font-medium",children:E.original.product_name}),N==="author_name"&&u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:E.original.author_name}),u.jsx("div",{className:"text-sm text-gray-500",children:E.original.author_email})]}),N==="rating"&&u.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(k=>u.jsx("svg",{className:`w-4 h-4 ${k<=E.original.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},k)),u.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",E.original.rating,")"]})]}),N==="status"&&u.jsx("span",{className:`spider-boxes-badge ${E.original.status==="approved"?"spider-boxes-badge-success":E.original.status==="pending"?"spider-boxes-badge-warning":E.original.status==="spam"?"spider-boxes-badge-danger":"spider-boxes-badge-secondary"}`,children:E.original.status.charAt(0).toUpperCase()+E.original.status.slice(1)}),N==="date"&&u.jsx("span",{className:"text-gray-500",children:new Date(E.original.date).toLocaleDateString()}),N==="actions"&&u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>{m(E.original),x(!0)},className:"text-primary-600 hover:text-primary-900",title:"Edit review",children:u.jsx(fc,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this review?")&&D.mutate(E.original.id)},className:"text-red-600 hover:text-red-900",title:"Delete review",children:u.jsx(hc,{className:"w-4 h-4"})}),E.original.status==="pending"&&u.jsx("button",{onClick:()=>V(E.original.id,"approved"),className:"text-green-600 hover:text-green-900",title:"Approve review",children:u.jsx(ic,{className:"w-4 h-4"})}),E.original.status==="approved"&&u.jsx("button",{onClick:()=>V(E.original.id,"pending"),className:"text-yellow-600 hover:text-yellow-900",title:"Mark as pending",children:u.jsx(ko,{className:"w-4 h-4"})})]})]},N))},E.id))})})]})}),u.jsxs("div",{className:"flex items-center justify-between py-4",children:[u.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",F.getState().pagination.pageIndex*F.getState().pagination.pageSize+1," ","to"," ",Math.min((F.getState().pagination.pageIndex+1)*F.getState().pagination.pageSize,F.getFilteredRowModel().rows.length)," ","of ",F.getFilteredRowModel().rows.length," results"]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs(W,{variant:"outline",size:"sm",onClick:()=>F.previousPage(),disabled:!F.getCanPreviousPage(),children:[u.jsx(ac,{className:"w-4 h-4"}),"Previous"]}),u.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",F.getState().pagination.pageIndex+1," of"," ",F.getPageCount()]}),u.jsxs(W,{variant:"outline",size:"sm",onClick:()=>F.nextPage(),disabled:!F.getCanNextPage(),children:["Next",u.jsx(uc,{className:"w-4 h-4"})]})]})]})," ",u.jsx(At,{open:v,onOpenChange:x,children:u.jsxs(_t,{size:"lg",children:[u.jsx(It,{children:u.jsx(Nt,{children:"Edit Review"})}),g&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),u.jsxs("select",{value:g.status,onChange:E=>{const N=E.target.value;V(g.id,N),m({...g,status:N})},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"spam",children:"Spam"}),u.jsx("option",{value:"trash",children:"Trash"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment"}),u.jsx("textarea",{value:g.content,onChange:E=>m({...g,content:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",rows:4})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx(W,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),u.jsx(W,{onClick:()=>{_.mutate({id:g.id,data:{content:g.content,status:g.status}}),x(!1)},disabled:_.isPending,children:_.isPending?"Saving...":"Save Changes"})]})]})]})})]})};const _a=new Ga({defaultOptions:{queries:{retry:1,staleTime:5*60*1e3}}}),Hi=document.getElementById("spider-boxes-main-app");Hi&&Qi.createRoot(Hi).render(u.jsx(q.StrictMode,{children:u.jsx(Yi,{client:_a,children:u.jsx(dd,{})})}));const Gi=document.getElementById("spider-boxes-reviews-app");Gi&&Qi.createRoot(Gi).render(u.jsx(q.StrictMode,{children:u.jsx(Yi,{client:_a,children:u.jsx(Qg,{})})}));
//# sourceMappingURL=admin.js.map
