var Ss=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var P=(e,t,n)=>(Ss(e,t,"read from private field"),n?n.call(e):t.get(e)),Q=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ne=(e,t,n,r)=>(Ss(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var ie=(e,t,n)=>(Ss(e,t,"access private method"),n);import{S as Da,p as Ri,r as Ge,s as Pr,a as _n,n as Ir,i as Ks,b as Mi,t as ku,f as Bu,c as Hu,d as Ei,e as Yr,h as ji,g as zu,j as f,k as Pa,u as _t,l,R as te,m as Ia,o as nt,q as Uu,Q as Wu,v as Oa,w as La}from"./QueryClientProvider-14c10ab9.js";import{u as Va,f as Gu,a as qu,P as Ku,L as Xu,c as Zr,m as St,b as xe,F as le}from"./FieldRenderer-f9cee68e.js";var Re,K,Hn,we,Lt,on,mt,vt,zn,an,ln,Vt,Tt,xt,cn,$t,Mn,Un,Xs,Wn,Ys,Gn,Zs,qn,Qs,Kn,Js,Xn,eo,Yn,to,Xr,Ta,_a,Yu=(_a=class extends Da{constructor(t,n){super();Q(this,$t);Q(this,Un);Q(this,Wn);Q(this,Gn);Q(this,qn);Q(this,Kn);Q(this,Xn);Q(this,Yn);Q(this,Xr);Q(this,Re,void 0);Q(this,K,void 0);Q(this,Hn,void 0);Q(this,we,void 0);Q(this,Lt,void 0);Q(this,on,void 0);Q(this,mt,void 0);Q(this,vt,void 0);Q(this,zn,void 0);Q(this,an,void 0);Q(this,ln,void 0);Q(this,Vt,void 0);Q(this,Tt,void 0);Q(this,xt,void 0);Q(this,cn,new Set);this.options=n,ne(this,Re,t),ne(this,vt,null),ne(this,mt,Ri()),this.options.experimental_prefetchInRender||P(this,mt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,K).addObserver(this),Ni(P(this,K),this.options)?ie(this,$t,Mn).call(this):this.updateResult(),ie(this,qn,Qs).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return no(P(this,K),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return no(P(this,K),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ie(this,Kn,Js).call(this),ie(this,Xn,eo).call(this),P(this,K).removeObserver(this)}setOptions(t){const n=this.options,r=P(this,K);if(this.options=P(this,Re).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ge(this.options.enabled,P(this,K))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ie(this,Yn,to).call(this),P(this,K).setOptions(this.options),n._defaulted&&!Pr(this.options,n)&&P(this,Re).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,K),observer:this});const s=this.hasListeners();s&&Fi(P(this,K),r,this.options,n)&&ie(this,$t,Mn).call(this),this.updateResult(),s&&(P(this,K)!==r||Ge(this.options.enabled,P(this,K))!==Ge(n.enabled,P(this,K))||_n(this.options.staleTime,P(this,K))!==_n(n.staleTime,P(this,K)))&&ie(this,Un,Xs).call(this);const o=ie(this,Wn,Ys).call(this);s&&(P(this,K)!==r||Ge(this.options.enabled,P(this,K))!==Ge(n.enabled,P(this,K))||o!==P(this,xt))&&ie(this,Gn,Zs).call(this,o)}getOptimisticResult(t){const n=P(this,Re).getQueryCache().build(P(this,Re),t),r=this.createResult(n,t);return Qu(this,r)&&(ne(this,we,r),ne(this,on,this.options),ne(this,Lt,P(this,K).state)),r}getCurrentResult(){return P(this,we)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){P(this,cn).add(t)}getCurrentQuery(){return P(this,K)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=P(this,Re).defaultQueryOptions(t),r=P(this,Re).getQueryCache().build(P(this,Re),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ie(this,$t,Mn).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,we)))}createResult(t,n){var E;const r=P(this,K),s=this.options,o=P(this,we),i=P(this,Lt),a=P(this,on),u=t!==r?t.state:P(this,Hn),{state:p}=t;let d={...p},h=!1,g;if(n._optimisticResults){const A=this.hasListeners(),D=!A&&Ni(t,n),N=A&&Fi(t,r,n,s);(D||N)&&(d={...d,...Hu(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:w}=d;g=d.data;let y=!1;if(n.placeholderData!==void 0&&g===void 0&&w==="pending"){let A;o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(A=o.data,y=!0):A=typeof n.placeholderData=="function"?n.placeholderData((E=P(this,ln))==null?void 0:E.state.data,P(this,ln)):n.placeholderData,A!==void 0&&(w="success",g=Ei(o==null?void 0:o.data,A,n),h=!0)}if(n.select&&g!==void 0&&!y)if(o&&g===(i==null?void 0:i.data)&&n.select===P(this,zn))g=P(this,an);else try{ne(this,zn,n.select),g=n.select(g),g=Ei(o==null?void 0:o.data,g,n),ne(this,an,g),ne(this,vt,null)}catch(A){ne(this,vt,A)}P(this,vt)&&(v=P(this,vt),g=P(this,an),m=Date.now(),w="error");const x=d.fetchStatus==="fetching",b=w==="pending",S=w==="error",M=b&&x,F=g!==void 0,_={status:w,fetchStatus:d.fetchStatus,isPending:b,isSuccess:w==="success",isError:S,isInitialLoading:M,isLoading:M,data:g,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:S&&!F,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&F,isStale:Do(t,n),refetch:this.refetch,promise:P(this,mt)};if(this.options.experimental_prefetchInRender){const A=L=>{_.status==="error"?L.reject(_.error):_.data!==void 0&&L.resolve(_.data)},D=()=>{const L=ne(this,mt,_.promise=Ri());A(L)},N=P(this,mt);switch(N.status){case"pending":t.queryHash===r.queryHash&&A(N);break;case"fulfilled":(_.status==="error"||_.data!==N.value)&&D();break;case"rejected":(_.status!=="error"||_.error!==N.reason)&&D();break}}return _}updateResult(){const t=P(this,we),n=this.createResult(P(this,K),this.options);if(ne(this,Lt,P(this,K).state),ne(this,on,this.options),P(this,Lt).data!==void 0&&ne(this,ln,P(this,K)),Pr(n,t))return;ne(this,we,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!P(this,cn).size)return!0;const i=new Set(o??P(this,cn));return this.options.throwOnError&&i.add("error"),Object.keys(P(this,we)).some(a=>{const c=a;return P(this,we)[c]!==t[c]&&i.has(c)})};ie(this,Xr,Ta).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ie(this,qn,Qs).call(this)}},Re=new WeakMap,K=new WeakMap,Hn=new WeakMap,we=new WeakMap,Lt=new WeakMap,on=new WeakMap,mt=new WeakMap,vt=new WeakMap,zn=new WeakMap,an=new WeakMap,ln=new WeakMap,Vt=new WeakMap,Tt=new WeakMap,xt=new WeakMap,cn=new WeakMap,$t=new WeakSet,Mn=function(t){ie(this,Yn,to).call(this);let n=P(this,K).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ir)),n},Un=new WeakSet,Xs=function(){ie(this,Kn,Js).call(this);const t=_n(this.options.staleTime,P(this,K));if(Ks||P(this,we).isStale||!Mi(t))return;const r=ku(P(this,we).dataUpdatedAt,t)+1;ne(this,Vt,setTimeout(()=>{P(this,we).isStale||this.updateResult()},r))},Wn=new WeakSet,Ys=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,K)):this.options.refetchInterval)??!1},Gn=new WeakSet,Zs=function(t){ie(this,Xn,eo).call(this),ne(this,xt,t),!(Ks||Ge(this.options.enabled,P(this,K))===!1||!Mi(P(this,xt))||P(this,xt)===0)&&ne(this,Tt,setInterval(()=>{(this.options.refetchIntervalInBackground||Bu.isFocused())&&ie(this,$t,Mn).call(this)},P(this,xt)))},qn=new WeakSet,Qs=function(){ie(this,Un,Xs).call(this),ie(this,Gn,Zs).call(this,ie(this,Wn,Ys).call(this))},Kn=new WeakSet,Js=function(){P(this,Vt)&&(clearTimeout(P(this,Vt)),ne(this,Vt,void 0))},Xn=new WeakSet,eo=function(){P(this,Tt)&&(clearInterval(P(this,Tt)),ne(this,Tt,void 0))},Yn=new WeakSet,to=function(){const t=P(this,Re).getQueryCache().build(P(this,Re),this.options);if(t===P(this,K))return;const n=P(this,K);ne(this,K,t),ne(this,Hn,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Xr=new WeakSet,Ta=function(t){Yr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(P(this,we))}),P(this,Re).getQueryCache().notify({query:P(this,K),type:"observerResultsUpdated"})})},_a);function Zu(e,t){return Ge(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ni(e,t){return Zu(e,t)||e.state.data!==void 0&&no(e,t,t.refetchOnMount)}function no(e,t,n){if(Ge(t.enabled,e)!==!1&&_n(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Do(e,t)}return!1}function Fi(e,t,n,r){return(e!==t||Ge(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Do(e,n)}function Do(e,t){return Ge(t.enabled,e)!==!1&&e.isStaleByTime(_n(t.staleTime,e))}function Qu(e,t){return!Pr(e.getCurrentResult(),t)}var yt,wt,Me,tt,un,Er,Zn,ro,Aa,Ju=(Aa=class extends Da{constructor(n,r){super();Q(this,un);Q(this,Zn);Q(this,yt,void 0);Q(this,wt,void 0);Q(this,Me,void 0);Q(this,tt,void 0);ne(this,yt,n),this.setOptions(r),this.bindMethods(),ie(this,un,Er).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=P(this,yt).defaultMutationOptions(n),Pr(this.options,r)||P(this,yt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,Me),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ji(r.mutationKey)!==ji(this.options.mutationKey)?this.reset():((s=P(this,Me))==null?void 0:s.state.status)==="pending"&&P(this,Me).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=P(this,Me))==null||n.removeObserver(this)}onMutationUpdate(n){ie(this,un,Er).call(this),ie(this,Zn,ro).call(this,n)}getCurrentResult(){return P(this,wt)}reset(){var n;(n=P(this,Me))==null||n.removeObserver(this),ne(this,Me,void 0),ie(this,un,Er).call(this),ie(this,Zn,ro).call(this)}mutate(n,r){var s;return ne(this,tt,r),(s=P(this,Me))==null||s.removeObserver(this),ne(this,Me,P(this,yt).getMutationCache().build(P(this,yt),this.options)),P(this,Me).addObserver(this),P(this,Me).execute(n)}},yt=new WeakMap,wt=new WeakMap,Me=new WeakMap,tt=new WeakMap,un=new WeakSet,Er=function(){var r;const n=((r=P(this,Me))==null?void 0:r.state)??zu();ne(this,wt,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Zn=new WeakSet,ro=function(n){Yr.batch(()=>{var r,s,o,i,a,c,u,p;if(P(this,tt)&&this.hasListeners()){const d=P(this,wt).variables,h=P(this,wt).context;(n==null?void 0:n.type)==="success"?((s=(r=P(this,tt)).onSuccess)==null||s.call(r,n.data,d,h),(i=(o=P(this,tt)).onSettled)==null||i.call(o,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((c=(a=P(this,tt)).onError)==null||c.call(a,n.error,d,h),(p=(u=P(this,tt)).onSettled)==null||p.call(u,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(P(this,wt))})})},Aa),$a=f.createContext(!1),ed=()=>f.useContext($a);$a.Provider;function td(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nd=f.createContext(td()),rd=()=>f.useContext(nd),sd=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},od=e=>{f.useEffect(()=>{e.clearReset()},[e])},id=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Pa(n,[e.error,r])),ad=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ld=(e,t)=>e.isLoading&&e.isFetching&&!t,cd=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_i=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ud(e,t,n){var d,h,g,v,m;const r=ed(),s=rd(),o=_t(n),i=o.defaultQueryOptions(e);(h=(d=o.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,i),i._optimisticResults=r?"isRestoring":"optimistic",ad(i),sd(i,s),od(s);const a=!o.getQueryCache().get(i.queryHash),[c]=f.useState(()=>new t(o,i)),u=c.getOptimisticResult(i),p=!r&&e.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(w=>{const y=p?c.subscribe(Yr.batchCalls(w)):Ir;return c.updateResult(),y},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(i)},[i,c]),cd(i,u))throw _i(i,c,s);if(id({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((v=(g=o.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||v.call(g,i,u),i.experimental_prefetchInRender&&!Ks&&ld(u,r)){const w=a?_i(i,c,s):(m=o.getQueryCache().get(i.queryHash))==null?void 0:m.promise;w==null||w.catch(Ir).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Le(e,t){return ud(e,Yu,t)}function be(e,t){const n=_t(t),[r]=f.useState(()=>new Ju(n,e));f.useEffect(()=>{r.setOptions(e)},[r,e]);const s=f.useSyncExternalStore(f.useCallback(i=>r.subscribe(Yr.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=f.useCallback((i,a)=>{r.mutate(i,a).catch(Ir)},[r]);if(s.error&&Pa(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function ka(){const e=f.useRef(!1);return Va(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function dd(){const e=ka(),[t,n]=f.useState(0),r=f.useCallback(()=>{e.current&&n(t+1)},[t]);return[f.useCallback(()=>Gu.postRender(r),[r]),t]}class fd extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hd({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),s=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:o,height:i,top:a,left:c}=s.current;if(t||!r.current||!o||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${i}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),f.createElement(fd,{isPresent:t,childRef:r,sizeRef:s},f.cloneElement(e,{ref:r}))}const Cs=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const a=qu(gd),c=f.useId(),u=f.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:p=>{a.set(p,!0);for(const d of a.values())if(!d)return;r&&r()},register:p=>(a.set(p,!1),()=>a.delete(p))}),o?void 0:[n]);return f.useMemo(()=>{a.forEach((p,d)=>a.set(d,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=f.createElement(hd,{isPresent:n},e)),f.createElement(Ku.Provider,{value:u},e)};function gd(){return new Map}function pd(e){return f.useEffect(()=>()=>e(),[])}const Ot=e=>e.key||"";function md(e,t){e.forEach(n=>{const r=Ot(n);t.set(r,n)})}function vd(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const Qr=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const a=f.useContext(Xu).forceRender||dd()[0],c=ka(),u=vd(e);let p=u;const d=f.useRef(new Map).current,h=f.useRef(p),g=f.useRef(new Map).current,v=f.useRef(!0);if(Va(()=>{v.current=!1,md(u,g),h.current=p}),pd(()=>{v.current=!0,g.clear(),d.clear()}),v.current)return f.createElement(f.Fragment,null,p.map(x=>f.createElement(Cs,{key:Ot(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i},x)));p=[...p];const m=h.current.map(Ot),w=u.map(Ot),y=m.length;for(let x=0;x<y;x++){const b=m[x];w.indexOf(b)===-1&&!d.has(b)&&d.set(b,void 0)}return i==="wait"&&d.size&&(p=[]),d.forEach((x,b)=>{if(w.indexOf(b)!==-1)return;const S=g.get(b);if(!S)return;const M=m.indexOf(b);let F=x;if(!F){const j=()=>{d.delete(b);const _=Array.from(g.keys()).filter(E=>!w.includes(E));if(_.forEach(E=>g.delete(E)),h.current=u.filter(E=>{const A=Ot(E);return A===b||_.includes(A)}),!d.size){if(c.current===!1)return;a(),r&&r()}};F=f.createElement(Cs,{key:Ot(S),isPresent:!1,onExitComplete:j,custom:t,presenceAffectsLayout:o,mode:i},S),d.set(b,F)}p.splice(M,0,F)}),p=p.map(x=>{const b=x.key;return d.has(b)?x:f.createElement(Cs,{key:Ot(x),isPresent:!0,presenceAffectsLayout:o,mode:i},x)}),f.createElement(f.Fragment,null,d.size?p:p.map(x=>f.cloneElement(x)))},Ba=f.createContext(void 0);function Ha(){const e=f.useContext(Ba);if(!e)throw new Error("Tabs components must be used within a Tabs provider");return e}function xd({defaultValue:e,className:t,children:n}){const[r,s]=f.useState(e);return l.jsx(Ba.Provider,{value:{value:r,setValue:s},children:l.jsx("div",{className:Zr("w-full",t),children:n})})}function yd({className:e,children:t}){return l.jsx("div",{className:Zr("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",e),children:t})}function or({value:e,className:t,children:n}){const{value:r,setValue:s}=Ha(),o=r===e;return l.jsx("button",{type:"button",onClick:()=>s(e),className:Zr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o?"bg-white text-gray-950 shadow-sm":"text-gray-600 hover:bg-gray-200 hover:text-gray-900",t),children:n})}function ir({value:e,className:t,children:n}){const{value:r}=Ha();return r!==e?null:l.jsx(St.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:Zr("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2",t),children:n})}const Or=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M12 5v14"}),l.jsx("path",{d:"M5 12h14"})]}),za=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),l.jsx("path",{d:"m15 5 4 4"})]}),Ua=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"m3 6 2 0"}),l.jsx("path",{d:"m19 6-2 0"}),l.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),l.jsx("path",{d:"m10 11 0 6"}),l.jsx("path",{d:"m14 11 0 6"}),l.jsx("path",{d:"M5 6l1 14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-14"})]}),wd=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-3-7-10-7Z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Wa=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),l.jsx("path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}),l.jsx("path",{d:"M7 3v4a1 1 0 0 0 1 1h8"})]}),Ga=({className:e="",size:t=16})=>l.jsxs("svg",{className:e,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M18 6 6 18"}),l.jsx("path",{d:"m6 6 12 12"})]});function Ai(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qa(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Ai(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Ai(e[s],null)}}}}function ce(...e){return f.useCallback(qa(...e),e)}function dn(e){const t=Sd(e),n=f.forwardRef((r,s)=>{const{children:o,...i}=r,a=f.Children.toArray(o),c=a.find(Rd);if(c){const u=c.props.children,p=a.map(d=>d===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:d);return l.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,p):null})}return l.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var bd=dn("Slot");function Sd(e){const t=f.forwardRef((n,r)=>{const{children:s,...o}=n;if(f.isValidElement(s)){const i=Ed(s),a=Md(o,s.props);return s.type!==f.Fragment&&(a.ref=r?qa(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cd=Symbol("radix.slottable");function Rd(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cd}function Md(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Ed(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const jd={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},Nd={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},J=te.forwardRef(({className:e,variant:t="primary",size:n="md",asChild:r=!1,...s},o)=>{const i=r?bd:"button";return l.jsx(i,{className:xe("inline-flex items-center justify-center rounded-md font-medium transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:pointer-events-none",jd[t],Nd[n],e),ref:o,...s})});J.displayName="Button";function ae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Fd(e,t){const n=f.createContext(t),r=o=>{const{children:i,...a}=o,c=f.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Jr(e,t=[]){let n=[];function r(o,i){const a=f.createContext(i),c=n.length;n=[...n,i];const u=d=>{var y;const{scope:h,children:g,...v}=d,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||a,w=f.useMemo(()=>v,Object.values(v));return l.jsx(m.Provider,{value:w,children:g})};u.displayName=o+"Provider";function p(d,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||a,v=f.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,p]}const s=()=>{const o=n.map(i=>f.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,_d(s,...t)]}function _d(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...a,...d}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var ye=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Ad=Ia[" useId ".trim().toString()]||(()=>{}),Dd=0;function Qt(e){const[t,n]=f.useState(Ad());return ye(()=>{e||n(r=>r??String(Dd++))},[e]),e||(t?`radix-${t}`:"")}var Pd=Ia[" useInsertionEffect ".trim().toString()]||ye;function so({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=Id({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s;{const p=f.useRef(e!==void 0);f.useEffect(()=>{const d=p.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=a},[a,r])}const u=f.useCallback(p=>{var d;if(a){const h=Od(p)?p(e):p;h!==e&&((d=i.current)==null||d.call(i,h))}else o(p)},[a,e,o,i]);return[c,u]}function Id({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),s=f.useRef(n),o=f.useRef(t);return Pd(()=>{o.current=t},[t]),f.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function Od(e){return typeof e=="function"}var Ld=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oe=Ld.reduce((e,t)=>{const n=dn(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Vd(e,t){e&&nt.flushSync(()=>e.dispatchEvent(t))}function kt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Td(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var $d="DismissableLayer",oo="dismissableLayer.update",kd="dismissableLayer.pointerDownOutside",Bd="dismissableLayer.focusOutside",Di,Ka=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Po=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=f.useContext(Ka),[p,d]=f.useState(null),h=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=f.useState({}),v=ce(t,j=>d(j)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(w),x=p?m.indexOf(p):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,M=Ud(j=>{const _=j.target,E=[...u.branches].some(A=>A.contains(_));!S||E||(s==null||s(j),i==null||i(j),j.defaultPrevented||a==null||a())},h),F=Wd(j=>{const _=j.target;[...u.branches].some(A=>A.contains(_))||(o==null||o(j),i==null||i(j),j.defaultPrevented||a==null||a())},h);return Td(j=>{x===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},h),f.useEffect(()=>{if(p)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Di=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(p)),u.layers.add(p),Pi(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Di)}},[p,h,n,u]),f.useEffect(()=>()=>{p&&(u.layers.delete(p),u.layersWithOutsidePointerEventsDisabled.delete(p),Pi())},[p,u]),f.useEffect(()=>{const j=()=>g({});return document.addEventListener(oo,j),()=>document.removeEventListener(oo,j)},[]),l.jsx(oe.div,{...c,ref:v,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,F.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,M.onPointerDownCapture)})});Po.displayName=$d;var Hd="DismissableLayerBranch",zd=f.forwardRef((e,t)=>{const n=f.useContext(Ka),r=f.useRef(null),s=ce(t,r);return f.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(oe.div,{...e,ref:s})});zd.displayName=Hd;function Ud(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){Xa(kd,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Wd(e,t=globalThis==null?void 0:globalThis.document){const n=kt(e),r=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!r.current&&Xa(Bd,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Pi(){const e=new CustomEvent(oo);document.dispatchEvent(e)}function Xa(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Vd(s,o):s.dispatchEvent(o)}var Rs="focusScope.autoFocusOnMount",Ms="focusScope.autoFocusOnUnmount",Ii={bubbles:!1,cancelable:!0},Gd="FocusScope",Io=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=f.useState(null),u=kt(s),p=kt(o),d=f.useRef(null),h=ce(t,m=>c(m)),g=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let m=function(b){if(g.paused||!a)return;const S=b.target;a.contains(S)?d.current=S:gt(d.current,{select:!0})},w=function(b){if(g.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||gt(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const M of b)M.removedNodes.length>0&&gt(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),x.disconnect()}}},[r,a,g.paused]),f.useEffect(()=>{if(a){Li.add(g);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(Rs,Ii);a.addEventListener(Rs,u),a.dispatchEvent(y),y.defaultPrevented||(qd(Qd(Ya(a)),{select:!0}),document.activeElement===m&&gt(a))}return()=>{a.removeEventListener(Rs,u),setTimeout(()=>{const y=new CustomEvent(Ms,Ii);a.addEventListener(Ms,p),a.dispatchEvent(y),y.defaultPrevented||gt(m??document.body,{select:!0}),a.removeEventListener(Ms,p),Li.remove(g)},0)}}},[a,u,p,g]);const v=f.useCallback(m=>{if(!n&&!r||g.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(w&&y){const x=m.currentTarget,[b,S]=Kd(x);b&&S?!m.shiftKey&&y===S?(m.preventDefault(),n&&gt(b,{select:!0})):m.shiftKey&&y===b&&(m.preventDefault(),n&&gt(S,{select:!0})):y===x&&m.preventDefault()}},[n,r,g.paused]);return l.jsx(oe.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});Io.displayName=Gd;function qd(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(gt(r,{select:t}),document.activeElement!==n)return}function Kd(e){const t=Ya(e),n=Oi(t,e),r=Oi(t.reverse(),e);return[n,r]}function Ya(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Oi(e,t){for(const n of e)if(!Xd(n,{upTo:t}))return n}function Xd(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Yd(e){return e instanceof HTMLInputElement&&"select"in e}function gt(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Yd(e)&&t&&e.select()}}var Li=Zd();function Zd(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Vi(e,t),e.unshift(t)},remove(t){var n;e=Vi(e,t),(n=e[0])==null||n.resume()}}}function Vi(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Qd(e){return e.filter(t=>t.tagName!=="A")}var Jd="Portal",Oo=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=f.useState(!1);ye(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Uu.createPortal(l.jsx(oe.div,{...r,ref:t}),i):null});Oo.displayName=Jd;function ef(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var es=e=>{const{present:t,children:n}=e,r=tf(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),o=ce(r.ref,nf(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:o}):null};es.displayName="Presence";function tf(e){const[t,n]=f.useState(),r=f.useRef(null),s=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[a,c]=ef(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=ar(r.current);o.current=a==="mounted"?u:"none"},[a]),ye(()=>{const u=r.current,p=s.current;if(p!==e){const h=o.current,g=ar(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(p&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ye(()=>{if(t){let u;const p=t.ownerDocument.defaultView??window,d=g=>{const m=ar(r.current).includes(g.animationName);if(g.target===t&&m&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=g=>{g.target===t&&(o.current=ar(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{p.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ar(e){return(e==null?void 0:e.animationName)||"none"}function nf(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Es=0;function Za(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ti()),document.body.insertAdjacentElement("beforeend",e[1]??Ti()),Es++,()=>{Es===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Es--}},[])}function Ti(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qe=function(){return qe=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qe.apply(this,arguments)};function Qa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function rf(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var jr="right-scroll-bar-position",Nr="width-before-scroll-bar",sf="with-scroll-bars-hidden",of="--removed-body-scroll-bar-size";function js(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function af(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var lf=typeof window<"u"?f.useLayoutEffect:f.useEffect,$i=new WeakMap;function cf(e,t){var n=af(t||null,function(r){return e.forEach(function(s){return js(s,r)})});return lf(function(){var r=$i.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||js(a,null)}),o.forEach(function(a){s.has(a)||js(a,i)})}$i.set(n,e)},[e]),n}function uf(e){return e}function df(e,t){t===void 0&&(t=uf);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var c=function(){var p=i;i=[],p.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(p){i.push(p),u()},filter:function(p){return i=i.filter(p),n}}}};return s}function ff(e){e===void 0&&(e={});var t=df(null);return t.options=qe({async:!0,ssr:!1},e),t}var Ja=function(e){var t=e.sideCar,n=Qa(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,qe({},n))};Ja.isSideCarExport=!0;function hf(e,t){return e.useMedium(t),Ja}var el=ff(),Ns=function(){},ts=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Ns,onWheelCapture:Ns,onTouchMoveCapture:Ns}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,p=e.enabled,d=e.shards,h=e.sideCar,g=e.noRelative,v=e.noIsolation,m=e.inert,w=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,S=Qa(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=h,F=cf([n,t]),j=qe(qe({},S),s);return f.createElement(f.Fragment,null,p&&f.createElement(M,{sideCar:el,removeScrollBar:u,shards:d,noRelative:g,noIsolation:v,inert:m,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:b}),i?f.cloneElement(f.Children.only(a),qe(qe({},j),{ref:F})):f.createElement(x,qe({},j,{className:c,ref:F}),a))});ts.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ts.classNames={fullWidth:Nr,zeroRight:jr};var ki,gf=function(){if(ki)return ki;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pf(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gf();return t&&e.setAttribute("nonce",t),e}function mf(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vf(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xf=function(){var e=0,t=null;return{add:function(n){e==0&&(t=pf())&&(mf(t,n),vf(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yf=function(){var e=xf();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},tl=function(){var e=yf(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},wf={left:0,top:0,right:0,gap:0},Fs=function(e){return parseInt(e||"",10)||0},bf=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Fs(n),Fs(r),Fs(s)]},Sf=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wf;var t=bf(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Cf=tl(),Jt="data-scroll-locked",Rf=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(sf,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Jt,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jr,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nr,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(jr," .").concat(jr,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nr," .").concat(Nr,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jt,`] {
    `).concat(of,": ").concat(a,`px;
  }
`)},Bi=function(){var e=parseInt(document.body.getAttribute(Jt)||"0",10);return isFinite(e)?e:0},Mf=function(){f.useEffect(function(){return document.body.setAttribute(Jt,(Bi()+1).toString()),function(){var e=Bi()-1;e<=0?document.body.removeAttribute(Jt):document.body.setAttribute(Jt,e.toString())}},[])},Ef=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Mf();var o=f.useMemo(function(){return Sf(s)},[s]);return f.createElement(Cf,{styles:Rf(o,!t,s,n?"":"!important")})},io=!1;if(typeof window<"u")try{var lr=Object.defineProperty({},"passive",{get:function(){return io=!0,!0}});window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{io=!1}var Kt=io?{passive:!1}:!1,jf=function(e){return e.tagName==="TEXTAREA"},nl=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!jf(e)&&n[t]==="visible")},Nf=function(e){return nl(e,"overflowY")},Ff=function(e){return nl(e,"overflowX")},Hi=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=rl(e,r);if(s){var o=sl(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_f=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Af=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},rl=function(e,t){return e==="v"?Nf(t):Ff(t)},sl=function(e,t){return e==="v"?_f(t):Af(t)},Df=function(e,t){return e==="h"&&t==="rtl"?-1:1},Pf=function(e,t,n,r,s){var o=Df(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,c=t.contains(a),u=!1,p=i>0,d=0,h=0;do{if(!a)break;var g=sl(e,a),v=g[0],m=g[1],w=g[2],y=m-w-o*v;(v||y)&&rl(e,a)&&(d+=y,h+=v);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(p&&(s&&Math.abs(d)<1||!s&&i>d)||!p&&(s&&Math.abs(h)<1||!s&&-i>h))&&(u=!0),u},cr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zi=function(e){return[e.deltaX,e.deltaY]},Ui=function(e){return e&&"current"in e?e.current:e},If=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Of=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Lf=0,Xt=[];function Vf(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(Lf++)[0],o=f.useState(tl)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=rf([e.lockRef.current],(e.shards||[]).map(Ui),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var y=cr(m),x=n.current,b="deltaX"in m?m.deltaX:x[0]-y[0],S="deltaY"in m?m.deltaY:x[1]-y[1],M,F=m.target,j=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&j==="h"&&F.type==="range")return!1;var _=Hi(j,F);if(!_)return!0;if(_?M=j:(M=j==="v"?"h":"v",_=Hi(j,F)),!_)return!1;if(!r.current&&"changedTouches"in m&&(b||S)&&(r.current=M),!M)return!0;var E=r.current||M;return Pf(E,w,m,E==="h"?b:S,!0)},[]),c=f.useCallback(function(m){var w=m;if(!(!Xt.length||Xt[Xt.length-1]!==o)){var y="deltaY"in w?zi(w):cr(w),x=t.current.filter(function(M){return M.name===w.type&&(M.target===w.target||w.target===M.shadowParent)&&If(M.delta,y)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(i.current.shards||[]).map(Ui).filter(Boolean).filter(function(M){return M.contains(w.target)}),S=b.length>0?a(w,b[0]):!i.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=f.useCallback(function(m,w,y,x){var b={name:m,delta:w,target:y,should:x,shadowParent:Tf(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),p=f.useCallback(function(m){n.current=cr(m),r.current=void 0},[]),d=f.useCallback(function(m){u(m.type,zi(m),m.target,a(m,e.lockRef.current))},[]),h=f.useCallback(function(m){u(m.type,cr(m),m.target,a(m,e.lockRef.current))},[]);f.useEffect(function(){return Xt.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Kt),document.addEventListener("touchmove",c,Kt),document.addEventListener("touchstart",p,Kt),function(){Xt=Xt.filter(function(m){return m!==o}),document.removeEventListener("wheel",c,Kt),document.removeEventListener("touchmove",c,Kt),document.removeEventListener("touchstart",p,Kt)}},[]);var g=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(o,{styles:Of(s)}):null,g?f.createElement(Ef,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Tf(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $f=hf(el,Vf);var ol=f.forwardRef(function(e,t){return f.createElement(ts,qe({},e,{ref:t,sideCar:$f}))});ol.classNames=ts.classNames;const il=ol;var kf=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yt=new WeakMap,ur=new WeakMap,dr={},_s=0,al=function(e){return e&&(e.host||al(e.parentNode))},Bf=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=al(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Hf=function(e,t,n,r){var s=Bf(t,Array.isArray(e)?e:[e]);dr[n]||(dr[n]=new WeakMap);var o=dr[n],i=[],a=new Set,c=new Set(s),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};s.forEach(u);var p=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))p(h);else try{var g=h.getAttribute(r),v=g!==null&&g!=="false",m=(Yt.get(h)||0)+1,w=(o.get(h)||0)+1;Yt.set(h,m),o.set(h,w),i.push(h),m===1&&v&&ur.set(h,!0),w===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return p(t),a.clear(),_s++,function(){i.forEach(function(d){var h=Yt.get(d)-1,g=o.get(d)-1;Yt.set(d,h),o.set(d,g),h||(ur.has(d)||d.removeAttribute(r),ur.delete(d)),g||d.removeAttribute(n)}),_s--,_s||(Yt=new WeakMap,Yt=new WeakMap,ur=new WeakMap,dr={})}},ll=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||kf(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Hf(r,s,n,"aria-hidden")):function(){return null}},ns="Dialog",[cl,X0]=Jr(ns),[zf,He]=cl(ns),ul=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=f.useRef(null),c=f.useRef(null),[u,p]=so({prop:r,defaultProp:s??!1,onChange:o,caller:ns});return l.jsx(zf,{scope:t,triggerRef:a,contentRef:c,contentId:Qt(),titleId:Qt(),descriptionId:Qt(),open:u,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(d=>!d),[p]),modal:i,children:n})};ul.displayName=ns;var dl="DialogTrigger",Uf=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=He(dl,n),o=ce(t,s.triggerRef);return l.jsx(oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":To(s.open),...r,ref:o,onClick:ae(e.onClick,s.onOpenToggle)})});Uf.displayName=dl;var Lo="DialogPortal",[Wf,fl]=cl(Lo,{forceMount:void 0}),hl=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=He(Lo,t);return l.jsx(Wf,{scope:t,forceMount:n,children:f.Children.map(r,i=>l.jsx(es,{present:n||o.open,children:l.jsx(Oo,{asChild:!0,container:s,children:i})}))})};hl.displayName=Lo;var Lr="DialogOverlay",gl=f.forwardRef((e,t)=>{const n=fl(Lr,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=He(Lr,e.__scopeDialog);return o.modal?l.jsx(es,{present:r||o.open,children:l.jsx(qf,{...s,ref:t})}):null});gl.displayName=Lr;var Gf=dn("DialogOverlay.RemoveScroll"),qf=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=He(Lr,n);return l.jsx(il,{as:Gf,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(oe.div,{"data-state":To(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Bt="DialogContent",pl=f.forwardRef((e,t)=>{const n=fl(Bt,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=He(Bt,e.__scopeDialog);return l.jsx(es,{present:r||o.open,children:o.modal?l.jsx(Kf,{...s,ref:t}):l.jsx(Xf,{...s,ref:t})})});pl.displayName=Bt;var Kf=f.forwardRef((e,t)=>{const n=He(Bt,e.__scopeDialog),r=f.useRef(null),s=ce(t,n.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return ll(o)},[]),l.jsx(ml,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault())})}),Xf=f.forwardRef((e,t)=>{const n=He(Bt,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return l.jsx(ml,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),ml=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=He(Bt,n),c=f.useRef(null),u=ce(t,c);return Za(),l.jsxs(l.Fragment,{children:[l.jsx(Io,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Po,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":To(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Yf,{titleId:a.titleId}),l.jsx(Qf,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Vo="DialogTitle",vl=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=He(Vo,n);return l.jsx(oe.h2,{id:s.titleId,...r,ref:t})});vl.displayName=Vo;var xl="DialogDescription",yl=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=He(xl,n);return l.jsx(oe.p,{id:s.descriptionId,...r,ref:t})});yl.displayName=xl;var wl="DialogClose",bl=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=He(wl,n);return l.jsx(oe.button,{type:"button",...r,ref:t,onClick:ae(e.onClick,()=>s.onOpenChange(!1))})});bl.displayName=wl;function To(e){return e?"open":"closed"}var Sl="DialogTitleWarning",[Y0,Cl]=Fd(Sl,{contentName:Bt,titleName:Vo,docsSlug:"dialog"}),Yf=({titleId:e})=>{const t=Cl(Sl),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Zf="DialogDescriptionWarning",Qf=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Cl(Zf).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Jf=ul,eh=hl,Rl=gl,Ml=pl,El=vl,jl=yl,th=bl;function Se(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var nh=["color"],$o=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,nh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),rh=["color"],ko=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,rh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),sh=["color"],oh=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,sh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M8.84182 3.13514C9.04327 3.32401 9.05348 3.64042 8.86462 3.84188L5.43521 7.49991L8.86462 11.1579C9.05348 11.3594 9.04327 11.6758 8.84182 11.8647C8.64036 12.0535 8.32394 12.0433 8.13508 11.8419L4.38508 7.84188C4.20477 7.64955 4.20477 7.35027 4.38508 7.15794L8.13508 3.15794C8.32394 2.95648 8.64036 2.94628 8.84182 3.13514Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),ih=["color"],ah=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,ih);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lh=["color"],ch=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,lh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),uh=["color"],Nl=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,uh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),dh=["color"],En=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,dh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fh=["color"],Wi=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,fh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),hh=["color"],gh=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,hh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),ph=["color"],Gi=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,ph);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M3.24182 2.32181C3.3919 2.23132 3.5784 2.22601 3.73338 2.30781L12.7334 7.05781C12.8974 7.14436 13 7.31457 13 7.5C13 7.68543 12.8974 7.85564 12.7334 7.94219L3.73338 12.6922C3.5784 12.774 3.3919 12.7687 3.24182 12.6782C3.09175 12.5877 3 12.4252 3 12.25V2.75C3 2.57476 3.09175 2.4123 3.24182 2.32181ZM4 3.57925V11.4207L11.4288 7.5L4 3.57925Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),mh=["color"],ao=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,mh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),vh=["color"],As=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,vh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M7.46968 1.05085C7.64122 1.13475 7.75 1.30904 7.75 1.5V13.5C7.75 13.691 7.64122 13.8653 7.46968 13.9492C7.29813 14.0331 7.09377 14.0119 6.94303 13.8947L3.2213 11H1.5C0.671571 11 0 10.3284 0 9.5V5.5C0 4.67158 0.671573 4 1.5 4H3.2213L6.94303 1.10533C7.09377 0.988085 7.29813 0.966945 7.46968 1.05085ZM6.75 2.52232L3.69983 4.89468C3.61206 4.96294 3.50405 5 3.39286 5H1.5C1.22386 5 1 5.22386 1 5.5V9.5C1 9.77615 1.22386 10 1.5 10H3.39286C3.50405 10 3.61206 10.0371 3.69983 10.1053L6.75 12.4777V2.52232ZM10.2784 3.84804C10.4623 3.72567 10.7106 3.77557 10.833 3.95949C12.2558 6.09798 12.2558 8.90199 10.833 11.0405C10.7106 11.2244 10.4623 11.2743 10.2784 11.1519C10.0944 11.0296 10.0445 10.7813 10.1669 10.5973C11.4111 8.72728 11.4111 6.27269 10.1669 4.40264C10.0445 4.21871 10.0944 3.97041 10.2784 3.84804ZM12.6785 1.43044C12.5356 1.2619 12.2832 1.24104 12.1147 1.38386C11.9462 1.52667 11.9253 1.77908 12.0681 1.94762C14.7773 5.14488 14.7773 9.85513 12.0681 13.0524C11.9253 13.2209 11.9462 13.4733 12.1147 13.6161C12.2832 13.759 12.5356 13.7381 12.6785 13.5696C15.6406 10.0739 15.6406 4.92612 12.6785 1.43044Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),xh=["color"],yh=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,xh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M6.97942 1.25171L6.9585 1.30199L5.58662 4.60039C5.54342 4.70426 5.44573 4.77523 5.3336 4.78422L1.7727 5.0697L1.71841 5.07405L1.38687 5.10063L1.08608 5.12475C0.820085 5.14607 0.712228 5.47802 0.914889 5.65162L1.14406 5.84793L1.39666 6.06431L1.43802 6.09974L4.15105 8.42374C4.23648 8.49692 4.2738 8.61176 4.24769 8.72118L3.41882 12.196L3.40618 12.249L3.32901 12.5725L3.25899 12.866C3.19708 13.1256 3.47945 13.3308 3.70718 13.1917L3.9647 13.0344L4.24854 12.861L4.29502 12.8326L7.34365 10.9705C7.43965 10.9119 7.5604 10.9119 7.6564 10.9705L10.705 12.8326L10.7515 12.861L11.0354 13.0344L11.2929 13.1917C11.5206 13.3308 11.803 13.1256 11.7411 12.866L11.671 12.5725L11.5939 12.249L11.5812 12.196L10.7524 8.72118C10.7263 8.61176 10.7636 8.49692 10.849 8.42374L13.562 6.09974L13.6034 6.06431L13.856 5.84793L14.0852 5.65162C14.2878 5.47802 14.18 5.14607 13.914 5.12475L13.6132 5.10063L13.2816 5.07405L13.2274 5.0697L9.66645 4.78422C9.55432 4.77523 9.45663 4.70426 9.41343 4.60039L8.04155 1.30199L8.02064 1.25171L7.89291 0.944609L7.77702 0.665992C7.67454 0.419604 7.32551 0.419604 7.22303 0.665992L7.10715 0.944609L6.97942 1.25171ZM7.50003 2.60397L6.50994 4.98442C6.32273 5.43453 5.89944 5.74207 5.41351 5.78103L2.84361 5.98705L4.8016 7.66428C5.17183 7.98142 5.33351 8.47903 5.2204 8.95321L4.62221 11.461L6.8224 10.1171C7.23842 9.86302 7.76164 9.86302 8.17766 10.1171L10.3778 11.461L9.77965 8.95321C9.66654 8.47903 9.82822 7.98142 10.1984 7.66428L12.1564 5.98705L9.58654 5.78103C9.10061 5.74207 8.67732 5.43453 8.49011 4.98442L7.50003 2.60397Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),wh=["color"],bh=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,wh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Sh=["color"],qi=f.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Se(e,Sh);return f.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),f.createElement("path",{d:"M4.76447 3.12199C5.63151 3.04859 6.56082 3 7.5 3C8.43918 3 9.36849 3.04859 10.2355 3.12199C11.2796 3.21037 11.9553 3.27008 12.472 3.39203C12.9425 3.50304 13.2048 3.64976 13.4306 3.88086C13.4553 3.90618 13.4902 3.94414 13.5133 3.97092C13.7126 4.20149 13.8435 4.4887 13.918 5.03283C13.9978 5.6156 14 6.37644 14 7.52493C14 8.66026 13.9978 9.41019 13.9181 9.98538C13.8439 10.5206 13.7137 10.8061 13.5125 11.0387C13.4896 11.0651 13.4541 11.1038 13.4296 11.1287C13.2009 11.3625 12.9406 11.5076 12.4818 11.6164C11.9752 11.7365 11.3143 11.7942 10.2878 11.8797C9.41948 11.9521 8.47566 12 7.5 12C6.52434 12 5.58052 11.9521 4.7122 11.8797C3.68572 11.7942 3.02477 11.7365 2.51816 11.6164C2.05936 11.5076 1.7991 11.3625 1.57037 11.1287C1.54593 11.1038 1.51035 11.0651 1.48748 11.0387C1.28628 10.8061 1.15612 10.5206 1.08193 9.98538C1.00221 9.41019 1 8.66026 1 7.52493C1 6.37644 1.00216 5.6156 1.082 5.03283C1.15654 4.4887 1.28744 4.20149 1.48666 3.97092C1.5098 3.94414 1.54468 3.90618 1.56942 3.88086C1.7952 3.64976 2.05752 3.50304 2.52796 3.39203C3.04473 3.27008 3.7204 3.21037 4.76447 3.12199ZM0 7.52493C0 5.28296 0 4.16198 0.729985 3.31713C0.766457 3.27491 0.815139 3.22194 0.854123 3.18204C1.63439 2.38339 2.64963 2.29744 4.68012 2.12555C5.56923 2.05028 6.52724 2 7.5 2C8.47276 2 9.43077 2.05028 10.3199 2.12555C12.3504 2.29744 13.3656 2.38339 14.1459 3.18204C14.1849 3.22194 14.2335 3.27491 14.27 3.31713C15 4.16198 15 5.28296 15 7.52493C15 9.74012 15 10.8477 14.2688 11.6929C14.2326 11.7348 14.1832 11.7885 14.1444 11.8281C13.3629 12.6269 12.3655 12.71 10.3709 12.8763C9.47971 12.9505 8.50782 13 7.5 13C6.49218 13 5.52028 12.9505 4.62915 12.8763C2.63446 12.71 1.63712 12.6269 0.855558 11.8281C0.816844 11.7885 0.767442 11.7348 0.731221 11.6929C0 10.8477 0 9.74012 0 7.52493ZM5.25 5.38264C5.25 5.20225 5.43522 5.08124 5.60041 5.15369L10.428 7.27105C10.6274 7.35853 10.6274 7.64147 10.428 7.72895L5.60041 9.84631C5.43522 9.91876 5.25 9.79775 5.25 9.61736V5.38264Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const Fl=te.forwardRef(({className:e,...t},n)=>l.jsx(Rl,{ref:n,className:xe("dialog-overlay",e),...t})),Ct=te.forwardRef(({className:e,size:t="md",children:n,...r},s)=>{const o={sm:"dialog-content-sm",md:"dialog-content-md",lg:"dialog-content-lg",xl:"dialog-content-xl"};return l.jsx(eh,{children:l.jsxs(Qr,{children:[l.jsx(St.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:l.jsx(Fl,{})}),l.jsx(Ml,{ref:s,className:xe("dialog-content",o[t],e),asChild:!0,...r,onPointerDownOutside:i=>{document.body.classList.contains("wp-media-library-open")&&i.preventDefault()},children:l.jsxs(St.div,{initial:{opacity:0,scale:.95,x:"-50%",y:"-50%"},animate:{opacity:1,scale:1,x:"-50%",y:"-50%"},exit:{opacity:0,scale:.95,x:"-50%",y:"-50%"},transition:{duration:.2},style:{position:"fixed",left:"50%",top:"50%"},children:[n,l.jsxs(th,{className:"dialog-close",children:[l.jsx(Nl,{className:"dialog-close-icon"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})})]})})}),Rt=({className:e,...t})=>l.jsx("div",{className:xe("dialog-header",e),...t}),Mt=te.forwardRef(({className:e,...t},n)=>l.jsx(El,{ref:n,className:xe("dialog-title",e),...t})),Ch=te.forwardRef(({className:e,...t},n)=>l.jsx(jl,{ref:n,className:xe("dialog-description",e),...t})),Et=({children:e,...t})=>l.jsx(Jf,{...t,children:e});Et.displayName="Dialog";Fl.displayName=Rl.displayName;Ct.displayName=Ml.displayName;Rt.displayName="DialogHeader";Mt.displayName=El.displayName;Ch.displayName=jl.displayName;const en=new WeakMap,Fr=new WeakMap,Vr={current:[]};let Ds=!1,An=0;const jn=new Set,fr=new Map;function _l(e){const t=Array.from(e).sort((n,r)=>n instanceof st&&n.options.deps.includes(r)?1:r instanceof st&&r.options.deps.includes(n)?-1:0);for(const n of t){if(Vr.current.includes(n))continue;Vr.current.push(n),n.recompute();const r=Fr.get(n);if(r)for(const s of r){const o=en.get(s);o&&_l(o)}}}function Rh(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function Mh(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function Al(e){if(An>0&&!fr.has(e)&&fr.set(e,e.prevState),jn.add(e),!(An>0)&&!Ds)try{for(Ds=!0;jn.size>0;){const t=Array.from(jn);jn.clear();for(const n of t){const r=fr.get(n)??n.prevState;n.prevState=r,Rh(n)}for(const n of t){const r=en.get(n);r&&(Vr.current.push(n),_l(r))}for(const n of t){const r=en.get(n);if(r)for(const s of r)Mh(s)}}}finally{Ds=!1,Vr.current=[],fr.clear()}}function We(e){An++;try{e()}finally{if(An--,An===0){const t=Array.from(jn)[0];t&&Al(t)}}}function Eh(e){return typeof e=="function"}class lo{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var s,o;this.listeners.add(r);const i=(o=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:o.call(s,r,this);return()=>{this.listeners.delete(r),i==null||i()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,s;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):Eh(t)?this.state=t(this.prevState):this.state=t,(s=(r=this.options)==null?void 0:r.onUpdate)==null||s.call(r),Al(this)}}class st{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const s of this.options.deps)n.push(s.prevState),r.push(s.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:s,currDepVals:o,prevVal:i}=this.getDepVals();this.state=this.options.fn({prevDepVals:s,currDepVals:o,prevVal:i}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof st&&o.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:s}=this.getDepVals();for(let o=0;o<s.length;o++)if(s[o]!==r[o]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,s;this.listeners.add(n);const o=(s=(r=this.options).onSubscribe)==null?void 0:s.call(r,n,this);return()=>{this.listeners.delete(n),o==null||o()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof st)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof lo){let r=en.get(n);r||(r=new Set,en.set(n,r)),r.add(this);let s=Fr.get(this);s||(s=new Set,Fr.set(this,s)),s.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof st)this.unregisterFromGraph(n.options.deps);else if(n instanceof lo){const r=en.get(n);r&&r.delete(this);const s=Fr.get(this);s&&s.delete(n)}}}function rs(e,t){return typeof e=="function"?e(t):e}function Nn(e,t){return Bo(t).reduce((r,s)=>{if(r===null)return null;if(typeof r<"u")return r[s]},e)}function hr(e,t,n){const r=Bo(t);function s(o){if(!r.length)return rs(n,o);const i=r.shift();if(typeof i=="string"||typeof i=="number"&&!Array.isArray(o))return typeof o=="object"?(o===null&&(o={}),{...o,[i]:s(o[i])}):{[i]:s()};if(Array.isArray(o)&&typeof i=="number"){const a=o.slice(0,i);return[...a.length?a:new Array(i),s(o[i]),...o.slice(i+1)]}return[...new Array(i),s()]}return s(e)}function jh(e,t){const n=Bo(t);function r(s){if(!s)return;if(n.length===1){const i=n[0];if(Array.isArray(s)&&typeof i=="number")return s.filter((u,p)=>p!==i);const{[i]:a,...c}=s;return c}const o=n.shift();if(typeof o=="string"&&typeof s=="object")return{...s,[o]:r(s[o])};if(typeof o=="number"&&Array.isArray(s)){if(o>=s.length)return s;const i=s.slice(0,o);return[...i.length?i:new Array(o),r(s[o]),...s.slice(o+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const Nh=/^(\d+)$/gm,Fh=/\.(\d+)(?=\.)/gm,_h=/^(\d+)\./gm,Ah=/\.(\d+$)/gm,Dh=/\.{2,}/gm,co="__int__",gr=`${co}$1`;function Bo(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(Nh,gr).replace(Fh,`.${gr}.`).replace(_h,`${gr}.`).replace(Ah,`.${gr}`).replace(Dh,".").split(".").map(t=>t.indexOf(co)===0?parseInt(t.substring(co.length),10):t)}function Ph(e){return!(Array.isArray(e)&&e.length===0)}function uo(e,t){const{asyncDebounceMs:n}=t,{onChangeAsync:r,onBlurAsync:s,onSubmitAsync:o,onBlurAsyncDebounceMs:i,onChangeAsyncDebounceMs:a}=t.validators||{},c=n??0,u={cause:"change",validate:r,debounceMs:a??c},p={cause:"blur",validate:s,debounceMs:i??c},d={cause:"submit",validate:o,debounceMs:0},h=g=>({...g,debounceMs:0});switch(e){case"submit":return[h(u),h(p),d];case"blur":return[p];case"change":return[u];case"server":default:return[]}}function fo(e,t){const{onChange:n,onBlur:r,onSubmit:s,onMount:o}=t.validators||{},i={cause:"change",validate:n},a={cause:"blur",validate:r},c={cause:"submit",validate:s},u={cause:"mount",validate:o},p={cause:"server",validate:()=>{}};switch(e){case"mount":return[u];case"submit":return[i,a,c,p];case"server":return[p];case"blur":return[a,p];case"change":default:return[i,p]}}const ho=e=>!!e&&typeof e=="object"&&"fields"in e;function Zt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,o]of e)if(!t.has(s)||!Object.is(o,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(!r.includes(s)||!Zt(e[s],t[s]))return!1;return!0}const Ki=({newFormValidatorError:e,isPreviousErrorFromFormValidator:t,previousErrorValue:n})=>e?{newErrorValue:e,newSource:"form"}:t?{newErrorValue:void 0,newSource:void 0}:n?{newErrorValue:n,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},Xi=({formLevelError:e,fieldLevelError:t})=>t?{newErrorValue:t,newSource:"field"}:e?{newErrorValue:e,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function Ih(e){const t=new Map;for(const n of e){const r=[...n.path??[]].map(s=>{const o=typeof s=="object"?s.key:s;return typeof o=="number"?`[${o}]`:o}).join(".").replace(/\.\[/g,"[");t.set(r,(t.get(r)??[]).concat(n))}return Object.fromEntries(t)}const Yi=e=>{const t=Ih(e);return{form:t,fields:t}},tn={validate({value:e,validationSource:t},n){const r=n["~standard"].validate(e);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return t==="field"?r.issues:Yi(r.issues)},async validateAsync({value:e,validationSource:t},n){const r=await n["~standard"].validate(e);if(r.issues)return t==="field"?r.issues:Yi(r.issues)}},Dl=e=>!!e&&"~standard"in e,Tr={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function pr(e){function t(d,h,g,v){const m=r(d,h,g,v);({insert:()=>a(m,d,h),remove:()=>c(m),swap:()=>v!==void 0&&p(m,d,h,v),move:()=>v!==void 0&&u(m,d,h,v)})[g]()}function n(d,h){return`${d}[${h}]`}function r(d,h,g,v){const m=[n(d,h)];if(g==="swap")m.push(n(d,v));else if(g==="move"){const[w,y]=[Math.min(h,v),Math.max(h,v)];for(let x=w;x<=y;x++)m.push(n(d,x))}else{const w=e.getFieldValue(d),y=Array.isArray(w)?w.length:0;for(let x=h+1;x<y;x++)m.push(n(d,x))}return Object.keys(e.fieldInfo).filter(w=>m.some(y=>w.startsWith(y)))}function s(d,h){return d.replace(/\[(\d+)\]/,(g,v)=>{const m=parseInt(v,10);return`[${h==="up"?m+1:Math.max(0,m-1)}]`})}function o(d,h){(h==="up"?d:[...d].reverse()).forEach(v=>{const m=s(v.toString(),h),w=e.getFieldMeta(m);w?e.setFieldMeta(v,w):e.setFieldMeta(v,i())})}const i=()=>Tr,a=(d,h,g)=>{o(d,"down"),d.forEach(v=>{v.toString().startsWith(n(h,g))&&e.setFieldMeta(v,i())})},c=d=>{o(d,"up")},u=(d,h,g,v)=>{const m=new Map(Object.keys(e.fieldInfo).filter(w=>w.startsWith(n(h,g))).map(w=>[w,e.getFieldMeta(w)]));o(d,g<v?"up":"down"),Object.keys(e.fieldInfo).filter(w=>w.startsWith(n(h,v))).forEach(w=>{const y=w.replace(n(h,v),n(h,g)),x=m.get(y);x&&e.setFieldMeta(w,x)})},p=(d,h,g,v)=>{d.forEach(m=>{if(!m.toString().startsWith(n(h,g)))return;const w=m.toString().replace(n(h,g),n(h,v)),[y,x]=[e.getFieldMeta(m),e.getFieldMeta(w)];y&&e.setFieldMeta(w,y),x&&e.setFieldMeta(m,x)})};return{handleArrayFieldMetaShift:t}}function Ps(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class Oh{constructor(t){var n;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{var r,s;const o=this.fieldMetaDerived.mount(),i=this.store.mount(),a=()=>{o(),i()};(s=(r=this.options.listeners)==null?void 0:r.onMount)==null||s.call(r,{formApi:this});const{onMount:c}=this.options.validators||{};return c&&this.validateSync("mount"),a},this.update=r=>{var s,o;if(!r)return;const i=this.options;this.options=r;const a=!!((o=(s=r.transform)==null?void 0:s.deps)!=null&&o.some((p,d)=>p!==this.prevTransformArray[d])),c=r.defaultValues&&!Zt(r.defaultValues,i.defaultValues)&&!this.state.isTouched,u=!Zt(r.defaultState,i.defaultState)&&!this.state.isTouched;!c&&!u&&!a||We(()=>{this.baseStore.setState(()=>Ps(Object.assign({},this.state,u?r.defaultState:{},c?{values:r.defaultValues}:{},a?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(r,s)=>{const{fieldMeta:o}=this.state,i=this.resetFieldMeta(o);r&&!(s!=null&&s.keepDefaultValues)&&(this.options={...this.options,defaultValues:r}),this.baseStore.setState(()=>{var a;return Ps({...this.options.defaultState,values:r??this.options.defaultValues??((a=this.options.defaultState)==null?void 0:a.values),fieldMetaBase:i})})},this.validateAllFields=async r=>{const s=[];return We(()=>{Object.values(this.fieldInfo).forEach(i=>{if(!i.instance)return;const a=i.instance;s.push(Promise.resolve().then(()=>a.validate(r,{skipFormValidation:!0}))),i.instance.state.meta.isTouched||i.instance.setMeta(c=>({...c,isTouched:!0}))})}),(await Promise.all(s)).flat()},this.validateArrayFieldsStartingFrom=async(r,s,o)=>{const i=this.getFieldValue(r),a=Array.isArray(i)?Math.max(i.length-1,0):null,c=[`${r}[${s}]`];for(let h=s+1;h<=(a??0);h++)c.push(`${r}[${h}]`);const u=Object.keys(this.fieldInfo).filter(h=>c.some(g=>h.startsWith(g))),p=[];return We(()=>{u.forEach(h=>{p.push(Promise.resolve().then(()=>this.validateField(h,o)))})}),(await Promise.all(p)).flat()},this.validateField=(r,s)=>{var o;const i=(o=this.fieldInfo[r])==null?void 0:o.instance;return i?(i.state.meta.isTouched||i.setMeta(a=>({...a,isTouched:!0})),i.validate(s)):[]},this.validateSync=r=>{const s=fo(r,this.options);let o=!1;const i={};return We(()=>{var a,c;for(const p of s){if(!p.validate)continue;const d=this.runValidator({validate:p.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:h,fieldErrors:g}=_r(d),v=mr(p.cause);for(const m of Object.keys(this.state.fieldMeta)){const w=this.getFieldMeta(m);if(!w)continue;const{errorMap:y,errorSourceMap:x}=w,b=g==null?void 0:g[m],{newErrorValue:S,newSource:M}=Ki({newFormValidatorError:b,isPreviousErrorFromFormValidator:(x==null?void 0:x[v])==="form",previousErrorValue:y==null?void 0:y[v]});M==="form"&&(i[m]={...i[m],[v]:b}),(y==null?void 0:y[v])!==S&&this.setFieldMeta(m,F=>({...F,errorMap:{...F.errorMap,[v]:S},errorSourceMap:{...F.errorSourceMap,[v]:M}}))}((a=this.state.errorMap)==null?void 0:a[v])!==h&&this.baseStore.setState(m=>({...m,errorMap:{...m.errorMap,[v]:h}})),(h||g)&&(o=!0)}const u=mr("submit");(c=this.state.errorMap)!=null&&c[u]&&r!=="submit"&&!o&&this.baseStore.setState(p=>({...p,errorMap:{...p.errorMap,[u]:void 0}}))}),{hasErrored:o,fieldsErrorMap:i}},this.validateAsync=async r=>{const s=uo(r,this.options);this.state.isFormValidating||this.baseStore.setState(u=>({...u,isFormValidating:!0}));const o=[];let i;for(const u of s){if(!u.validate)continue;const p=mr(u.cause),d=this.state.validationMetaMap[p];d==null||d.lastAbortController.abort();const h=new AbortController;this.state.validationMetaMap[p]={lastAbortController:h},o.push(new Promise(async g=>{let v;try{v=await new Promise((x,b)=>{setTimeout(async()=>{if(h.signal.aborted)return x(void 0);try{x(await this.runValidator({validate:u.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:h.signal},type:"validateAsync"}))}catch(S){b(S)}},u.debounceMs)})}catch(x){v=x}const{formError:m,fieldErrors:w}=_r(v);w&&(i=i?{...i,...w}:w);const y=mr(u.cause);for(const x of Object.keys(this.state.fieldMeta)){const b=this.getFieldMeta(x);if(!b)continue;const{errorMap:S,errorSourceMap:M}=b,F=i==null?void 0:i[x],{newErrorValue:j,newSource:_}=Ki({newFormValidatorError:F,isPreviousErrorFromFormValidator:(M==null?void 0:M[y])==="form",previousErrorValue:S==null?void 0:S[y]});(S==null?void 0:S[y])!==j&&this.setFieldMeta(x,E=>({...E,errorMap:{...E.errorMap,[y]:j},errorSourceMap:{...E.errorSourceMap,[y]:_}}))}this.baseStore.setState(x=>({...x,errorMap:{...x.errorMap,[y]:m}})),g(i?{fieldErrors:i,errorMapKey:y}:void 0)}))}let a=[];const c={};if(o.length){a=await Promise.all(o);for(const u of a)if(u!=null&&u.fieldErrors){const{errorMapKey:p}=u;for(const[d,h]of Object.entries(u.fieldErrors)){const v={...c[d]||{},[p]:h};c[d]=v}}}return this.baseStore.setState(u=>({...u,isFormValidating:!1})),c},this.validate=r=>{const{hasErrored:s,fieldsErrorMap:o}=this.validateSync(r);return s&&!this.options.asyncAlways?o:this.validateAsync(r)},this.getFieldValue=r=>Nn(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>{var s;return(s=this.fieldInfo)[r]||(s[r]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(r,s)=>{this.baseStore.setState(o=>({...o,fieldMetaBase:{...o.fieldMetaBase,[r]:rs(s,o.fieldMetaBase[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((s,o)=>{const i=o;return s[i]=Tr,s},{}),this.setFieldValue=(r,s,o)=>{const i=(o==null?void 0:o.dontUpdateMeta)??!1;We(()=>{i||this.setFieldMeta(r,a=>({...a,isTouched:!0,isDirty:!0,errorMap:{...a==null?void 0:a.errorMap,onMount:void 0}})),this.baseStore.setState(a=>({...a,values:hr(a.values,r,s)}))})},this.deleteField=r=>{const o=[...Object.keys(this.fieldInfo).filter(i=>{const a=r.toString();return i!==a&&i.startsWith(a)}),r];this.baseStore.setState(i=>{const a={...i};return o.forEach(c=>{a.values=jh(a.values,c),delete this.fieldInfo[c],delete a.fieldMetaBase[c]}),a})},this.pushFieldValue=(r,s,o)=>{this.setFieldValue(r,i=>[...Array.isArray(i)?i:[],s],o),this.validateField(r,"change")},this.insertFieldValue=async(r,s,o,i)=>{this.setFieldValue(r,a=>[...a.slice(0,s),o,...a.slice(s)],i),await this.validateField(r,"change"),pr(this).handleArrayFieldMetaShift(r,s,"insert"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.replaceFieldValue=async(r,s,o,i)=>{this.setFieldValue(r,a=>a.map((c,u)=>u===s?o:c),i),await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.removeFieldValue=async(r,s,o)=>{const i=this.getFieldValue(r),a=Array.isArray(i)?Math.max(i.length-1,0):null;if(this.setFieldValue(r,c=>c.filter((u,p)=>p!==s),o),pr(this).handleArrayFieldMetaShift(r,s,"remove"),a!==null){const c=`${r}[${a}]`;this.deleteField(c)}await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,s,"change")},this.swapFieldValues=(r,s,o,i)=>{this.setFieldValue(r,a=>{const c=a[s],u=a[o];return hr(hr(a,`${s}`,u),`${o}`,c)},i),pr(this).handleArrayFieldMetaShift(r,s,"swap",o),this.validateField(r,"change"),this.validateField(`${r}[${s}]`,"change"),this.validateField(`${r}[${o}]`,"change")},this.moveFieldValues=(r,s,o,i)=>{this.setFieldValue(r,a=>(a.splice(o,0,a.splice(s,1)[0]),a),i),pr(this).handleArrayFieldMetaShift(r,s,"move",o),this.validateField(r,"change"),this.validateField(`${r}[${s}]`,"change"),this.validateField(`${r}[${o}]`,"change")},this.clearFieldValues=(r,s)=>{const o=this.getFieldValue(r),i=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(r,[],s),i!==null)for(let a=0;a<=i;a++){const c=`${r}[${a}]`;this.deleteField(c)}this.validateField(r,"change")},this.resetField=r=>{this.baseStore.setState(s=>({...s,fieldMetaBase:{...s.fieldMetaBase,[r]:Tr},values:this.options.defaultValues?hr(s.values,r,Nn(this.options.defaultValues,r)):s.values}))},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((r,[s,o])=>(Object.keys(o).length&&o.errors.length&&(r[s]={errors:o.errors,errorMap:o.errorMap}),r),{})}),this.parseValuesWithSchema=r=>tn.validate({value:this.state.values,validationSource:"form"},r),this.parseValuesWithSchemaAsync=r=>tn.validateAsync({value:this.state.values,validationSource:"form"},r),this.baseStore=new lo(Ps({...t==null?void 0:t.defaultState,values:(t==null?void 0:t.defaultValues)??((n=t==null?void 0:t.defaultState)==null?void 0:n.values)})),this.fieldMetaDerived=new st({deps:[this.baseStore],fn:({prevDepVals:r,currDepVals:s,prevVal:o})=>{var i,a,c;const u=o,p=r==null?void 0:r[0],d=s[0];let h=0;const g={};for(const v of Object.keys(d.fieldMetaBase)){const m=d.fieldMetaBase[v],w=p==null?void 0:p.fieldMetaBase[v],y=u==null?void 0:u[v],x=Nn(d.values,v);let b=y==null?void 0:y.errors;if(!w||m.errorMap!==w.errorMap){b=Object.values(m.errorMap??{}).filter(_=>_!==void 0);const j=(i=this.getFieldInfo(v))==null?void 0:i.instance;j&&!j.options.disableErrorFlat&&(b=b==null?void 0:b.flat(1))}const S=!Ph(b??[]),M=!m.isDirty,F=Zt(x,Nn(this.options.defaultValues,v))||Zt(x,(c=(a=this.getFieldInfo(v))==null?void 0:a.instance)==null?void 0:c.options.defaultValue);if(y&&y.isPristine===M&&y.isValid===S&&y.isDefaultValue===F&&y.errors===b&&m===w){g[v]=y,h++;continue}g[v]={...m,errors:b,isPristine:M,isValid:S,isDefaultValue:F}}return Object.keys(d.fieldMetaBase).length&&u&&h===Object.keys(d.fieldMetaBase).length?u:g}}),this.store=new st({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:r,currDepVals:s,prevVal:o})=>{var i,a,c,u;const p=o,d=r==null?void 0:r[0],h=s[0],g=s[1],v=Object.values(g).filter(Boolean),m=v.some(I=>I.isValidating),w=v.every(I=>I.isValid),y=v.some(I=>I.isTouched),x=v.some(I=>I.isBlurred),b=v.every(I=>I.isDefaultValue),S=y&&((i=h.errorMap)==null?void 0:i.onMount),M=v.some(I=>I.isDirty),F=!M,j=!!((a=h.errorMap)!=null&&a.onMount||v.some(I=>{var R;return(R=I==null?void 0:I.errorMap)==null?void 0:R.onMount})),_=!!m;let E=(p==null?void 0:p.errors)??[];(!d||h.errorMap!==d.errorMap)&&(E=Object.values(h.errorMap).reduce((I,R)=>R===void 0?I:R&&ho(R)?(I.push(R.form),I):(I.push(R),I),[]));const A=E.length===0,D=w&&A,N=this.options.canSubmitWhenInvalid??!1,L=h.submissionAttempts===0&&!y&&!j||!_&&!h.isSubmitting&&D||N;let V=h.errorMap;if(S&&(E=E.filter(I=>I!==h.errorMap.onMount),V=Object.assign(V,{onMount:void 0})),p&&d&&p.errorMap===V&&p.fieldMeta===this.fieldMetaDerived.state&&p.errors===E&&p.isFieldsValidating===m&&p.isFieldsValid===w&&p.isFormValid===A&&p.isValid===D&&p.canSubmit===L&&p.isTouched===y&&p.isBlurred===x&&p.isPristine===F&&p.isDefaultValue===b&&p.isDirty===M&&Zt(d,h))return p;let T={...h,errorMap:V,fieldMeta:this.fieldMetaDerived.state,errors:E,isFieldsValidating:m,isFieldsValid:w,isFormValid:A,isValid:D,canSubmit:L,isTouched:y,isBlurred:x,isPristine:F,isDefaultValue:b,isDirty:M};const k=((c=this.options.transform)==null?void 0:c.deps)??[];if(k.length!==this.prevTransformArray.length||k.some((I,R)=>I!==this.prevTransformArray[R])){const I=Object.assign({},this,{state:T});(u=this.options.transform)==null||u.fn(I),T=I.state,this.prevTransformArray=k}return T}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{})}get state(){return this.store.state}runValidator(t){return Dl(t.validate)?tn[t.type](t.value,t.validate):t.validate(t.value)}async handleSubmit(t){var n,r,s,o,i,a,c,u;if(this.baseStore.setState(d=>({...d,isSubmitted:!1,submissionAttempts:d.submissionAttempts+1,isSubmitSuccessful:!1})),We(()=>{Object.values(this.fieldInfo).forEach(d=>{d.instance&&(d.instance.state.meta.isTouched||d.instance.setMeta(h=>({...h,isTouched:!0})))})}),!this.state.canSubmit)return;this.baseStore.setState(d=>({...d,isSubmitting:!0}));const p=()=>{this.baseStore.setState(d=>({...d,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){p(),(r=(n=this.options).onSubmitInvalid)==null||r.call(n,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){p(),(o=(s=this.options).onSubmitInvalid)==null||o.call(s,{value:this.state.values,formApi:this});return}We(()=>{Object.values(this.fieldInfo).forEach(d=>{var h,g,v;(v=(g=(h=d.instance)==null?void 0:h.options.listeners)==null?void 0:g.onSubmit)==null||v.call(g,{value:d.instance.state.value,fieldApi:d.instance})})}),(a=(i=this.options.listeners)==null?void 0:i.onSubmit)==null||a.call(i,{formApi:this});try{await((u=(c=this.options).onSubmit)==null?void 0:u.call(c,{value:this.state.values,formApi:this,meta:t??this.options.onSubmitMeta})),We(()=>{this.baseStore.setState(d=>({...d,isSubmitted:!0,isSubmitSuccessful:!0})),p()})}catch(d){throw this.baseStore.setState(h=>({...h,isSubmitSuccessful:!1})),p(),d}}setErrorMap(t){We(()=>{Object.entries(t).forEach(([n,r])=>{const s=n;if(ho(r)){const{formError:o,fieldErrors:i}=_r(r);for(const a of Object.keys(this.fieldInfo))this.getFieldMeta(a)&&this.setFieldMeta(a,u=>({...u,errorMap:{...u.errorMap,[s]:i==null?void 0:i[a]},errorSourceMap:{...u.errorSourceMap,[s]:"form"}}));this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[s]:o}}))}else this.baseStore.setState(o=>({...o,errorMap:{...o.errorMap,[s]:r}}))})})}}function _r(e){if(e){if(ho(e)){const t=_r(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return{formError:e}}return{formError:void 0}}function mr(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class Lh{constructor(t){this.options={},this.mount=()=>{var n,r;const s=this.store.mount();this.options.defaultValue!==void 0&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const o=this.getInfo();o.instance=this,this.update(this.options);const{onMount:i}=this.options.validators||{};if(i){const a=this.runValidator({validate:i,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});a&&this.setMeta(c=>({...c,errorMap:{...c==null?void 0:c.errorMap,onMount:a},errorSourceMap:{...c==null?void 0:c.errorSourceMap,onMount:"field"}}))}return(r=(n=this.options.listeners)==null?void 0:n.onMount)==null||r.call(n,{value:this.state.value,fieldApi:this}),s},this.update=n=>{this.options=n;const r=this.name!==n.name;if(this.name=n.name,this.state.value===void 0){const s=Nn(n.form.options.defaultValues,n.name),o=n.defaultValue??s;r?this.setValue(i=>i||o,{dontUpdateMeta:!0}):o!==void 0&&this.setValue(o,{dontUpdateMeta:!0})}this.form.getFieldMeta(this.name)===void 0&&this.setMeta(this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,r),this.triggerOnChangeListener(),this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{this.form.pushFieldValue(this.name,n,r),this.triggerOnChangeListener()},this.insertValue=(n,r,s)=>{this.form.insertFieldValue(this.name,n,r,s),this.triggerOnChangeListener()},this.replaceValue=(n,r,s)=>{this.form.replaceFieldValue(this.name,n,r,s),this.triggerOnChangeListener()},this.removeValue=(n,r)=>{this.form.removeFieldValue(this.name,n,r),this.triggerOnChangeListener()},this.swapValues=(n,r,s)=>{this.form.swapFieldValues(this.name,n,r,s),this.triggerOnChangeListener()},this.moveValue=(n,r,s)=>{this.form.moveFieldValues(this.name,n,r,s),this.triggerOnChangeListener()},this.clearValues=n=>{this.form.clearFieldValues(this.name,n),this.triggerOnChangeListener()},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),s=[];for(const o of r){if(!o.instance)continue;const{onChangeListenTo:i,onBlurListenTo:a}=o.instance.options.validators||{};n==="change"&&(i!=null&&i.includes(this.name))&&s.push(o.instance),n==="blur"&&(a!=null&&a.includes(this.name))&&s.push(o.instance)}return s},this.validateSync=(n,r)=>{var s;const o=fo(n,this.options),a=this.getLinkedFields(n).reduce((p,d)=>{const h=fo(n,d.options);return h.forEach(g=>{g.field=d}),p.concat(h)},[]);let c=!1;We(()=>{const p=(d,h)=>{var g;const v=vr(h.cause),m=h.validate?Zi(d.runValidator({validate:h.validate,value:{value:d.store.state.value,validationSource:"field",fieldApi:d},type:"validate"})):void 0,w=r[v],{newErrorValue:y,newSource:x}=Xi({formLevelError:w,fieldLevelError:m});((g=d.state.meta.errorMap)==null?void 0:g[v])!==y&&d.setMeta(b=>({...b,errorMap:{...b.errorMap,[v]:y},errorSourceMap:{...b.errorSourceMap,[v]:x}})),y&&(c=!0)};for(const d of o)p(this,d);for(const d of a)d.validate&&p(d.field,d)});const u=vr("submit");return(s=this.state.meta.errorMap)!=null&&s[u]&&n!=="submit"&&!c&&this.setMeta(p=>({...p,errorMap:{...p.errorMap,[u]:void 0},errorSourceMap:{...p.errorSourceMap,[u]:void 0}})),{hasErrored:c}},this.validateAsync=async(n,r)=>{const s=uo(n,this.options),o=await r,i=this.getLinkedFields(n),a=i.reduce((h,g)=>{const v=uo(n,g.options);return v.forEach(m=>{m.field=g}),h.concat(v)},[]);this.state.meta.isValidating||this.setMeta(h=>({...h,isValidating:!0}));for(const h of i)h.setMeta(g=>({...g,isValidating:!0}));const c=[],u=[],p=(h,g,v)=>{const m=vr(g.cause),w=h.getInfo().validationMetaMap[m];w==null||w.lastAbortController.abort();const y=new AbortController;this.getInfo().validationMetaMap[m]={lastAbortController:y},v.push(new Promise(async x=>{var b;let S;try{S=await new Promise((E,A)=>{this.timeoutIds.validations[g.cause]&&clearTimeout(this.timeoutIds.validations[g.cause]),this.timeoutIds.validations[g.cause]=setTimeout(async()=>{if(y.signal.aborted)return E(void 0);try{E(await this.runValidator({validate:g.validate,value:{value:h.store.state.value,fieldApi:h,signal:y.signal,validationSource:"field"},type:"validateAsync"}))}catch(D){A(D)}},g.debounceMs)})}catch(E){S=E}if(y.signal.aborted)return x(void 0);const M=Zi(S),F=(b=o[this.name])==null?void 0:b[m],{newErrorValue:j,newSource:_}=Xi({formLevelError:F,fieldLevelError:M});h.setMeta(E=>({...E,errorMap:{...E==null?void 0:E.errorMap,[m]:j},errorSourceMap:{...E.errorSourceMap,[m]:_}})),x(j)}))};for(const h of s)h.validate&&p(this,h,c);for(const h of a)h.validate&&p(h.field,h,u);let d=[];(c.length||u.length)&&(d=await Promise.all(c),await Promise.all(u)),this.setMeta(h=>({...h,isValidating:!1}));for(const h of i)h.setMeta(g=>({...g,isValidating:!1}));return d.filter(Boolean)},this.validate=(n,r)=>{var s;if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:o}=r!=null&&r.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:i}=this.validateSync(n,o[this.name]??{});if(i&&!this.options.asyncAlways)return(s=this.getInfo().validationMetaMap[vr(n)])==null||s.lastAbortController.abort(),this.state.meta.errors;const a=r!=null&&r.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,a)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{this.state.meta.isTouched||(this.setMeta(r=>({...r,isTouched:!0})),this.validate("change")),this.state.meta.isBlurred||this.setMeta(r=>({...r,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.parseValueWithSchema=n=>tn.validate({value:this.state.value,validationSource:"field"},n),this.parseValueWithSchemaAsync=n=>tn.validateAsync({value:this.state.value,validationSource:"field"},n),this.form=t.form,this.name=t.name,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new st({deps:[this.form.store],fn:()=>{const n=this.form.getFieldValue(this.name),r=this.form.getFieldMeta(this.name)??{...Tr,...t.defaultMeta};return{value:n,meta:r}}}),this.options=t}get state(){return this.store.state}runValidator(t){return Dl(t.validate)?tn[t.type](t.value,t.validate):t.validate(t.value)}setErrorMap(t){this.setMeta(n=>({...n,errorMap:{...n.errorMap,...t}}))}triggerOnBlurListener(){var t,n,r,s,o,i;const a=(t=this.form.options.listeners)==null?void 0:t.onBlurDebounceMs;a&&a>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{var u,p;(p=(u=this.form.options.listeners)==null?void 0:u.onBlur)==null||p.call(u,{formApi:this.form,fieldApi:this})},a)):(r=(n=this.form.options.listeners)==null?void 0:n.onBlur)==null||r.call(n,{formApi:this.form,fieldApi:this});const c=(s=this.options.listeners)==null?void 0:s.onBlurDebounceMs;c&&c>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{var u,p;(p=(u=this.options.listeners)==null?void 0:u.onBlur)==null||p.call(u,{value:this.state.value,fieldApi:this})},c)):(i=(o=this.options.listeners)==null?void 0:o.onBlur)==null||i.call(o,{value:this.state.value,fieldApi:this})}triggerOnChangeListener(){var t,n,r,s,o,i;const a=(t=this.form.options.listeners)==null?void 0:t.onChangeDebounceMs;a&&a>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{var u,p;(p=(u=this.form.options.listeners)==null?void 0:u.onChange)==null||p.call(u,{formApi:this.form,fieldApi:this})},a)):(r=(n=this.form.options.listeners)==null?void 0:n.onChange)==null||r.call(n,{formApi:this.form,fieldApi:this});const c=(s=this.options.listeners)==null?void 0:s.onChangeDebounceMs;c&&c>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{var u,p;(p=(u=this.options.listeners)==null?void 0:u.onChange)==null||p.call(u,{value:this.state.value,fieldApi:this})},c)):(i=(o=this.options.listeners)==null?void 0:o.onChange)==null||i.call(o,{value:this.state.value,fieldApi:this})}}function Zi(e){if(e)return e}function vr(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}var Pl={exports:{}},Il={},Ol={exports:{}},Ll={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fn=f;function Vh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Th=typeof Object.is=="function"?Object.is:Vh,$h=fn.useState,kh=fn.useEffect,Bh=fn.useLayoutEffect,Hh=fn.useDebugValue;function zh(e,t){var n=t(),r=$h({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return Bh(function(){s.value=n,s.getSnapshot=t,Is(s)&&o({inst:s})},[e,n,t]),kh(function(){return Is(s)&&o({inst:s}),e(function(){Is(s)&&o({inst:s})})},[e]),Hh(n),n}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Th(e,n)}catch{return!0}}function Uh(e,t){return t()}var Wh=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Uh:zh;Ll.useSyncExternalStore=fn.useSyncExternalStore!==void 0?fn.useSyncExternalStore:Wh;Ol.exports=Ll;var Gh=Ol.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=f,qh=Gh;function Kh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xh=typeof Object.is=="function"?Object.is:Kh,Yh=qh.useSyncExternalStore,Zh=ss.useRef,Qh=ss.useEffect,Jh=ss.useMemo,eg=ss.useDebugValue;Il.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=Zh(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=Jh(function(){function c(g){if(!u){if(u=!0,p=g,g=r(g),s!==void 0&&i.hasValue){var v=i.value;if(s(v,g))return d=v}return d=g}if(v=d,Xh(p,g))return v;var m=r(g);return s!==void 0&&s(v,m)?(p=g,v):(p=g,d=m)}var u=!1,p,d,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var a=Yh(e,o[0],o[1]);return Qh(function(){i.hasValue=!0,i.value=a},[a]),eg(a),a};Pl.exports=Il;var tg=Pl.exports;function Ho(e,t=n=>n){return tg.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,ng)}function ng(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!t.has(r)||!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}const $r=typeof window<"u"?f.useLayoutEffect:f.useEffect;function rg(e){const[t]=f.useState(()=>{const r=new Lh({...e,form:e.form,name:e.name});return r.Field=Vl,r});return $r(t.mount,[t]),$r(()=>{t.update(e)}),Ho(t.store,e.mode==="array"?n=>[n.meta,Object.keys(n.value??[]).length]:void 0),t}const Vl=({children:e,...t})=>{const n=rg(t),r=f.useMemo(()=>rs(e,n),[e,n,n.state.value,n.state.meta]);return l.jsx(l.Fragment,{children:r})};function sg({form:e,selector:t,children:n}){const r=Ho(e.store,t);return rs(n,r)}function os(e){const[t]=f.useState(()=>{const n=new Oh(e),r=n;return r.Field=function(o){return l.jsx(Vl,{...o,form:n})},r.Subscribe=s=>l.jsx(sg,{form:n,selector:s.selector,children:s.children}),r});return $r(t.mount,[]),Ho(t.store,n=>n.isSubmitting),$r(()=>{t.update(e)}),t}const At=()=>{var u,p;const e=((u=window.spiderBoxesAdmin)==null?void 0:u.restUrl)||"wp-json/spider-boxes/v1",t=((p=window.spiderBoxesAdmin)==null?void 0:p.nonce)||"",n=f.useCallback(async(d,h={})=>{const g=`${e}${d}`,v={"Content-Type":"application/json","X-WP-Nonce":t,...h.headers};try{const m=await fetch(g,{...h,headers:v});if(!m.ok){const y=await m.json().catch(()=>({}));throw new Error(y.message||`HTTP ${m.status}: ${m.statusText}`)}const w=await m.json();if(w&&typeof w=="object"&&"success"in w){const y=w;if(!y.success)throw new Error(y.message||"API request failed");return y.data}else return w}catch(m){throw m instanceof Error?m:new Error("An unexpected error occurred")}},[e,t]),r=f.useCallback(d=>n(d,{method:"GET"}),[n]),s=f.useCallback((d,h)=>n(d,{method:"POST",body:h?JSON.stringify(h):void 0}),[n]),o=f.useCallback((d,h)=>n(d,{method:"PUT",body:h?JSON.stringify(h):void 0}),[n]),i=f.useCallback((d,h)=>n(d,{method:"PATCH",body:h?JSON.stringify(h):void 0}),[n]),a=f.useCallback(d=>n(d,{method:"DELETE"}),[n]),c=f.useCallback(async()=>await n("/reviews/fields"),[n]);return{request:n,get:r,post:s,put:o,patch:i,del:a,getReviewFields:c}};function Qi(e,[t,n]){return Math.min(n,Math.max(t,e))}function og(e){const t=e+"CollectionProvider",[n,r]=Jr(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:w,children:y}=m,x=te.useRef(null),b=te.useRef(new Map).current;return l.jsx(s,{scope:w,itemMap:b,collectionRef:x,children:y})};i.displayName=t;const a=e+"CollectionSlot",c=dn(a),u=te.forwardRef((m,w)=>{const{scope:y,children:x}=m,b=o(a,y),S=ce(w,b.collectionRef);return l.jsx(c,{ref:S,children:x})});u.displayName=a;const p=e+"CollectionItemSlot",d="data-radix-collection-item",h=dn(p),g=te.forwardRef((m,w)=>{const{scope:y,children:x,...b}=m,S=te.useRef(null),M=ce(w,S),F=o(p,y);return te.useEffect(()=>(F.itemMap.set(S,{ref:S,...b}),()=>void F.itemMap.delete(S))),l.jsx(h,{[d]:"",ref:M,children:x})});g.displayName=p;function v(m){const w=o(e+"CollectionConsumer",m);return te.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((F,j)=>b.indexOf(F.ref.current)-b.indexOf(j.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:g},v,r]}var ig=f.createContext(void 0);function ag(e){const t=f.useContext(ig);return e||t||"ltr"}const lg=["top","right","bottom","left"],jt=Math.min,_e=Math.max,kr=Math.round,xr=Math.floor,Xe=e=>({x:e,y:e}),cg={left:"right",right:"left",bottom:"top",top:"bottom"},ug={start:"end",end:"start"};function go(e,t,n){return _e(e,jt(t,n))}function ot(e,t){return typeof e=="function"?e(t):e}function it(e){return e.split("-")[0]}function gn(e){return e.split("-")[1]}function zo(e){return e==="x"?"y":"x"}function Uo(e){return e==="y"?"height":"width"}function Ke(e){return["top","bottom"].includes(it(e))?"y":"x"}function Wo(e){return zo(Ke(e))}function dg(e,t,n){n===void 0&&(n=!1);const r=gn(e),s=Wo(e),o=Uo(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Br(i)),[i,Br(i)]}function fg(e){const t=Br(e);return[po(e),t,po(t)]}function po(e){return e.replace(/start|end/g,t=>ug[t])}function hg(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function gg(e,t,n,r){const s=gn(e);let o=hg(it(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(po)))),o}function Br(e){return e.replace(/left|right|bottom|top/g,t=>cg[t])}function pg(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tl(e){return typeof e!="number"?pg(e):{top:e,right:e,bottom:e,left:e}}function Hr(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Ji(e,t,n){let{reference:r,floating:s}=e;const o=Ke(t),i=Wo(t),a=Uo(i),c=it(t),u=o==="y",p=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let g;switch(c){case"top":g={x:p,y:r.y-s.height};break;case"bottom":g={x:p,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-s.width,y:d};break;default:g={x:r.x,y:r.y}}switch(gn(t)){case"start":g[i]-=h*(n&&u?-1:1);break;case"end":g[i]+=h*(n&&u?-1:1);break}return g}const mg=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:d}=Ji(u,r,c),h=r,g={},v=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x,y:b,data:S,reset:M}=await y({x:p,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});p=x??p,d=b??d,g={...g,[w]:{...g[w],...S}},M&&v<=50&&(v++,typeof M=="object"&&(M.placement&&(h=M.placement),M.rects&&(u=M.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):M.rects),{x:p,y:d}=Ji(u,h,c)),m=-1)}return{x:p,y:d,placement:h,strategy:s,middlewareData:g}};async function Ln(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:d="floating",altBoundary:h=!1,padding:g=0}=ot(t,e),v=Tl(g),w=a[h?d==="floating"?"reference":"floating":d],y=Hr(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:p,strategy:c})),x=d==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},M=Hr(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-M.top+v.top)/S.y,bottom:(M.bottom-y.bottom+v.bottom)/S.y,left:(y.left-M.left+v.left)/S.x,right:(M.right-y.right+v.right)/S.x}}const vg=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:p=0}=ot(e,t)||{};if(u==null)return{};const d=Tl(p),h={x:n,y:r},g=Wo(s),v=Uo(g),m=await i.getDimensions(u),w=g==="y",y=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=o.reference[v]+o.reference[g]-h[g]-o.floating[v],M=h[g]-o.reference[g],F=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=F?F[b]:0;(!j||!await(i.isElement==null?void 0:i.isElement(F)))&&(j=a.floating[b]||o.floating[v]);const _=S/2-M/2,E=j/2-m[v]/2-1,A=jt(d[y],E),D=jt(d[x],E),N=A,L=j-m[v]-D,V=j/2-m[v]/2+_,T=go(N,V,L),k=!c.arrow&&gn(s)!=null&&V!==T&&o.reference[v]/2-(V<N?A:D)-m[v]/2<0,B=k?V<N?V-N:V-L:0;return{[g]:h[g]+B,data:{[g]:T,centerOffset:V-T-B,...k&&{alignmentOffset:B}},reset:k}}}),xg=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:p=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...w}=ot(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=it(s),x=Ke(a),b=it(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),M=h||(b||!m?[Br(a)]:fg(a)),F=v!=="none";!h&&F&&M.push(...gg(a,m,v,S));const j=[a,...M],_=await Ln(t,w),E=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&E.push(_[y]),d){const V=dg(s,i,S);E.push(_[V[0]],_[V[1]])}if(A=[...A,{placement:s,overflows:E}],!E.every(V=>V<=0)){var D,N;const V=(((D=o.flip)==null?void 0:D.index)||0)+1,T=j[V];if(T&&(!(d==="alignment"?x!==Ke(T):!1)||A.every(I=>I.overflows[0]>0&&Ke(I.placement)===x)))return{data:{index:V,overflows:A},reset:{placement:T}};let k=(N=A.filter(B=>B.overflows[0]<=0).sort((B,I)=>B.overflows[1]-I.overflows[1])[0])==null?void 0:N.placement;if(!k)switch(g){case"bestFit":{var L;const B=(L=A.filter(I=>{if(F){const R=Ke(I.placement);return R===x||R==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(R=>R>0).reduce((R,H)=>R+H,0)]).sort((I,R)=>I[1]-R[1])[0])==null?void 0:L[0];B&&(k=B);break}case"initialPlacement":k=a;break}if(s!==k)return{reset:{placement:k}}}return{}}}};function ea(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ta(e){return lg.some(t=>e[t]>=0)}const yg=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=ot(e,t);switch(r){case"referenceHidden":{const o=await Ln(t,{...s,elementContext:"reference"}),i=ea(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ta(i)}}}case"escaped":{const o=await Ln(t,{...s,altBoundary:!0}),i=ea(o,n.floating);return{data:{escapedOffsets:i,escaped:ta(i)}}}default:return{}}}}};async function wg(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=it(n),a=gn(n),c=Ke(n)==="y",u=["left","top"].includes(i)?-1:1,p=o&&c?-1:1,d=ot(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),c?{x:g*p,y:h*u}:{x:h*u,y:g*p}}const bg=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await wg(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},Sg=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:y,y:x}=w;return{x:y,y:x}}},...c}=ot(e,t),u={x:n,y:r},p=await Ln(t,c),d=Ke(it(s)),h=zo(d);let g=u[h],v=u[d];if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=g+p[w],b=g-p[y];g=go(x,g,b)}if(i){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",x=v+p[w],b=v-p[y];v=go(x,v,b)}const m=a.fn({...t,[h]:g,[d]:v});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:o,[d]:i}}}}}},Cg=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=ot(e,t),p={x:n,y:r},d=Ke(s),h=zo(d);let g=p[h],v=p[d];const m=ot(a,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",S=o.reference[h]-o.floating[b]+w.mainAxis,M=o.reference[h]+o.reference[b]-w.mainAxis;g<S?g=S:g>M&&(g=M)}if(u){var y,x;const b=h==="y"?"width":"height",S=["top","left"].includes(it(s)),M=o.reference[d]-o.floating[b]+(S&&((y=i.offset)==null?void 0:y[d])||0)+(S?0:w.crossAxis),F=o.reference[d]+o.reference[b]+(S?0:((x=i.offset)==null?void 0:x[d])||0)-(S?w.crossAxis:0);v<M?v=M:v>F&&(v=F)}return{[h]:g,[d]:v}}}},Rg=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=ot(e,t),p=await Ln(t,u),d=it(s),h=gn(s),g=Ke(s)==="y",{width:v,height:m}=o.floating;let w,y;d==="top"||d==="bottom"?(w=d,y=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,w=h==="end"?"top":"bottom");const x=m-p.top-p.bottom,b=v-p.left-p.right,S=jt(m-p[w],x),M=jt(v-p[y],b),F=!t.middlewareData.shift;let j=S,_=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=x),F&&!h){const A=_e(p.left,0),D=_e(p.right,0),N=_e(p.top,0),L=_e(p.bottom,0);g?_=v-2*(A!==0||D!==0?A+D:_e(p.left,p.right)):j=m-2*(N!==0||L!==0?N+L:_e(p.top,p.bottom))}await c({...t,availableWidth:_,availableHeight:j});const E=await i.getDimensions(a.floating);return v!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function is(){return typeof window<"u"}function pn(e){return $l(e)?(e.nodeName||"").toLowerCase():"#document"}function Ae(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qe(e){var t;return(t=($l(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $l(e){return is()?e instanceof Node||e instanceof Ae(e).Node:!1}function $e(e){return is()?e instanceof Element||e instanceof Ae(e).Element:!1}function Ye(e){return is()?e instanceof HTMLElement||e instanceof Ae(e).HTMLElement:!1}function na(e){return!is()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ae(e).ShadowRoot}function Qn(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ke(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function Mg(e){return["table","td","th"].includes(pn(e))}function as(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Go(e){const t=qo(),n=$e(e)?ke(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Eg(e){let t=Nt(e);for(;Ye(t)&&!hn(t);){if(Go(t))return t;if(as(t))return null;t=Nt(t)}return null}function qo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hn(e){return["html","body","#document"].includes(pn(e))}function ke(e){return Ae(e).getComputedStyle(e)}function ls(e){return $e(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Nt(e){if(pn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||na(e)&&e.host||Qe(e);return na(t)?t.host:t}function kl(e){const t=Nt(e);return hn(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ye(t)&&Qn(t)?t:kl(t)}function Vn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=kl(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Ae(s);if(o){const a=mo(i);return t.concat(i,i.visualViewport||[],Qn(s)?s:[],a&&n?Vn(a):[])}return t.concat(s,Vn(s,[],n))}function mo(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Bl(e){const t=ke(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ye(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=kr(n)!==o||kr(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Ko(e){return $e(e)?e:e.contextElement}function nn(e){const t=Ko(e);if(!Ye(t))return Xe(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Bl(t);let i=(o?kr(n.width):n.width)/r,a=(o?kr(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const jg=Xe(0);function Hl(e){const t=Ae(e);return!qo()||!t.visualViewport?jg:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ng(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ae(e)?!1:t}function Ht(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Ko(e);let i=Xe(1);t&&(r?$e(r)&&(i=nn(r)):i=nn(e));const a=Ng(o,n,r)?Hl(o):Xe(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,p=s.width/i.x,d=s.height/i.y;if(o){const h=Ae(o),g=r&&$e(r)?Ae(r):r;let v=h,m=mo(v);for(;m&&r&&g!==v;){const w=nn(m),y=m.getBoundingClientRect(),x=ke(m),b=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,S=y.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,p*=w.x,d*=w.y,c+=b,u+=S,v=Ae(m),m=mo(v)}}return Hr({width:p,height:d,x:c,y:u})}function Xo(e,t){const n=ls(e).scrollLeft;return t?t.left+n:Ht(Qe(e)).left+n}function zl(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Xo(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function Fg(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Qe(r),a=t?as(t.floating):!1;if(r===i||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Xe(1);const p=Xe(0),d=Ye(r);if((d||!d&&!o)&&((pn(r)!=="body"||Qn(i))&&(c=ls(r)),Ye(r))){const g=Ht(r);u=nn(r),p.x=g.x+r.clientLeft,p.y=g.y+r.clientTop}const h=i&&!d&&!o?zl(i,c,!0):Xe(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+p.x+h.x,y:n.y*u.y-c.scrollTop*u.y+p.y+h.y}}function _g(e){return Array.from(e.getClientRects())}function Ag(e){const t=Qe(e),n=ls(e),r=e.ownerDocument.body,s=_e(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=_e(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Xo(e);const a=-n.scrollTop;return ke(r).direction==="rtl"&&(i+=_e(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function Dg(e,t){const n=Ae(e),r=Qe(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=qo();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function Pg(e,t){const n=Ht(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ye(e)?nn(e):Xe(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:a,x:c,y:u}}function ra(e,t,n){let r;if(t==="viewport")r=Dg(e,n);else if(t==="document")r=Ag(Qe(e));else if($e(t))r=Pg(t,n);else{const s=Hl(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Hr(r)}function Ul(e,t){const n=Nt(e);return n===t||!$e(n)||hn(n)?!1:ke(n).position==="fixed"||Ul(n,t)}function Ig(e,t){const n=t.get(e);if(n)return n;let r=Vn(e,[],!1).filter(a=>$e(a)&&pn(a)!=="body"),s=null;const o=ke(e).position==="fixed";let i=o?Nt(e):e;for(;$e(i)&&!hn(i);){const a=ke(i),c=Go(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Qn(i)&&!c&&Ul(e,i))?r=r.filter(p=>p!==i):s=a,i=Nt(i)}return t.set(e,r),r}function Og(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?as(t)?[]:Ig(t,this._c):[].concat(n),r],a=i[0],c=i.reduce((u,p)=>{const d=ra(t,p,s);return u.top=_e(d.top,u.top),u.right=jt(d.right,u.right),u.bottom=jt(d.bottom,u.bottom),u.left=_e(d.left,u.left),u},ra(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Lg(e){const{width:t,height:n}=Bl(e);return{width:t,height:n}}function Vg(e,t,n){const r=Ye(t),s=Qe(t),o=n==="fixed",i=Ht(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Xe(0);function u(){c.x=Xo(s)}if(r||!r&&!o)if((pn(t)!=="body"||Qn(s))&&(a=ls(t)),r){const g=Ht(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&u();o&&!r&&s&&u();const p=s&&!r&&!o?zl(s,a):Xe(0),d=i.left+a.scrollLeft-c.x-p.x,h=i.top+a.scrollTop-c.y-p.y;return{x:d,y:h,width:i.width,height:i.height}}function Os(e){return ke(e).position==="static"}function sa(e,t){if(!Ye(e)||ke(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Qe(e)===n&&(n=n.ownerDocument.body),n}function Wl(e,t){const n=Ae(e);if(as(e))return n;if(!Ye(e)){let s=Nt(e);for(;s&&!hn(s);){if($e(s)&&!Os(s))return s;s=Nt(s)}return n}let r=sa(e,t);for(;r&&Mg(r)&&Os(r);)r=sa(r,t);return r&&hn(r)&&Os(r)&&!Go(r)?n:r||Eg(e)||n}const Tg=async function(e){const t=this.getOffsetParent||Wl,n=this.getDimensions,r=await n(e.floating);return{reference:Vg(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $g(e){return ke(e).direction==="rtl"}const kg={convertOffsetParentRelativeRectToViewportRelativeRect:Fg,getDocumentElement:Qe,getClippingRect:Og,getOffsetParent:Wl,getElementRects:Tg,getClientRects:_g,getDimensions:Lg,getScale:nn,isElement:$e,isRTL:$g};function Gl(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Bg(e,t){let n=null,r;const s=Qe(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:p,top:d,width:h,height:g}=u;if(a||t(),!h||!g)return;const v=xr(d),m=xr(s.clientWidth-(p+h)),w=xr(s.clientHeight-(d+g)),y=xr(p),b={rootMargin:-v+"px "+-m+"px "+-w+"px "+-y+"px",threshold:_e(0,jt(1,c))||1};let S=!0;function M(F){const j=F[0].intersectionRatio;if(j!==c){if(!S)return i();j?i(!1,j):r=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!Gl(u,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(M,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(M,b)}n.observe(e)}return i(!0),o}function Hg(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ko(e),p=s||o?[...u?Vn(u):[],...Vn(t)]:[];p.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=u&&a?Bg(u,n):null;let h=-1,g=null;i&&(g=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let v,m=c?Ht(e):null;c&&w();function w(){const y=Ht(e);m&&!Gl(m,y)&&n(),m=y,v=requestAnimationFrame(w)}return n(),()=>{var y;p.forEach(x=>{s&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),d==null||d(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const zg=bg,Ug=Sg,Wg=xg,Gg=Rg,qg=yg,oa=vg,Kg=Cg,Xg=(e,t,n)=>{const r=new Map,s={platform:kg,...n},o={...s.platform,_c:r};return mg(e,t,{...s,platform:o})};var Yg=typeof document<"u",Zg=function(){},Ar=Yg?f.useLayoutEffect:Zg;function zr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zr(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!zr(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ql(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ia(e,t){const n=ql(e);return Math.round(t*n)/n}function Ls(e){const t=f.useRef(e);return Ar(()=>{t.current=e}),t}function Qg(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[p,d]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=f.useState(r);zr(h,r)||g(r);const[v,m]=f.useState(null),[w,y]=f.useState(null),x=f.useCallback(I=>{I!==F.current&&(F.current=I,m(I))},[]),b=f.useCallback(I=>{I!==j.current&&(j.current=I,y(I))},[]),S=o||v,M=i||w,F=f.useRef(null),j=f.useRef(null),_=f.useRef(p),E=c!=null,A=Ls(c),D=Ls(s),N=Ls(u),L=f.useCallback(()=>{if(!F.current||!j.current)return;const I={placement:t,strategy:n,middleware:h};D.current&&(I.platform=D.current),Xg(F.current,j.current,I).then(R=>{const H={...R,isPositioned:N.current!==!1};V.current&&!zr(_.current,H)&&(_.current=H,nt.flushSync(()=>{d(H)}))})},[h,t,n,D,N]);Ar(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[u]);const V=f.useRef(!1);Ar(()=>(V.current=!0,()=>{V.current=!1}),[]),Ar(()=>{if(S&&(F.current=S),M&&(j.current=M),S&&M){if(A.current)return A.current(S,M,L);L()}},[S,M,L,A,E]);const T=f.useMemo(()=>({reference:F,floating:j,setReference:x,setFloating:b}),[x,b]),k=f.useMemo(()=>({reference:S,floating:M}),[S,M]),B=f.useMemo(()=>{const I={position:n,left:0,top:0};if(!k.floating)return I;const R=ia(k.floating,p.x),H=ia(k.floating,p.y);return a?{...I,transform:"translate("+R+"px, "+H+"px)",...ql(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:H}},[n,a,k.floating,p.x,p.y]);return f.useMemo(()=>({...p,update:L,refs:T,elements:k,floatingStyles:B}),[p,L,T,k,B])}const Jg=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?oa({element:r.current,padding:s}).fn(n):{}:r?oa({element:r,padding:s}).fn(n):{}}}},ep=(e,t)=>({...zg(e),options:[e,t]}),tp=(e,t)=>({...Ug(e),options:[e,t]}),np=(e,t)=>({...Kg(e),options:[e,t]}),rp=(e,t)=>({...Wg(e),options:[e,t]}),sp=(e,t)=>({...Gg(e),options:[e,t]}),op=(e,t)=>({...qg(e),options:[e,t]}),ip=(e,t)=>({...Jg(e),options:[e,t]});var ap="Arrow",Kl=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return l.jsx(oe.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Kl.displayName=ap;var lp=Kl;function cp(e){const[t,n]=f.useState(void 0);return ye(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Yo="Popper",[Xl,Yl]=Jr(Yo),[up,Zl]=Xl(Yo),Ql=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return l.jsx(up,{scope:t,anchor:r,onAnchorChange:s,children:n})};Ql.displayName=Yo;var Jl="PopperAnchor",ec=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Zl(Jl,n),i=f.useRef(null),a=ce(t,i);return f.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:l.jsx(oe.div,{...s,ref:a})});ec.displayName=Jl;var Zo="PopperContent",[dp,fp]=Xl(Zo),tc=f.forwardRef((e,t)=>{var z,q,ee,C,O,$;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:p=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...m}=e,w=Zl(Zo,n),[y,x]=f.useState(null),b=ce(t,G=>x(G)),[S,M]=f.useState(null),F=cp(S),j=(F==null?void 0:F.width)??0,_=(F==null?void 0:F.height)??0,E=r+(o!=="center"?"-"+o:""),A=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},D=Array.isArray(u)?u:[u],N=D.length>0,L={padding:A,boundary:D.filter(gp),altBoundary:N},{refs:V,floatingStyles:T,placement:k,isPositioned:B,middlewareData:I}=Qg({strategy:"fixed",placement:E,whileElementsMounted:(...G)=>Hg(...G,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[ep({mainAxis:s+_,alignmentAxis:i}),c&&tp({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?np():void 0,...L}),c&&rp({...L}),sp({...L,apply:({elements:G,rects:Z,availableWidth:ge,availableHeight:Pe})=>{const{width:at,height:nr}=Z.reference,lt=G.floating.style;lt.setProperty("--radix-popper-available-width",`${ge}px`),lt.setProperty("--radix-popper-available-height",`${Pe}px`),lt.setProperty("--radix-popper-anchor-width",`${at}px`),lt.setProperty("--radix-popper-anchor-height",`${nr}px`)}}),S&&ip({element:S,padding:a}),pp({arrowWidth:j,arrowHeight:_}),h&&op({strategy:"referenceHidden",...L})]}),[R,H]=sc(k),Y=kt(v);ye(()=>{B&&(Y==null||Y())},[B,Y]);const re=(z=I.arrow)==null?void 0:z.x,he=(q=I.arrow)==null?void 0:q.y,ue=((ee=I.arrow)==null?void 0:ee.centerOffset)!==0,[Ce,se]=f.useState();return ye(()=>{y&&se(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:B?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(C=I.transformOrigin)==null?void 0:C.x,(O=I.transformOrigin)==null?void 0:O.y].join(" "),...(($=I.hide)==null?void 0:$.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(dp,{scope:n,placedSide:R,onArrowChange:M,arrowX:re,arrowY:he,shouldHideArrow:ue,children:l.jsx(oe.div,{"data-side":R,"data-align":H,...m,ref:b,style:{...m.style,animation:B?void 0:"none"}})})})});tc.displayName=Zo;var nc="PopperArrow",hp={top:"bottom",right:"left",bottom:"top",left:"right"},rc=f.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=fp(nc,r),i=hp[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(lp,{...s,ref:n,style:{...s.style,display:"block"}})})});rc.displayName=nc;function gp(e){return e!==null}var pp=e=>({name:"transformOrigin",options:e,fn(t){var w,y,x;const{placement:n,rects:r,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,p]=sc(n),d={start:"0%",center:"50%",end:"100%"}[p],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=i?d:`${h}px`,m=`${-c}px`):u==="top"?(v=i?d:`${h}px`,m=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=i?d:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,m=i?d:`${g}px`),{data:{x:v,y:m}}}});function sc(e){const[t,n="center"]=e.split("-");return[t,n]}var mp=Ql,vp=ec,xp=tc,yp=rc;function wp(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var oc=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bp="VisuallyHidden",Sp=f.forwardRef((e,t)=>l.jsx(oe.span,{...e,ref:t,style:{...oc,...e.style}}));Sp.displayName=bp;var Cp=[" ","Enter","ArrowUp","ArrowDown"],Rp=[" ","Enter"],zt="Select",[cs,us,Mp]=og(zt),[mn,Z0]=Jr(zt,[Mp,Yl]),ds=Yl(),[Ep,Dt]=mn(zt),[jp,Np]=mn(zt),ic=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:p,autoComplete:d,disabled:h,required:g,form:v}=e,m=ds(t),[w,y]=f.useState(null),[x,b]=f.useState(null),[S,M]=f.useState(!1),F=ag(u),[j,_]=so({prop:r,defaultProp:s??!1,onChange:o,caller:zt}),[E,A]=so({prop:i,defaultProp:a,onChange:c,caller:zt}),D=f.useRef(null),N=w?v||!!w.closest("form"):!0,[L,V]=f.useState(new Set),T=Array.from(L).map(k=>k.props.value).join(";");return l.jsx(mp,{...m,children:l.jsxs(Ep,{required:g,scope:t,trigger:w,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:M,contentId:Qt(),value:E,onValueChange:A,open:j,onOpenChange:_,dir:F,triggerPointerDownPosRef:D,disabled:h,children:[l.jsx(cs.Provider,{scope:t,children:l.jsx(jp,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(k=>{V(B=>new Set(B).add(k))},[]),onNativeOptionRemove:f.useCallback(k=>{V(B=>{const I=new Set(B);return I.delete(k),I})},[]),children:n})}),N?l.jsxs(Ac,{"aria-hidden":!0,required:g,tabIndex:-1,name:p,autoComplete:d,value:E,onChange:k=>A(k.target.value),disabled:h,form:v,children:[E===void 0?l.jsx("option",{value:""}):null,Array.from(L)]},T):null]})})};ic.displayName=zt;var ac="SelectTrigger",lc=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=ds(n),i=Dt(ac,n),a=i.disabled||r,c=ce(t,i.onTriggerChange),u=us(n),p=f.useRef("touch"),[d,h,g]=Pc(m=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===i.value),x=Ic(w,m,y);x!==void 0&&i.onValueChange(x.value)}),v=m=>{a||(i.onOpenChange(!0),g()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(vp,{asChild:!0,...o,children:l.jsx(oe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Dc(i.value)?"":void 0,...s,ref:c,onClick:ae(s.onClick,m=>{m.currentTarget.focus(),p.current!=="mouse"&&v(m)}),onPointerDown:ae(s.onPointerDown,m=>{p.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:ae(s.onKeyDown,m=>{const w=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(w&&m.key===" ")&&Cp.includes(m.key)&&(v(),m.preventDefault())})})})});lc.displayName=ac;var cc="SelectValue",uc=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,c=Dt(cc,n),{onValueNodeHasChildrenChange:u}=c,p=o!==void 0,d=ce(t,c.onValueNodeChange);return ye(()=>{u(p)},[u,p]),l.jsx(oe.span,{...a,ref:d,style:{pointerEvents:"none"},children:Dc(c.value)?l.jsx(l.Fragment,{children:i}):o})});uc.displayName=cc;var Fp="SelectIcon",dc=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(oe.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});dc.displayName=Fp;var _p="SelectPortal",fc=e=>l.jsx(Oo,{asChild:!0,...e});fc.displayName=_p;var Ut="SelectContent",hc=f.forwardRef((e,t)=>{const n=Dt(Ut,e.__scopeSelect),[r,s]=f.useState();if(ye(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?nt.createPortal(l.jsx(gc,{scope:e.__scopeSelect,children:l.jsx(cs.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(pc,{...e,ref:t})});hc.displayName=Ut;var Ve=10,[gc,Pt]=mn(Ut),Ap="SelectContentImpl",Dp=dn("SelectContent.RemoveScroll"),pc=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:p,arrowPadding:d,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:m,avoidCollisions:w,...y}=e,x=Dt(Ut,n),[b,S]=f.useState(null),[M,F]=f.useState(null),j=ce(t,z=>S(z)),[_,E]=f.useState(null),[A,D]=f.useState(null),N=us(n),[L,V]=f.useState(!1),T=f.useRef(!1);f.useEffect(()=>{if(b)return ll(b)},[b]),Za();const k=f.useCallback(z=>{const[q,...ee]=N().map($=>$.ref.current),[C]=ee.slice(-1),O=document.activeElement;for(const $ of z)if($===O||($==null||$.scrollIntoView({block:"nearest"}),$===q&&M&&(M.scrollTop=0),$===C&&M&&(M.scrollTop=M.scrollHeight),$==null||$.focus(),document.activeElement!==O))return},[N,M]),B=f.useCallback(()=>k([_,b]),[k,_,b]);f.useEffect(()=>{L&&B()},[L,B]);const{onOpenChange:I,triggerPointerDownPosRef:R}=x;f.useEffect(()=>{if(b){let z={x:0,y:0};const q=C=>{var O,$;z={x:Math.abs(Math.round(C.pageX)-(((O=R.current)==null?void 0:O.x)??0)),y:Math.abs(Math.round(C.pageY)-((($=R.current)==null?void 0:$.y)??0))}},ee=C=>{z.x<=10&&z.y<=10?C.preventDefault():b.contains(C.target)||I(!1),document.removeEventListener("pointermove",q),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",ee,{capture:!0})}}},[b,I,R]),f.useEffect(()=>{const z=()=>I(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[I]);const[H,Y]=Pc(z=>{const q=N().filter(O=>!O.disabled),ee=q.find(O=>O.ref.current===document.activeElement),C=Ic(q,z,ee);C&&setTimeout(()=>C.ref.current.focus())}),re=f.useCallback((z,q,ee)=>{const C=!T.current&&!ee;(x.value!==void 0&&x.value===q||C)&&(E(z),C&&(T.current=!0))},[x.value]),he=f.useCallback(()=>b==null?void 0:b.focus(),[b]),ue=f.useCallback((z,q,ee)=>{const C=!T.current&&!ee;(x.value!==void 0&&x.value===q||C)&&D(z)},[x.value]),Ce=r==="popper"?vo:mc,se=Ce===vo?{side:a,sideOffset:c,align:u,alignOffset:p,arrowPadding:d,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:m,avoidCollisions:w}:{};return l.jsx(gc,{scope:n,content:b,viewport:M,onViewportChange:F,itemRefCallback:re,selectedItem:_,onItemLeave:he,itemTextRefCallback:ue,focusSelectedItem:B,selectedItemText:A,position:r,isPositioned:L,searchRef:H,children:l.jsx(il,{as:Dp,allowPinchZoom:!0,children:l.jsx(Io,{asChild:!0,trapped:x.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:ae(s,z=>{var q;(q=x.trigger)==null||q.focus({preventScroll:!0}),z.preventDefault()}),children:l.jsx(Po,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(Ce,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:z=>z.preventDefault(),...y,...se,onPlaced:()=>V(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ae(y.onKeyDown,z=>{const q=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!q&&z.key.length===1&&Y(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let C=N().filter(O=>!O.disabled).map(O=>O.ref.current);if(["ArrowUp","End"].includes(z.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const O=z.target,$=C.indexOf(O);C=C.slice($+1)}setTimeout(()=>k(C)),z.preventDefault()}})})})})})})});pc.displayName=Ap;var Pp="SelectItemAlignedPosition",mc=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Dt(Ut,n),i=Pt(Ut,n),[a,c]=f.useState(null),[u,p]=f.useState(null),d=ce(t,j=>p(j)),h=us(n),g=f.useRef(!1),v=f.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:y,focusSelectedItem:x}=i,b=f.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&m&&w&&y){const j=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(o.dir!=="rtl"){const O=A.left-_.left,$=E.left-O,G=j.left-$,Z=j.width+G,ge=Math.max(Z,_.width),Pe=window.innerWidth-Ve,at=Qi($,[Ve,Math.max(Ve,Pe-ge)]);a.style.minWidth=Z+"px",a.style.left=at+"px"}else{const O=_.right-A.right,$=window.innerWidth-E.right-O,G=window.innerWidth-j.right-$,Z=j.width+G,ge=Math.max(Z,_.width),Pe=window.innerWidth-Ve,at=Qi($,[Ve,Math.max(Ve,Pe-ge)]);a.style.minWidth=Z+"px",a.style.right=at+"px"}const D=h(),N=window.innerHeight-Ve*2,L=m.scrollHeight,V=window.getComputedStyle(u),T=parseInt(V.borderTopWidth,10),k=parseInt(V.paddingTop,10),B=parseInt(V.borderBottomWidth,10),I=parseInt(V.paddingBottom,10),R=T+k+L+I+B,H=Math.min(w.offsetHeight*5,R),Y=window.getComputedStyle(m),re=parseInt(Y.paddingTop,10),he=parseInt(Y.paddingBottom,10),ue=j.top+j.height/2-Ve,Ce=N-ue,se=w.offsetHeight/2,z=w.offsetTop+se,q=T+k+z,ee=R-q;if(q<=ue){const O=D.length>0&&w===D[D.length-1].ref.current;a.style.bottom="0px";const $=u.clientHeight-m.offsetTop-m.offsetHeight,G=Math.max(Ce,se+(O?he:0)+$+B),Z=q+G;a.style.height=Z+"px"}else{const O=D.length>0&&w===D[0].ref.current;a.style.top="0px";const G=Math.max(ue,T+m.offsetTop+(O?re:0)+se)+ee;a.style.height=G+"px",m.scrollTop=q-ue+m.offsetTop}a.style.margin=`${Ve}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,a,u,m,w,y,o.dir,r]);ye(()=>b(),[b]);const[S,M]=f.useState();ye(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const F=f.useCallback(j=>{j&&v.current===!0&&(b(),x==null||x(),v.current=!1)},[b,x]);return l.jsx(Op,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:F,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(oe.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});mc.displayName=Pp;var Ip="SelectPopperPosition",vo=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ve,...o}=e,i=ds(n);return l.jsx(xp,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vo.displayName=Ip;var[Op,Qo]=mn(Ut,{}),xo="SelectViewport",vc=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Pt(xo,n),i=Qo(xo,n),a=ce(t,o.onViewportChange),c=f.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(cs.Slot,{scope:n,children:l.jsx(oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ae(s.onScroll,u=>{const p=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&d){const g=Math.abs(c.current-p.scrollTop);if(g>0){const v=window.innerHeight-Ve*2,m=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),y=Math.max(m,w);if(y<v){const x=y+g,b=Math.min(v,x),S=x-b;d.style.height=b+"px",d.style.bottom==="0px"&&(p.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});vc.displayName=xo;var xc="SelectGroup",[Lp,Vp]=mn(xc),yc=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Qt();return l.jsx(Lp,{scope:n,id:s,children:l.jsx(oe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});yc.displayName=xc;var wc="SelectLabel",bc=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Vp(wc,n);return l.jsx(oe.div,{id:s.id,...r,ref:t})});bc.displayName=wc;var Ur="SelectItem",[Tp,Sc]=mn(Ur),Cc=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=Dt(Ur,n),c=Pt(Ur,n),u=a.value===r,[p,d]=f.useState(o??""),[h,g]=f.useState(!1),v=ce(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,s)}),m=Qt(),w=f.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Tp,{scope:n,value:r,disabled:s,textId:m,isSelected:u,onItemTextChange:f.useCallback(x=>{d(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(cs.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:l.jsx(oe.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:ae(i.onFocus,()=>g(!0)),onBlur:ae(i.onBlur,()=>g(!1)),onClick:ae(i.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:ae(i.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:ae(i.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:ae(i.onPointerMove,x=>{var b;w.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(i.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ae(i.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(Rp.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});Cc.displayName=Ur;var Fn="SelectItemText",Rc=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Dt(Fn,n),a=Pt(Fn,n),c=Sc(Fn,n),u=Np(Fn,n),[p,d]=f.useState(null),h=ce(t,y=>d(y),c.onItemTextChange,y=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,y,c.value,c.disabled)}),g=p==null?void 0:p.textContent,v=f.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return ye(()=>(m(v),()=>w(v)),[m,w,v]),l.jsxs(l.Fragment,{children:[l.jsx(oe.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?nt.createPortal(o.children,i.valueNode):null]})});Rc.displayName=Fn;var Mc="SelectItemIndicator",Ec=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Sc(Mc,n).isSelected?l.jsx(oe.span,{"aria-hidden":!0,...r,ref:t}):null});Ec.displayName=Mc;var yo="SelectScrollUpButton",jc=f.forwardRef((e,t)=>{const n=Pt(yo,e.__scopeSelect),r=Qo(yo,e.__scopeSelect),[s,o]=f.useState(!1),i=ce(t,r.onScrollButtonChange);return ye(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(Fc,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});jc.displayName=yo;var wo="SelectScrollDownButton",Nc=f.forwardRef((e,t)=>{const n=Pt(wo,e.__scopeSelect),r=Qo(wo,e.__scopeSelect),[s,o]=f.useState(!1),i=ce(t,r.onScrollButtonChange);return ye(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<u;o(p)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(Fc,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});Nc.displayName=wo;var Fc=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Pt("SelectScrollButton",n),i=f.useRef(null),a=us(n),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),ye(()=>{var p;const u=a().find(d=>d.ref.current===document.activeElement);(p=u==null?void 0:u.ref.current)==null||p.scrollIntoView({block:"nearest"})},[a]),l.jsx(oe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ae(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ae(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ae(s.onPointerLeave,()=>{c()})})}),$p="SelectSeparator",_c=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(oe.div,{"aria-hidden":!0,...r,ref:t})});_c.displayName=$p;var bo="SelectArrow",kp=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ds(n),o=Dt(bo,n),i=Pt(bo,n);return o.open&&i.position==="popper"?l.jsx(yp,{...s,...r,ref:t}):null});kp.displayName=bo;var Bp="SelectBubbleInput",Ac=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=f.useRef(null),o=ce(r,s),i=wp(t);return f.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&p){const d=new Event("change",{bubbles:!0});p.call(a,t),a.dispatchEvent(d)}},[i,t]),l.jsx(oe.select,{...n,style:{...oc,...n.style},ref:o,defaultValue:t})});Ac.displayName=Bp;function Dc(e){return e===""||e===void 0}function Pc(e){const t=kt(e),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(i=>{const a=n.current+i;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function Ic(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=Hp(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Hp(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Oc=ic,Jo=lc,Lc=uc,Vc=dc,Tc=fc,ei=hc,$c=vc,zp=yc,kc=bc,ti=Cc,Bc=Rc,Hc=Ec,zc=jc,Uc=Nc,Wc=_c;const ni=Oc,Up=zp,ri=Lc,fs=f.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Jo,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(Vc,{asChild:!0,children:l.jsx(ko,{className:"h-4 w-4 opacity-50"})})]}));fs.displayName=Jo.displayName;const Gc=f.forwardRef(({className:e,...t},n)=>l.jsx(zc,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(ch,{className:"h-4 w-4"})}));Gc.displayName=zc.displayName;const qc=f.forwardRef(({className:e,...t},n)=>l.jsx(Uc,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(ko,{className:"h-4 w-4"})}));qc.displayName=Uc.displayName;const hs=f.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(Tc,{children:l.jsxs(ei,{ref:s,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(Gc,{}),l.jsx($c,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(qc,{})]})}));hs.displayName=ei.displayName;const Kc=f.forwardRef(({className:e,...t},n)=>l.jsx(kc,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Kc.displayName=kc.displayName;const gs=f.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(ti,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Hc,{children:l.jsx($o,{className:"h-4 w-4"})})}),l.jsx(Bc,{children:t})]}));gs.displayName=ti.displayName;const Xc=f.forwardRef(({className:e,...t},n)=>l.jsx(Wc,{ref:n,className:xe("-mx-1 my-1 h-px bg-gray-200",e),...t}));Xc.displayName=Wc.displayName;const Wp=f.forwardRef(({options:e,value:t,onValueChange:n,placeholder:r="Select an option...",disabled:s=!1,className:o,name:i,required:a=!1,error:c,label:u,description:p,...d},h)=>l.jsxs("div",{className:"space-y-2",children:[u&&l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[u,a&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs(ni,{value:t,onValueChange:n,disabled:s,name:i,required:a,...d,children:[l.jsx(fs,{ref:h,className:xe(c&&"border-red-300 focus:border-red-500 focus:ring-red-500",o),children:l.jsx(ri,{placeholder:r})}),l.jsx(hs,{children:e.map(g=>l.jsx(gs,{value:g.value,disabled:g.disabled,children:g.label},g.value))})]}),p&&!c&&l.jsx("p",{className:"text-sm text-gray-500",children:p}),c&&l.jsx("p",{className:"text-sm text-red-600",children:c})]}));Wp.displayName="SimpleSelect";const Gp=f.forwardRef(({groups:e,value:t,onValueChange:n,placeholder:r="Select an option...",disabled:s=!1,className:o,name:i,required:a=!1,error:c,label:u,description:p,...d},h)=>l.jsxs("div",{className:"space-y-2",children:[u&&l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[u,a&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs(ni,{value:t,onValueChange:n,disabled:s,name:i,required:a,...d,children:[l.jsx(fs,{ref:h,className:xe(c&&"border-red-300 focus:border-red-500 focus:ring-red-500",o),children:l.jsx(ri,{placeholder:r})}),l.jsx(hs,{children:e.map((g,v)=>l.jsxs(Up,{children:[l.jsx(Kc,{children:g.label}),g.options.map(m=>l.jsx(gs,{value:m.value,disabled:m.disabled,children:m.label},m.value)),v<e.length-1&&l.jsx(Xc,{})]},g.label))})]}),p&&!c&&l.jsx("p",{className:"text-sm text-gray-500",children:p}),c&&l.jsx("p",{className:"text-sm text-red-600",children:c})]}));Gp.displayName="GroupedSelect";const qp=({value:e,onChange:t,placeholder:n="Enter tags..."})=>{const[r,s]=f.useState(""),[o,i]=f.useState(()=>e?Array.isArray(e)?e:typeof e=="string"?e.split(",").map(d=>d.trim()).filter(Boolean):[]:[]);f.useEffect(()=>{e?Array.isArray(e)?i(e):typeof e=="string"&&i(e.split(",").map(d=>d.trim()).filter(Boolean)):i([])},[e]);const a=f.useCallback(d=>{const h=d.trim();if(h&&!o.includes(h)){const g=[...o,h];i(g),t(g)}s("")},[o,t]),c=f.useCallback(d=>{const h=o.filter((g,v)=>v!==d);i(h),t(h)},[o,t]),u=f.useCallback(d=>{d.key==="Enter"||d.key===","?(d.preventDefault(),a(r)):d.key==="Backspace"&&!r&&o.length>0&&c(o.length-1)},[r,a,c,o.length]),p=f.useCallback(d=>{const h=d.target.value;h.includes(",")?h.split(",").map(v=>v.trim()).filter(Boolean).forEach(v=>a(v)):s(h)},[a]);return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-gray-300 rounded-md min-h-[42px] focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-primary-500",children:[o.map((d,h)=>l.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-sm bg-primary-100 text-primary-800 rounded-md",children:[d,l.jsx("button",{type:"button",onClick:()=>c(h),className:"ml-1 text-primary-600 hover:text-primary-800 focus:outline-none",children:l.jsx(En,{className:"w-3 h-3"})})]},h)),l.jsx("input",{type:"text",value:r,onChange:p,onKeyDown:u,placeholder:o.length===0?n:"",className:"flex-1 min-w-[120px] border-none outline-none bg-transparent"})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Press Enter or comma to add tags. Backspace to remove the last tag."})]})},Kp=({value:e,onChange:t,multiple:n=!1,mediaType:r="image"})=>{const[s,o]=f.useState({}),[i,a]=f.useState({}),[c,u]=f.useState(null),[p,d]=f.useState(!1),h=E=>E.type==="image"||E.url.match(/\.(jpg|jpeg|png|gif|webp|svg|bmp|tiff|ico)$/i)!==null,g=E=>E.type==="video"||E.url.match(/\.(mp4|webm|ogg|avi|mov|wmv|flv|mkv|m4v|3gp|ogv)$/i)!==null,v=E=>E.type==="audio"||E.url.match(/\.(mp3|wav|ogg|aac|flac|wma|m4a|opus)$/i)!==null,m=E=>E&&g(E)?l.jsx(qi,{className:"w-6 h-6 text-gray-400"}):E&&v(E)?l.jsx(As,{className:"w-6 h-6 text-gray-400"}):l.jsx(Wi,{className:"w-6 h-6 text-gray-400"}),w=E=>g(E)?"Video file":v(E)?"Audio file":h(E)?"Image file":"Media file",y=f.useCallback(E=>{u(E),d(!0)},[]),x=f.useCallback(()=>{u(null),d(!1)},[]),b=f.useCallback(async E=>{var L;if(!((L=window.wp)!=null&&L.media))return;const A={},D={},N=E.filter(V=>!s[V]&&!i[V]);if(N.length!==0){N.forEach(V=>{D[V]=!0}),a(V=>({...V,...D}));for(const V of N)try{const T=window.wp.media.attachment(V);await T.fetch();const k={id:V,url:T.get("url")||"",filename:T.get("filename")||"",alt:T.get("alt")||"",caption:T.get("caption")||"",title:T.get("title")||"",type:T.get("type")||r};A[V]=k}catch(T){console.error(`Failed to fetch media data for ID ${V}:`,T),A[V]={id:V,url:"",filename:`Media ${V}`,title:`Media ${V}`,type:r}}o(V=>({...V,...A})),a(V=>{const T={...V};return N.forEach(k=>{T[k]=!1}),T})}},[r]);f.useEffect(()=>{const E=[];e&&(Array.isArray(e)?E.push(...e):E.push(e)),E.length>0&&b(E)},[e,b]);const S=f.useCallback(()=>{var A;if(!((A=window.wp)!=null&&A.media)){console.error("WordPress media library is not available");return}const E=window.wp.media({title:n?`Select ${r==="video"?"Video":r==="audio"?"Audio":"Media"} Files`:`Select ${r==="video"?"Video":r==="audio"?"Audio":"Media"} File`,button:{text:`Use Selected ${r==="video"?"Video":r==="audio"?"Audio":"Media"}`},multiple:n,library:{type:r}});E.on("open",()=>{document.body.classList.add("wp-media-library-open")}),E.on("select",()=>{const D=E.state().get("selection").toJSON();if(n){const N=D.map(L=>L.id.toString());t(N)}else{const N=D[0];N&&t(N.id.toString())}}),E.on("close",()=>{document.body.classList.remove("wp-media-library-open")}),E.open()},[n,r,t]),M=f.useCallback(E=>{if(n&&Array.isArray(e)&&typeof E=="number"){const A=e.filter((D,N)=>N!==E);t(A.length>0?A:null)}else t(null)},[n,e,t]),F=(E,A)=>{const D=s[E];if(i[E])return l.jsx("div",{className:"relative border border-gray-300 rounded-lg p-2 bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[" ",l.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center animate-pulse",children:m()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-2/3"})]})]})},E);if(!D)return l.jsx("div",{className:"relative border border-red-300 rounded-lg p-2 bg-red-50",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-16 h-16 bg-red-200 rounded flex items-center justify-center",children:l.jsx(En,{className:"w-6 h-6 text-red-400"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-red-900",children:"Media not found"}),l.jsxs("p",{className:"text-sm text-red-600",children:["ID: ",E]})]}),l.jsx("button",{type:"button",onClick:()=>M(A),className:"p-1 text-red-500 hover:text-red-700",title:"Remove media",children:l.jsx(En,{className:"w-4 h-4"})})]})},E);const L=h(D),V=g(D),T=v(D);return l.jsx("div",{className:"relative group border border-gray-300 rounded-lg p-2 bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[L&&D.url?l.jsx("img",{src:D.url,alt:D.alt||D.filename,className:"w-16 h-16 object-cover rounded"}):V&&D.url?l.jsxs("div",{className:"relative w-16 h-16 rounded overflow-hidden group cursor-pointer",onClick:()=>y(D.url),title:"Click to preview video",children:[l.jsx("video",{src:D.url,className:"w-full h-full object-cover",preload:"metadata",muted:!0,poster:D.url+"#t=0.5"}),l.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center transition-opacity group-hover:bg-opacity-50",children:[l.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:l.jsx(Gi,{className:"w-3 h-3 text-gray-800 ml-0.5"})})," "]})]}):T&&D.url?l.jsxs("div",{className:"relative w-16 h-16 rounded overflow-hidden group cursor-pointer bg-blue-50",onClick:()=>y(D.url),title:"Click to preview audio",children:[l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(As,{className:"w-8 h-8 text-blue-600"})}),l.jsx("div",{className:"absolute inset-0 bg-blue-600 bg-opacity-20 flex items-center justify-center transition-opacity group-hover:bg-opacity-30",children:l.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-90 rounded-full flex items-center justify-center",children:l.jsx(Gi,{className:"w-3 h-3 text-gray-800 ml-0.5"})})})]}):l.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:m(D)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:D.title||D.filename})," ",l.jsx("p",{className:"text-sm text-gray-500 truncate",children:D.filename})," ",(V||L||T)&&l.jsx("p",{className:"text-xs text-blue-600",children:w(D)})]}),l.jsx("button",{type:"button",onClick:()=>M(A),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 text-red-500 hover:text-red-700",title:"Remove media",children:l.jsx(En,{className:"w-4 h-4"})})]})},E)},_=(()=>e?Array.isArray(e)?e:[e]:[])();return l.jsxs("div",{className:"space-y-3",children:[_.length>0&&l.jsx("div",{className:"space-y-2",children:_.map((E,A)=>F(E,A))})," ",l.jsxs("button",{type:"button",onClick:S,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[" ",l.jsx("div",{className:"mr-2",children:r==="video"?l.jsx(qi,{className:"w-4 h-4"}):r==="audio"?l.jsx(As,{className:"w-4 h-4"}):l.jsx(Wi,{className:"w-4 h-4"})}),e?n?`Add More ${r==="video"?"Videos":r==="audio"?"Audio Files":"Media"}`:`Change ${r==="video"?"Video":r==="audio"?"Audio":"Media"}`:n?`Select ${r==="video"?"Video Files":r==="audio"?"Audio Files":"Media Files"}`:`Select ${r==="video"?"Video File":r==="audio"?"Audio File":"Media File"}`]})," ",n&&Array.isArray(e)&&e.length>0&&l.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," file",e.length!==1?"s":""," selected"]})," ",p&&c&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:l.jsxs("div",{className:"relative max-w-4xl max-h-full p-4",children:[l.jsx("button",{onClick:x,className:"absolute -top-2 -right-2 z-10 w-8 h-8 bg-white rounded-full flex items-center justify-center text-gray-700 hover:text-gray-900",title:"Close preview",children:l.jsx(En,{className:"w-4 h-4"})}),c.match(/\.(mp4|webm|ogg|avi|mov|wmv|flv|mkv|m4v|3gp|ogv)$/i)?l.jsx("video",{src:c,controls:!0,autoPlay:!0,className:"max-w-full max-h-full rounded-lg"}):l.jsx("audio",{src:c,controls:!0,autoPlay:!0,className:"w-full max-w-md rounded-lg bg-white p-4"})]})})]})},Xp=(e,t)=>f.useCallback(r=>{const s=[],o=(r==null?void 0:r.value)??"";if(t!=null&&t.required&&(!o||o===""||Array.isArray(o)&&o.length===0)&&s.push(`${e.title} is required`),t){if(t.minLength&&typeof o=="string"&&o.length<t.minLength&&s.push(`${e.title} must be at least ${t.minLength} characters`),t.maxLength&&typeof o=="string"&&o.length>t.maxLength&&s.push(`${e.title} must not exceed ${t.maxLength} characters`),t.min!==void 0&&typeof o=="number"&&o<t.min&&s.push(`${e.title} must be at least ${t.min}`),t.max!==void 0&&typeof o=="number"&&o>t.max&&s.push(`${e.title} must not exceed ${t.max}`),t.pattern){let i=t.pattern;if(typeof i=="string"){const a=i.slice(1,-1);i=new RegExp(a)}o!==""&&!i.test(o)&&s.push(`${e.title} format is invalid`)}if(t.custom){const i=t.custom(o);i&&s.push(i)}}return s.length>0?s[0]:void 0},[e,t]),rt=({field:e,onChange:t,asyncOptions:n,formApi:r,validationRules:s})=>{const{get:o}=At(),i=Xp(e,s),{data:a,isLoading:c}=Le({queryKey:["products"],queryFn:()=>o("/products?per_page=50"),enabled:n&&e.type==="product_select"&&!e.value}),u=(a==null?void 0:a.products)||[],p=()=>l.jsx(r.Field,{name:e.id,validators:{onChange:i,onMount:i},children:h=>d(h.state.value,h.handleChange,h.handleBlur,h.state.meta.errors,h.state.meta.isTouched)}),d=(h,g,v,m,w)=>{const y=w&&m&&m.length>0;switch(e.type){case"text":return l.jsxs("div",{children:[l.jsx("input",{type:"text",value:h||"",onChange:x=>g(x.target.value),onBlur:v,placeholder:e.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),y&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:m.join(", ")})]});case"number":return l.jsxs("div",{children:[l.jsx("input",{type:"number",value:h||0,onChange:x=>g(x.target.value),onBlur:v,placeholder:e.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),y&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:m.join(", ")})]});case"textarea":return l.jsxs("div",{children:[l.jsx("textarea",{value:h||"",onChange:x=>g(x.target.value),onBlur:v,rows:e.rows||4,placeholder:e.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),y&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:m.join(", ")})]});case"select":return l.jsxs("div",{children:[l.jsxs(ni,{value:h||"",onValueChange:x=>{g(x),t&&t(x)},children:[l.jsx(fs,{className:"w-full",children:l.jsx(ri,{placeholder:e.placeholder||"Choose a status..."})}),l.jsx(hs,{children:e.options&&Object.entries(e.options).map(([x,b])=>l.jsx(gs,{value:x,children:b.label},x))})]}),y&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:m.join(", ")})]});case"range":return l.jsxs("div",{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"range",min:e.min||0,max:e.max||100,step:e.step||1,value:h||e.min||0,onChange:x=>g(parseInt(x.target.value)),onBlur:v,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-500",children:e.min||0}),l.jsxs("div",{className:"flex items-center space-x-1",children:[e.id==="rating"&&l.jsxs(l.Fragment,{children:[[1,2,3,4,5].map(x=>l.jsx(yh,{className:`w-4 h-4 ${x<=(h||0)?"text-yellow-400 fill-current":"text-gray-300"}`},x)),l.jsx("span",{className:"ml-2 text-sm font-medium",children:h||e.min||0})]}),e.id!=="rating"&&l.jsx("span",{className:"text-sm font-medium",children:h||e.min||0})]}),l.jsx("span",{className:"text-sm text-gray-500",children:e.max||100})]})]}),y&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:m.join(", ")})]});case"datetime":return l.jsx("input",{type:"datetime-local",value:h?new Date(h).toISOString().slice(0,16):"",onChange:x=>g(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"});case"checkbox":if(e.options){const x=Array.isArray(h)?h:[];return l.jsxs("div",{children:[l.jsx("div",{className:"space-y-2",children:Object.entries(e.options).map(([b,S])=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:x.includes(b),onChange:M=>{const F=M.target.checked?[...x,b]:x.filter(j=>j!==b);g(F)},onBlur:v,className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2",children:S.label})]},b))}),y&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:m.join(", ")})]})}else return l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:!!h,onChange:x=>g(x.target.checked),onBlur:v,className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2",children:e.title})]}),y&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:m.join(", ")})]});case"radio":return l.jsx("div",{className:"space-y-2",children:e.options&&Object.entries(e.options).map(([x,b])=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:e.id,value:x,checked:h===x,onChange:S=>g(S.target.value),className:"border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),l.jsx("span",{className:"ml-2",children:b.label})]},x))});case"switcher":return l.jsx("button",{type:"button",onClick:()=>g(!h),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${h?"bg-primary-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${h?"translate-x-6":"translate-x-1"}`})});case"media":return l.jsxs("div",{children:[l.jsx(Kp,{value:h,onChange:g,multiple:e.multiple,mediaType:e.media_type}),y&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:m.join(", ")})]});case"tags":return l.jsxs("div",{children:[l.jsx(qp,{value:h,onChange:g,placeholder:e.placeholder||"Enter tags..."}),y&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:m.join(", ")})]});case"product_select":return l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Oc,{value:h||"",onValueChange:x=>g(x),children:[l.jsxs(Jo,{className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[l.jsx(Lc,{placeholder:e.placeholder||"Select"}),l.jsx(Vc,{children:l.jsx(ko,{})})]}),l.jsx(Tc,{children:l.jsx(ei,{className:"bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto z-50",children:l.jsx($c,{children:c?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading products..."}):u.map(x=>l.jsxs(ti,{value:x.id.toString(),className:"flex items-center space-x-3 px-3 py-2 hover:bg-gray-50 cursor-pointer data-[highlighted]:bg-blue-50 data-[highlighted]:outline-none",children:[l.jsxs(Bc,{className:"flex items-center space-x-3",children:[x.image&&l.jsx("img",{src:x.image[0],alt:x.name,className:"w-8 h-8 object-cover rounded"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:x.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["$",x.price]})]})]}),l.jsx(Hc,{children:l.jsx($o,{})})]},x.id))})})})]}),y&&l.jsx("div",{className:"mt-1 text-sm text-red-600",children:m.join(", ")})]});default:return l.jsxs("div",{className:"text-gray-500 italic",children:["Unsupported field type: ",e.type]})}};return l.jsxs("div",{className:"dynamic-field",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.title,e.required&&l.jsx("span",{className:"required ml-1",children:"*"})]}),p(),e.description&&l.jsx("p",{className:"description",children:e.description})]})},Yp=({fieldType:e,onSave:t,onCancel:n,error:r,isLoading:s=!1})=>{const o=os({defaultValues:{id:(e==null?void 0:e.id)||"new",type:(e==null?void 0:e.type)||"",description:(e==null?void 0:e.description)||"",icon:(e==null?void 0:e.icon)||"",supports:(e==null?void 0:e.supports)||[],is_active:(e==null?void 0:e.is_active)??!0},onSubmit:async({value:a})=>{if(!a.type.trim()){o.setFieldMeta("type",u=>({...u,errors:["Type is required"]}));return}const c={...a,id:a.id||"new",supports:Array.isArray(a.supports)?a.supports:[]};t(c)}}),i=f.useMemo(()=>[{id:"type",type:"text",title:"Field Type",description:"Unique",required:!0,placeholder:"e.g., text, number, select",value:o.getFieldValue("type")||""},{id:"description",type:"textarea",title:"Description",description:"Brief description of what this field type does",placeholder:"Describe the purpose and functionality of this field type",rows:3,value:o.getFieldValue("description")||""},{id:"icon",type:"text",title:"Icon",description:"Icon class or emoji to represent this field type",placeholder:"📝 or icon-class-name",value:o.getFieldValue("icon")||""},{id:"supports",type:"tags",title:"Supported Features",description:"Features this field type supports (e.g., label, description, placeholder, validation). Press Enter or comma to add tags.",placeholder:"label, description, placeholder, required, validation",value:o.getFieldValue("supports")||[]},{id:"is_active",type:"checkbox",title:"Active",description:"Whether this field type is active and available for use",value:o.getFieldValue("is_active")??!0}],[o]);return l.jsxs("div",{className:"field-type-form",children:[r&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:l.jsx("div",{className:"text-sm text-red-600",children:r})}),l.jsxs("form",{onSubmit:a=>{a.preventDefault(),a.stopPropagation(),o.handleSubmit()},className:"space-y-6",children:[i.map(a=>l.jsx(rt,{field:a,formApi:o,validationRules:{required:a.required,...a.validation}},a.id)),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[l.jsxs(J,{type:"button",variant:"secondary",onClick:n,className:"flex items-center space-x-2",disabled:s,children:[l.jsx(Ga,{size:16}),l.jsx("span",{children:"Cancel"})]}),l.jsx(o.Subscribe,{selector:a=>[a.canSubmit,a.isSubmitting],children:([a,c])=>l.jsx(J,{type:"submit",variant:"primary",disabled:!a||c||s,className:"flex items-center space-x-2",children:c||s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Saving..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Wa,{size:16}),l.jsx("span",{children:"Save Field Type"})]})})})]})]})]})};function Yc(e){return typeof e!="string"||e===""?(console.error("The namespace must be a non-empty string."),!1):/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)?!0:(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}function si(e){return typeof e!="string"||e===""?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)?!0:(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}function aa(e,t){return function(r,s,o,i=10){const a=e[t];if(!si(r)||!Yc(s))return;if(typeof o!="function"){console.error("The hook callback must be a function.");return}if(typeof i!="number"){console.error("If specified, the hook priority must be a number.");return}const c={callback:o,priority:i,namespace:s};if(a[r]){const u=a[r].handlers;let p;for(p=u.length;p>0&&!(i>=u[p-1].priority);p--);p===u.length?u[p]=c:u.splice(p,0,c),a.__current.forEach(d=>{d.name===r&&d.currentIndex>=p&&d.currentIndex++})}else a[r]={handlers:[c],runs:0};r!=="hookAdded"&&e.doAction("hookAdded",r,s,o,i)}}function yr(e,t,n=!1){return function(s,o){const i=e[t];if(!si(s)||!n&&!Yc(o))return;if(!i[s])return 0;let a=0;if(n)a=i[s].handlers.length,i[s]={runs:i[s].runs,handlers:[]};else{const c=i[s].handlers;for(let u=c.length-1;u>=0;u--)c[u].namespace===o&&(c.splice(u,1),a++,i.__current.forEach(p=>{p.name===s&&p.currentIndex>=u&&p.currentIndex--}))}return s!=="hookRemoved"&&e.doAction("hookRemoved",s,o),a}}function la(e,t){return function(r,s){const o=e[t];return typeof s<"u"?r in o&&o[r].handlers.some(i=>i.namespace===s):r in o}}function wr(e,t,n,r){return function(o,...i){const a=e[t];a[o]||(a[o]={handlers:[],runs:0}),a[o].runs++;const c=a[o].handlers;if(!c||!c.length)return n?i[0]:void 0;const u={name:o,currentIndex:0};async function p(){try{a.__current.add(u);let h=n?i[0]:void 0;for(;u.currentIndex<c.length;)h=await c[u.currentIndex].callback.apply(null,i),n&&(i[0]=h),u.currentIndex++;return n?h:void 0}finally{a.__current.delete(u)}}function d(){try{a.__current.add(u);let h=n?i[0]:void 0;for(;u.currentIndex<c.length;)h=c[u.currentIndex].callback.apply(null,i),n&&(i[0]=h),u.currentIndex++;return n?h:void 0}finally{a.__current.delete(u)}}return(r?p:d)()}}function ca(e,t){return function(){var i;var r;const s=e[t];return(r=(i=Array.from(s.__current).at(-1))==null?void 0:i.name)!==null&&r!==void 0?r:null}}function ua(e,t){return function(r){const s=e[t];return typeof r>"u"?s.__current.size>0:Array.from(s.__current).some(o=>o.name===r)}}function da(e,t){return function(r){const s=e[t];if(si(r))return s[r]&&s[r].runs?s[r].runs:0}}class Zp{constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=aa(this,"actions"),this.addFilter=aa(this,"filters"),this.removeAction=yr(this,"actions"),this.removeFilter=yr(this,"filters"),this.hasAction=la(this,"actions"),this.hasFilter=la(this,"filters"),this.removeAllActions=yr(this,"actions",!0),this.removeAllFilters=yr(this,"filters",!0),this.doAction=wr(this,"actions",!1,!1),this.doActionAsync=wr(this,"actions",!1,!0),this.applyFilters=wr(this,"filters",!0,!1),this.applyFiltersAsync=wr(this,"filters",!0,!0),this.currentAction=ca(this,"actions"),this.currentFilter=ca(this,"filters"),this.doingAction=ua(this,"actions"),this.doingFilter=ua(this,"filters"),this.didAction=da(this,"actions"),this.didFilter=da(this,"filters")}}function Zc(){return new Zp}Zc();window.spiderBoxesHooks||(window.spiderBoxesHooks=Zc());const{filters:Q0,addFilter:J0,applyFilters:Qc,removeFilter:ex,removeAllFilters:tx,hasFilter:nx,actions:rx,addAction:sx,doAction:rn,removeAction:ox,removeAllActions:ix,hasAction:ax}=window.spiderBoxesHooks,Qp=e=>{if(e)return{id:e.id,type:e.type,description:e.description,icon:e.icon,supports:e.supports,is_active:e.is_active}},Jp=e=>({id:e.id,type:e.type,description:e.description||"",icon:e.icon,supports:e.supports||[],is_active:e.is_active??!0}),em=()=>{const[e,t]=f.useState(!1),[n,r]=f.useState(null),[s,o]=f.useState(!1),[i,a]=f.useState(null),[c,u]=f.useState({config:{id:"preview_field",type:"text",label:"Preview Field"}}),[p,d]=f.useState(""),h=_t(),g=At(),{data:v=[],isLoading:m}=Le({queryKey:["field-types"],queryFn:()=>g.get("/field-types")}),w=f.useMemo(()=>{if(!p)return v;const N=p.toLowerCase();return v.filter(L=>L.type.toLowerCase().includes(N)||L.description.toLowerCase().includes(N))},[v,p]),y=be({mutationFn:N=>g.post("/field-types",N),onSuccess:()=>{h.invalidateQueries({queryKey:["field-types"]}),t(!1),r(null),rn("spiderBoxes.fieldTypeCreated")},onError:N=>{console.error("Error creating field type:",N)}}),x=be({mutationFn:({id:N,...L})=>g.put(`/field-types/${N}`,L),onSuccess:()=>{h.invalidateQueries({queryKey:["field-types"]}),t(!1),r(null),rn("spiderBoxes.fieldTypeUpdated")},onError:N=>{console.error("Error updating field type:",N)}}),b=be({mutationFn:N=>g.del(`/field-types/${N}`),onSuccess:()=>{h.invalidateQueries({queryKey:["field-types"]}),rn("spiderBoxes.fieldTypeDeleted")}}),S=()=>{r(null),t(!0),y.reset(),x.reset()},M=N=>{r(N),t(!0),y.reset(),x.reset()},F=()=>{t(!1),r(null),y.reset(),x.reset()},j=N=>{confirm("Are you sure you want to delete this field type?")&&b.mutate(N)},_=N=>{console.log("Form submitted with data:",N);const L=Jp(N);console.log("Converted field type data:",L);const T=["type"].filter(B=>!L[B]);if(T.length>0){console.error(`Missing required fields: ${T.join(", ")}`);return}const k=Qc("spiderBoxes.fieldTypeToSave",L,n);n&&n.id!=="new"?(console.log("Updating existing field type:",n.id),x.mutate({...k,id:n.id})):(console.log("Creating new field type"),y.mutate(k))},E=N=>{a(N),u({config:{id:"preview_field",type:N.type,label:`Preview ${N.type}`,description:N.description,placeholder:`Enter ${N.type.toLowerCase()}...`,required:!1,...N.supports},value:A(N.type)}),o(!0)},A=N=>{switch(N){case"checkbox":return!1;case"radio":case"select":return"";case"range":return 50;case"switcher":return!1;case"number":return 0;case"date":case"datetime":return"";case"textarea":case"wysiwyg":return"";case"media":return null;default:return""}},D=N=>{var L,V,T;return N?typeof N=="string"?N:N.message?N.message:(V=(L=N.response)==null?void 0:L.data)!=null&&V.message?N.response.data.message:(T=N.response)!=null&&T.statusText?N.response.statusText:"An unexpected error occurred":""};return m?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"spider-boxes-loading"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Field Types"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage available field types that can be used in forms and components."})]}),l.jsxs(J,{onClick:S,className:"spider-boxes-button",children:[l.jsx(Or,{className:"w-4 h-4 mr-2"}),"Add Field Type"]})]}),l.jsx("div",{className:"field-types-filters",children:l.jsx("div",{className:"search-wrapper",children:l.jsx("input",{type:"text",placeholder:"Search field types...",value:p,onChange:N=>d(N.target.value),className:"search-input"})})}),v.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"No field types created yet."}),l.jsxs(J,{onClick:S,className:"spider-boxes-button",children:[l.jsx(Or,{className:"w-4 h-4 mr-2"}),"Create your first field type"]})]}):l.jsxs("div",{className:"spider-boxes-table",children:[l.jsxs("div",{className:"spider-boxes-table-header",children:[l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Type"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Class Name (PHP)"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Description"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Supports"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Status"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Created"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Actions"})]}),l.jsx("div",{className:"divide-y divide-gray-200",children:w.map(N=>l.jsxs(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"spider-boxes-table-row",children:[l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("div",{children:l.jsx("div",{className:"font-medium text-gray-900",children:N.type})})})}),l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("div",{children:l.jsx("div",{className:"font-medium text-gray-900",children:N.class_name})})})}),l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:N.description})}),l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.supports.slice(0,3).map(L=>l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:L},L)),N.supports.length>3&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["+",N.supports.length-3," more"]})]})}),l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.is_active?"Active":"Inactive"})}),l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsx("div",{className:"flex items-center space-x-3",children:l.jsx("div",{children:l.jsx("div",{className:"font-medium text-gray-900",children:N.created_at})})})}),l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[" ",l.jsx("button",{onClick:()=>E(N),className:"text-blue-600 hover:text-blue-900",title:"Preview field type",children:l.jsx(wd,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>M(N),className:"text-primary-600 hover:text-primary-900",title:"Edit field type",children:l.jsx(za,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>j(N.id),className:"text-red-600 hover:text-red-900",title:"Delete field type",children:l.jsx(Ua,{className:"w-4 h-4"})})]})})]},N.id))})]}),w.length===0&&p&&l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state-icon",children:"🔍"}),l.jsx("h3",{className:"empty-state-title",children:"No field types found"}),l.jsx("p",{className:"empty-state-description",children:"Try adjusting your search criteria."})]}),l.jsx(Et,{open:e,onOpenChange:t,children:l.jsxs(Ct,{size:"lg",children:[l.jsx(Rt,{children:l.jsx(Mt,{children:n?"Edit Field Type":"Create New Field Type"})}),l.jsx(Yp,{fieldType:Qp(n),onSave:_,onCancel:F,error:D(y.error)||D(x.error),isLoading:y.isPending||x.isPending})]})}),l.jsx(Et,{open:s,onOpenChange:o,children:l.jsxs(Ct,{size:"lg",children:[l.jsx(Rt,{children:l.jsxs(Mt,{children:["Field Preview: ",(i==null?void 0:i.label)||(i==null?void 0:i.name)]})}),l.jsxs("div",{className:"field-preview",children:[i&&l.jsxs("div",{className:"preview-info",children:[l.jsx("div",{className:"preview-meta",children:l.jsxs("div",{className:"preview-type",children:[l.jsx("span",{className:"meta-label",children:"Type:"}),l.jsx("code",{children:i.name})]})}),l.jsx("div",{className:"preview-description",children:i.description})]}),l.jsxs("div",{className:"preview-field",children:[l.jsx("h4",{className:"preview-title",children:"Live Preview"}),l.jsx("div",{className:"preview-container",children:l.jsx(le,{config:c.config,value:c.value,onChange:N=>u(L=>({...L,value:N}))})})]}),c.value!==void 0&&c.value!==""&&l.jsxs("div",{className:"preview-output",children:[l.jsx("h4",{className:"output-title",children:"Current Value"}),l.jsx("pre",{className:"output-value",children:JSON.stringify(c.value,null,2)})]}),l.jsx("div",{className:"preview-actions",children:l.jsx(J,{variant:"outline",onClick:()=>o(!1),children:"Close"})})]})]})})]})},tm=e=>{if(e)return{id:e.id,name:e.name,type:e.type,label:e.title,description:e.description,default_value:e.value,settings:{meta_field:e.settings.meta_field,placeholder:e.settings.placeholder,validation:e.settings.validation,condition:e.settings.condition,...e.settings},context:e.context}},nm=(e,t)=>{const{id:n,name:r,type:s,label:o,description:i,required:a,default_value:c,context:u,options:p,settings:d,...h}=e,g={id:n||"new",name:r||"",type:s,title:o,description:i||"",value:c,settings:{},context:u||"default"};return d&&(g.settings={...d}),a!==void 0&&(g.settings.required=a),p&&(g.settings.options=p),t&&t.forEach(v=>{const m=e[v.id],w=["id","name","type","title","description","value","context"];m!=null&&m!==""&&!w.includes(v.id)&&(g.settings[v.id]=m)}),Object.keys(h).forEach(v=>{const m=h[v],w=["id","name","type","title","description","value","context"];m!=null&&m!==""&&!w.includes(v)&&(g.settings[v]=m)}),g},rm=({field:e,onSave:t,onCancel:n,error:r,isLoading:s=!1})=>{var w,y;const{get:o}=At(),{data:i=[],isLoading:a}=Le({queryKey:["field-types"],queryFn:()=>o("/field-types")});console.log("FIeld",e);const c=os({defaultValues:{id:(e==null?void 0:e.id)||"new",name:(e==null?void 0:e.name)||"",type:(e==null?void 0:e.type)||"",label:(e==null?void 0:e.label)||"",description:(e==null?void 0:e.description)||"",required:(e==null?void 0:e.required)||((w=e==null?void 0:e.settings)==null?void 0:w.required)||!1,default_value:(e==null?void 0:e.default_value)||"",options:(e==null?void 0:e.options)||((y=e==null?void 0:e.settings)==null?void 0:y.options)||"",context:(e==null?void 0:e.context)||"default",...(e==null?void 0:e.settings)||{}},onSubmit:async({value:x})=>{if(!x.label.trim()){c.setFieldMeta("label",S=>({...S,errors:["Label is required"]}));return}if(!x.type){c.setFieldMeta("type",S=>({...S,errors:["Field type is required"]}));return}const b=nm(x,g);t(b)}}),[u,p]=te.useState((e==null?void 0:e.type)||""),{data:d}=Le({queryKey:["field-type-config",u],queryFn:()=>o(`/field-types/${u}/config`),enabled:!!u}),h=f.useMemo(()=>u&&i.find(x=>x.type===u)||null,[i,u]),g=f.useMemo(()=>d!=null&&d.config_fields?d.config_fields.map(x=>{let b=c.getFieldValue(x.id);return(b==null||b==="")&&(e!=null&&e.settings)&&(b=e.settings[x.id]),(b==null||b==="")&&(b=x.default||""),{id:x.id,name:x.name||x.id,type:x.type,title:x.title,description:x.description,required:x.required||!1,placeholder:x.placeholder,rows:x.rows,min:x.min,max:x.max,step:x.step,options:x.options,value:b,validation:x.validation,context:x.context||"default"}}):[],[d,c]);console.log(g,"Dynamic Fields Configured");const v={id:"type",type:"select",title:"Field Type",placeholder:"Select a field type",description:"Select the type of field to create",value:u,required:!0,options:i.reduce((x,b)=>(x[b.type]={label:b.name,value:b.type},x),{})},m={id:"name",type:"text",title:"Field Name",description:"The name of the field, used for saving data.",value:(e==null?void 0:e.name)||"",required:!0,validation:{pattern:/^[a-z0-9_]+$/}};return l.jsxs("div",{className:"space-y-4",children:[r&&l.jsxs("div",{className:"p-3 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md",children:[l.jsx("strong",{children:"Error:"})," ",r]}),l.jsxs("form",{onSubmit:x=>{x.preventDefault(),x.stopPropagation(),c.handleSubmit()},className:"space-y-4",children:[l.jsx(rt,{field:m,formApi:c,validationRules:{required:m.required,...m.validation}},m.id),a?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading field types..."}):l.jsx("div",{className:"space-y-2",children:l.jsx(rt,{field:v,formApi:c,validationRules:{required:v.required,...v.validation},onChange:x=>{c.setFieldValue("type",x),p(x),c.setFieldValue("options","")}},v.id)}),h&&d&&l.jsxs("div",{className:"space-y-4 border-t pt-4",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:[h.name," Configuration"]}),g.map(x=>l.jsx(rt,{field:x,formApi:c,validationRules:{required:x.required,...x.validation}},x.id))]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[l.jsxs(J,{type:"button",variant:"secondary",onClick:n,className:"flex items-center space-x-2",disabled:s,children:[l.jsx(Ga,{size:16}),l.jsx("span",{children:"Cancel"})]}),l.jsx(c.Subscribe,{selector:x=>[x.canSubmit,x.isSubmitting],children:([x,b])=>l.jsx(J,{type:"submit",variant:"primary",disabled:!x||b||s||!h,className:"flex items-center space-x-2",children:b||s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Saving..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Wa,{size:16}),l.jsx("span",{children:"Save Field"})]})})})]})]})]})};function sm(){const[e,t]=f.useState(!1),[n,r]=f.useState(null),s=_t(),o=At(),{data:i=[],isLoading:a}=Le({queryKey:["fields"],queryFn:()=>o.get("/fields")}),c=be({mutationFn:y=>o.post("/fields",y),onSuccess:()=>{s.invalidateQueries({queryKey:["fields"]}),t(!1),r(null),rn("spiderBoxes.fieldCreated")},onError:y=>{console.error("Error creating field:",y)}}),u=be({mutationFn:({id:y,...x})=>o.put(`/fields/${y}`,x),onSuccess:()=>{s.invalidateQueries({queryKey:["fields"]}),t(!1),r(null),rn("spiderBoxes.fieldUpdated")},onError:y=>{console.error("Error updating field:",y)}}),p=be({mutationFn:y=>o.del(`/fields/${y}`),onSuccess:()=>{s.invalidateQueries({queryKey:["fields"]}),rn("spiderBoxes.fieldDeleted")}}),d=()=>{r(null),t(!0),c.reset(),u.reset(),console.log("Opening dialog for new field")},h=y=>{r(y),t(!0),c.reset(),u.reset()},g=()=>{t(!1),r(null),c.reset(),u.reset()},v=y=>{confirm("Are you sure you want to delete this field?")&&p.mutate(y)},m=y=>{console.log("Form submitted with data:",y);const b=["type","name"].filter(M=>!y[M]);if(b.length>0){console.error(`Missing required fields: ${b.join(", ")}`);return}const S=Qc("spiderBoxes.fieldToSave",y,n);n&&n.id!=="new"?(console.log("Updating existing field:",n.id),u.mutate({...S,id:n.id})):(console.log("Creating new field"),c.mutate(S))},w=y=>{var x,b,S;return y?typeof y=="string"?y:y.message?y.message:(b=(x=y.response)==null?void 0:x.data)!=null&&b.message?y.response.data.message:(S=y.response)!=null&&S.statusText?y.response.statusText:"An unexpected error occurred":""};return a?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"spider-boxes-loading"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Fields"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage individual fields that can be used in components."})]}),l.jsxs(J,{onClick:d,className:"spider-boxes-button",children:[l.jsx(Or,{className:"w-4 h-4 mr-2"}),"Add Field"]})]}),i.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"No fields created yet."}),l.jsxs(J,{onClick:d,className:"spider-boxes-button",children:[l.jsx(Or,{className:"w-4 h-4 mr-2"}),"Create your first field"]})]}):l.jsxs("div",{className:"spider-boxes-table",children:[l.jsxs("div",{className:"spider-boxes-table-header",children:[l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Field ID"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Name"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Title"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Type"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Context"}),l.jsx("div",{className:"spider-boxes-table-header-cell",children:"Actions"})]}),l.jsx("div",{className:"divide-y divide-gray-200",children:i.map(y=>l.jsxs(St.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"spider-boxes-table-row",children:[l.jsx("div",{className:"spider-boxes-table-cell font-mono text-xs bg-gray-50",children:y.id}),l.jsx("div",{className:"spider-boxes-table-cell font-mono text-xs bg-gray-50",children:y.name}),l.jsx("div",{className:"spider-boxes-table-cell font-medium",children:y.title||y.id}),l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsx("span",{className:"spider-boxes-badge spider-boxes-badge-success",children:y.type})}),l.jsx("div",{className:"spider-boxes-table-cell text-gray-500",children:y.context}),l.jsx("div",{className:"spider-boxes-table-cell",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>h(y),className:"text-primary-600 hover:text-primary-900",title:"Edit field",children:l.jsx(za,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>v(y.id),className:"text-red-600 hover:text-red-900",title:"Delete field",children:l.jsx(Ua,{className:"w-4 h-4"})})]})})]},y.id))})]}),l.jsx(Et,{open:e,onOpenChange:t,children:l.jsxs(Ct,{size:"lg",children:[l.jsx(Rt,{children:l.jsx(Mt,{children:n?"Edit Field":"Create New Field"})}),l.jsx(rm,{field:tm(n),onSave:m,onCancel:g,error:w(c.error)||w(u.error),isLoading:c.isPending||u.isPending})]})})]})}const om=()=>{var N,L,V,T,k,B,I;const e=_t(),{get:t,post:n,patch:r,del:s}=At(),[o,i]=f.useState(null),[a,c]=f.useState(!1),[u,p]=f.useState(!1),[d,h]=f.useState({}),{data:g=[],isLoading:v}=Le({queryKey:["components"],queryFn:()=>t("/components")}),{data:m={},isLoading:w}=Le({queryKey:["component-types"],queryFn:()=>t("/component-types")}),y=Object.entries(m.component_types||{}).map(([R,H])=>{var Y;return{id:R,name:H.name||((Y=H.class_name)==null?void 0:Y.split("\\").pop())||R,class_name:H.class_name||"",category:H.category||"general",icon:H.icon||"🔧",description:H.description||"",supports:H.supports||[],children:H.children||[],parent:H.parent||""}});console.log(y);const x=be({mutationFn:R=>n("/components",R),onSuccess:()=>{e.invalidateQueries({queryKey:["components"]}),c(!1),h({})}}),b=be({mutationFn:({id:R,data:H})=>r(`/components/${R}`,H),onSuccess:()=>{e.invalidateQueries({queryKey:["components"]}),c(!1),i(null)}}),S=be({mutationFn:R=>s(`/components/${R}`),onSuccess:()=>{e.invalidateQueries({queryKey:["components"]})}}),M=()=>{p(!0),h({type:"accordion",title:"",description:"",context:"default",settings:{},children:{},is_active:!0}),c(!0)},F=R=>{p(!1),i(R),h(R),c(!0)},j=()=>{u?x.mutate(d):o&&b.mutate({id:o.id,data:d})},_=R=>{confirm("Are you sure you want to delete this component?")&&S.mutate(R)},E=(R,H)=>{h(Y=>({...Y,[R]:H}))},A=(R,H)=>{h(Y=>({...Y,settings:{...Y.settings,[R]:H}}))},D=R=>({accordion:"📋",tab:"📑",row:"▦",column:"▨"})[R]||"🔧";return v||w?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"components-manager",children:[l.jsxs("div",{className:"components-header",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Components"}),l.jsx(J,{onClick:M,children:"Create Component"})]}),l.jsx("div",{className:"components-grid",children:l.jsx(Qr,{children:g.map(R=>l.jsxs(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"component-card",children:[" ",l.jsxs("div",{className:"component-card-header",children:[l.jsx("div",{className:"component-icon",children:D(R.type)}),l.jsxs("div",{className:"component-info",children:[l.jsx("h4",{className:"component-title",children:R.title}),l.jsx("p",{className:"component-type",children:R.type}),R.description&&l.jsx("p",{className:"component-description",children:R.description})]})]})," ",l.jsxs("div",{className:"component-meta",children:[l.jsxs("span",{className:"component-context",children:["Context: ",R.context||"default"]}),l.jsxs("span",{className:"component-children-count",children:[Object.keys(R.children||{}).length," children"]})]}),l.jsxs("div",{className:"component-actions",children:[l.jsx(J,{variant:"outline",size:"sm",onClick:()=>F(R),children:"Edit"}),l.jsx(J,{variant:"outline",size:"sm",onClick:()=>_(R.id),children:"Delete"})]})]},R.id))})}),g.length===0&&l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state-icon",children:"🔧"}),l.jsx("h3",{className:"empty-state-title",children:"No components yet"}),l.jsx("p",{className:"empty-state-description",children:"Create your first component to get started."}),l.jsx(J,{onClick:M,children:"Create Component"})]}),l.jsx(Et,{open:a,onOpenChange:c,children:l.jsxs(Ct,{size:"lg",children:[l.jsx(Rt,{children:l.jsx(Mt,{children:u?"Create Component":"Edit Component"})}),l.jsxs("div",{className:"component-form",children:[l.jsxs("div",{className:"form-grid",children:[l.jsx(le,{config:{id:"title",type:"text",label:"Component Title",required:!0,placeholder:"Enter component title"},value:d.title||"",onChange:R=>E("title",R)}),l.jsx(le,{config:{id:"type",type:"select",label:"Component Type",required:!0,options:y.map(R=>({label:R.name,value:R.id}))},value:d.type||"",onChange:R=>E("type",R)}),l.jsx(le,{config:{id:"description",type:"textarea",label:"Description",placeholder:"Enter component description",rows:3},value:d.description||"",onChange:R=>E("description",R)})]}),d.type&&l.jsxs("div",{className:"component-config",children:[l.jsx("h4",{className:"config-title",children:"Component Configuration"})," ",d.type==="accordion"&&l.jsxs("div",{className:"config-grid",children:[l.jsx(le,{config:{id:"collapsed",type:"switcher",label:"Start Collapsed"},value:((N=d.settings)==null?void 0:N.collapsed)||!1,onChange:R=>A("collapsed",R)}),l.jsx(le,{config:{id:"multiple",type:"switcher",label:"Allow Multiple Open"},value:((L=d.settings)==null?void 0:L.multiple)||!1,onChange:R=>A("multiple",R)})]}),d.type==="tab"&&l.jsxs("div",{className:"config-grid",children:[l.jsx(le,{config:{id:"orientation",type:"select",label:"Tab Orientation",options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"}]},value:((V=d.settings)==null?void 0:V.orientation)||"horizontal",onChange:R=>A("orientation",R)}),l.jsx(le,{config:{id:"icon",type:"text",label:"Tab Icon",placeholder:"Icon class or emoji"},value:((T=d.settings)==null?void 0:T.icon)||"",onChange:R=>A("icon",R)})]}),d.type==="row"&&l.jsxs("div",{className:"config-grid",children:[l.jsx(le,{config:{id:"gap",type:"select",label:"Column Gap",options:[{label:"Small",value:"sm"},{label:"Medium",value:"md"},{label:"Large",value:"lg"}]},value:((k=d.settings)==null?void 0:k.gap)||"md",onChange:R=>A("gap",R)}),l.jsx(le,{config:{id:"align",type:"select",label:"Vertical Alignment",options:[{label:"Top",value:"start"},{label:"Center",value:"center"},{label:"Bottom",value:"end"}]},value:((B=d.settings)==null?void 0:B.align)||"start",onChange:R=>A("align",R)})]})," ",d.type==="column"&&l.jsx("div",{className:"config-grid",children:l.jsx(le,{config:{id:"width",type:"select",label:"Column Width",options:[{label:"Auto",value:"auto"},{label:"1/12",value:"1/12"},{label:"2/12",value:"2/12"},{label:"3/12",value:"3/12"},{label:"4/12",value:"4/12"},{label:"6/12",value:"6/12"},{label:"8/12",value:"8/12"},{label:"12/12",value:"12/12"}]},value:((I=d.settings)==null?void 0:I.width)||"auto",onChange:R=>A("width",R)})})]})," ",l.jsxs("div",{className:"form-actions",children:[l.jsx(J,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})," ",l.jsx(J,{onClick:j,disabled:x.isPending||b.isPending,children:u?"Create Component":"Save Changes"})]})]})]})})]})},im=()=>{var N,L,V,T,k,B,I;const e=_t(),{get:t,post:n,patch:r,del:s}=At(),[o,i]=f.useState(null),[a,c]=f.useState(!1),[u,p]=f.useState(!1),[d,h]=f.useState({}),{data:g=[],isLoading:v}=Le({queryKey:["sections"],queryFn:()=>t("/sections")}),{data:m={},isLoading:w}=Le({queryKey:["section-types"],queryFn:()=>t("/section-types")}),y=Object.entries(m.section_types||{}).map(([R,H])=>{var Y;return{id:R,name:H.name||((Y=H.class_name)==null?void 0:Y.split("\\").pop())||R,class_name:H.class_name||"",description:H.description||"",supports:H.supports||[]}}),x=be({mutationFn:R=>n("/sections",R),onSuccess:()=>{e.invalidateQueries({queryKey:["sections"]}),c(!1),h({})}}),b=be({mutationFn:({id:R,data:H})=>r(`/sections/${R}`,H),onSuccess:()=>{e.invalidateQueries({queryKey:["sections"]}),c(!1),i(null)}}),S=be({mutationFn:R=>s(`/sections/${R}`),onSuccess:()=>{e.invalidateQueries({queryKey:["sections"]})}}),M=()=>{p(!0),h({type:"section",title:"",description:"",context:"default",screen:"",settings:{},components:{},is_active:!0}),c(!0)},F=R=>{p(!1),i(R),h(R),c(!0)},j=()=>{u?x.mutate(d):o&&b.mutate({id:o.id,data:d})},_=R=>{confirm("Are you sure you want to delete this section?")&&S.mutate(R)},E=(R,H)=>{h(Y=>({...Y,[R]:H}))},A=(R,H)=>{h(Y=>({...Y,settings:{...Y.settings,[R]:H}}))},D=R=>({section:"📝",form:"📋"})[R]||"📄";return v||w?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l.jsxs("div",{className:"sections-manager",children:[l.jsxs("div",{className:"sections-header",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sections"}),l.jsx(J,{onClick:M,children:"Create Section"})]}),l.jsx("div",{className:"sections-grid",children:l.jsx(Qr,{children:g.map(R=>l.jsxs(St.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"section-card",children:[l.jsxs("div",{className:"section-card-header",children:[l.jsx("div",{className:"section-icon",children:D(R.type)}),l.jsxs("div",{className:"section-info",children:[l.jsx("h4",{className:"section-title",children:R.title}),l.jsx("p",{className:"section-type",children:R.type}),R.description&&l.jsx("p",{className:"section-description",children:R.description})]})]})," ",l.jsxs("div",{className:"section-meta",children:[l.jsxs("span",{className:"section-context",children:["Context: ",R.context]}),l.jsxs("span",{className:"section-component-count",children:[Object.keys(R.components||{}).length," components"]})]}),l.jsxs("div",{className:"section-actions",children:[l.jsx(J,{variant:"outline",size:"sm",onClick:()=>F(R),children:"Edit"}),l.jsx(J,{variant:"outline",size:"sm",onClick:()=>_(R.id),children:"Delete"})]})]},R.id))})}),g.length===0&&l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state-icon",children:"📄"}),l.jsx("h3",{className:"empty-state-title",children:"No sections yet"}),l.jsx("p",{className:"empty-state-description",children:"Create your first section to get started."}),l.jsx(J,{onClick:M,children:"Create Section"})]}),l.jsx(Et,{open:a,onOpenChange:c,children:l.jsxs(Ct,{size:"lg",children:[l.jsx(Rt,{children:l.jsx(Mt,{children:u?"Create Section":"Edit Section"})}),l.jsxs("div",{className:"section-form",children:[l.jsxs("div",{className:"form-grid",children:[l.jsx(le,{config:{id:"title",type:"text",label:"Section Title",required:!0,placeholder:"Enter section title"},value:d.title||"",onChange:R=>E("title",R)}),l.jsx(le,{config:{id:"type",type:"select",label:"Section Type",required:!0,options:y.map(R=>({label:R.name,value:R.id}))},value:d.type||"",onChange:R=>E("type",R)}),l.jsx(le,{config:{id:"description",type:"textarea",label:"Description",placeholder:"Enter section description",rows:3},value:d.description||"",onChange:R=>E("description",R)}),l.jsx(le,{config:{id:"context",type:"select",label:"Context",required:!0,options:[{label:"Default",value:"default"},{label:"Post Edit",value:"post_edit"},{label:"User Profile",value:"user_profile"},{label:"Settings",value:"settings"},{label:"WooCommerce Product",value:"wc_product"}]},value:d.context||"default",onChange:R=>E("context",R)}),l.jsx(le,{config:{id:"screen",type:"text",label:"Screen (Optional)",placeholder:"e.g., post, page, product",description:"Limit section to specific admin screens"},value:d.screen||"",onChange:R=>E("screen",R)})]}),d.type&&l.jsxs("div",{className:"section-config",children:[l.jsx("h4",{className:"config-title",children:"Section Configuration"})," ",d.type==="section"&&l.jsxs("div",{className:"config-grid",children:[l.jsx(le,{config:{id:"collapsible",type:"switcher",label:"Collapsible",description:"Allow users to collapse this section"},value:((N=d.settings)==null?void 0:N.collapsible)||!1,onChange:R=>A("collapsible",R)}),l.jsx(le,{config:{id:"collapsed",type:"switcher",label:"Start Collapsed",description:"Start with the section collapsed"},value:((L=d.settings)==null?void 0:L.collapsed)||!1,onChange:R=>A("collapsed",R)})]}),d.type==="form"&&l.jsxs("div",{className:"config-grid",children:[l.jsx(le,{config:{id:"method",type:"select",label:"Form Method",options:[{label:"POST",value:"post"},{label:"GET",value:"get"}]},value:((V=d.settings)==null?void 0:V.method)||"post",onChange:R=>A("method",R)}),l.jsx(le,{config:{id:"action",type:"text",label:"Form Action URL",placeholder:"Leave empty for current page"},value:((T=d.settings)==null?void 0:T.action)||"",onChange:R=>A("action",R)}),l.jsx(le,{config:{id:"ajax",type:"switcher",label:"AJAX Submission",description:"Submit form via AJAX"},value:((k=d.settings)==null?void 0:k.ajax)||!1,onChange:R=>A("ajax",R)}),l.jsx(le,{config:{id:"submit_text",type:"text",label:"Submit Button Text",placeholder:"Submit"},value:((B=d.settings)==null?void 0:B.submit_text)||"Submit",onChange:R=>A("submit_text",R)}),l.jsx(le,{config:{id:"nonce_action",type:"text",label:"Nonce Action",placeholder:"Enter nonce action for security"},value:((I=d.settings)==null?void 0:I.nonce_action)||"",onChange:R=>A("nonce_action",R)})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx(J,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})," ",l.jsx(J,{onClick:j,disabled:x.isPending||b.isPending,children:u?"Create Section":"Save Changes"})]})]})]})})]})};function am(){return l.jsxs("div",{className:"spider-boxes-admin",children:[l.jsxs("div",{className:"spider-boxes-header",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Spider Boxes Configuration"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage field types, fields, components, and sections for your custom meta boxes."})]}),l.jsx("div",{className:"spider-boxes-content",children:l.jsxs(xd,{defaultValue:"fields",className:"w-full",children:[l.jsxs(yd,{className:"grid w-full grid-cols-4",children:[l.jsx(or,{value:"fields",children:"Fields"}),l.jsx(or,{value:"components",children:"Components"}),l.jsx(or,{value:"sections",children:"Sections"}),l.jsx(or,{value:"field-types",children:"Field Types"})]}),l.jsx(ir,{value:"fields",className:"mt-6",children:l.jsx(sm,{})}),l.jsx(ir,{value:"components",className:"mt-6",children:l.jsx(om,{})}),l.jsx(ir,{value:"sections",className:"mt-6",children:l.jsx(im,{})}),l.jsx(ir,{value:"field-types",className:"mt-6",children:l.jsx(em,{})})]})})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function lm(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function bt(e,t){return typeof e=="function"?e(t):e}function De(e,t){return n=>{t.setState(r=>({...r,[e]:bt(n,r[e])}))}}function ps(e){return e instanceof Function}function cm(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function um(e,t){const n=[],r=s=>{s.forEach(o=>{n.push(o);const i=t(o);i!=null&&i.length&&r(i)})};return r(e),n}function U(e,t,n){let r=[],s;return o=>{let i;n.key&&n.debug&&(i=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((p,d)=>r[d]!==p)))return s;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-i)*100)/100,d=Math.round((Date.now()-u)*100)/100,h=d/16,g=(v,m)=>{for(v=String(v);v.length<m;)v=" "+v;return v};console.info(`%c⏱ ${g(d,5)} /${g(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function W(e,t,n,r){return{debug:()=>{var s;return(s=e==null?void 0:e.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function dm(e,t,n,r){const s=()=>{var i;return(i=o.getValue())!=null?i:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:U(()=>[e,n,t,o],(i,a,c,u)=>({table:i,column:a,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),W(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(o,n,t,e)},{}),o}function fm(e,t,n,r){var s,o;const a={...e._getDefaultColumnDef(),...t},c=a.accessorKey;let u=(s=(o=a.id)!=null?o:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,p;if(a.accessorFn?p=a.accessorFn:c&&(c.includes(".")?p=h=>{let g=h;for(const m of c.split(".")){var v;g=(v=g)==null?void 0:v[m]}return g}:p=h=>h[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:p,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:U(()=>[!0],()=>{var h;return[d,...(h=d.columns)==null?void 0:h.flatMap(g=>g.getFlatColumns())]},W(e.options,"debugColumns")),getLeafColumns:U(()=>[e._getOrderColumnsFn()],h=>{var g;if((g=d.columns)!=null&&g.length){let v=d.columns.flatMap(m=>m.getLeafColumns());return h(v)}return[d]},W(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(d,e);return d}const ve="debugHeaders";function fa(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],a=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(a),i.push(c)};return a(o),i},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(o,e)}),o}const hm={createTable:e=>{e.getHeaderGroups=U(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var o,i;const a=(o=r==null?void 0:r.map(d=>n.find(h=>h.id===d)).filter(Boolean))!=null?o:[],c=(i=s==null?void 0:s.map(d=>n.find(h=>h.id===d)).filter(Boolean))!=null?i:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(s!=null&&s.includes(d.id)));return br(t,[...a,...u,...c],e)},W(e.options,ve)),e.getCenterHeaderGroups=U(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(s!=null&&s.includes(o.id))),br(t,n,e,"center")),W(e.options,ve)),e.getLeftHeaderGroups=U(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const o=(s=r==null?void 0:r.map(i=>n.find(a=>a.id===i)).filter(Boolean))!=null?s:[];return br(t,o,e,"left")},W(e.options,ve)),e.getRightHeaderGroups=U(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const o=(s=r==null?void 0:r.map(i=>n.find(a=>a.id===i)).filter(Boolean))!=null?s:[];return br(t,o,e,"right")},W(e.options,ve)),e.getFooterGroups=U(()=>[e.getHeaderGroups()],t=>[...t].reverse(),W(e.options,ve)),e.getLeftFooterGroups=U(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),W(e.options,ve)),e.getCenterFooterGroups=U(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),W(e.options,ve)),e.getRightFooterGroups=U(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),W(e.options,ve)),e.getFlatHeaders=U(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),W(e.options,ve)),e.getLeftFlatHeaders=U(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),W(e.options,ve)),e.getCenterFlatHeaders=U(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),W(e.options,ve)),e.getRightFlatHeaders=U(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),W(e.options,ve)),e.getCenterLeafHeaders=U(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),W(e.options,ve)),e.getLeftLeafHeaders=U(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),W(e.options,ve)),e.getRightLeafHeaders=U(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),W(e.options,ve)),e.getLeafHeaders=U(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,o,i,a,c,u;return[...(s=(o=t[0])==null?void 0:o.headers)!=null?s:[],...(i=(a=n[0])==null?void 0:a.headers)!=null?i:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(p=>p.getLeafHeaders()).flat()},W(e.options,ve))}};function br(e,t,n,r){var s,o;let i=0;const a=function(h,g){g===void 0&&(g=1),i=Math.max(i,g),h.filter(v=>v.getIsVisible()).forEach(v=>{var m;(m=v.columns)!=null&&m.length&&a(v.columns,g+1)},0)};a(e);let c=[];const u=(h,g)=>{const v={depth:g,id:[r,`${g}`].filter(Boolean).join("_"),headers:[]},m=[];h.forEach(w=>{const y=[...m].reverse()[0],x=w.column.depth===v.depth;let b,S=!1;if(x&&w.column.parent?b=w.column.parent:(b=w.column,S=!0),y&&(y==null?void 0:y.column)===b)y.subHeaders.push(w);else{const M=fa(n,b,{id:[r,g,b.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${m.filter(F=>F.column===b).length}`:void 0,depth:g,index:m.length});M.subHeaders.push(w),m.push(M)}v.headers.push(w),w.headerGroup=v}),c.push(v),g>0&&u(m,g-1)},p=t.map((h,g)=>fa(n,h,{depth:i,index:g}));u(p,i-1),c.reverse();const d=h=>h.filter(v=>v.column.getIsVisible()).map(v=>{let m=0,w=0,y=[0];v.subHeaders&&v.subHeaders.length?(y=[],d(v.subHeaders).forEach(b=>{let{colSpan:S,rowSpan:M}=b;m+=S,y.push(M)})):m=1;const x=Math.min(...y);return w=w+x,v.colSpan=m,v.rowSpan=w,{colSpan:m,rowSpan:w}});return d((s=(o=c[0])==null?void 0:o.headers)!=null?s:[]),c}const oi=(e,t,n,r,s,o,i)=>{let a={id:t,index:r,original:n,depth:s,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(a._valuesCache.hasOwnProperty(c))return a._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return a._valuesCache[c]=u.accessorFn(a.original,r),a._valuesCache[c]},getUniqueValues:c=>{if(a._uniqueValuesCache.hasOwnProperty(c))return a._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[c]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[c]):(a._uniqueValuesCache[c]=[a.getValue(c)],a._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=a.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>um(a.subRows,c=>c.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let c=[],u=a;for(;;){const p=u.getParentRow();if(!p)break;c.push(p),u=p}return c.reverse()},getAllCells:U(()=>[e.getAllLeafColumns()],c=>c.map(u=>dm(e,a,u,u.id)),W(e.options,"debugRows")),_getAllCellsByColumnId:U(()=>[a.getAllCells()],c=>c.reduce((u,p)=>(u[p.column.id]=p,u),{}),W(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(a,e)}return a},gm={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Jc=(e,t,n)=>{var r,s;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(o))};Jc.autoRemove=e=>Te(e);const eu=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};eu.autoRemove=e=>Te(e);const tu=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};tu.autoRemove=e=>Te(e);const nu=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};nu.autoRemove=e=>Te(e);const ru=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});ru.autoRemove=e=>Te(e)||!(e!=null&&e.length);const su=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});su.autoRemove=e=>Te(e)||!(e!=null&&e.length);const ou=(e,t,n)=>e.getValue(t)===n;ou.autoRemove=e=>Te(e);const iu=(e,t,n)=>e.getValue(t)==n;iu.autoRemove=e=>Te(e);const ii=(e,t,n)=>{let[r,s]=n;const o=e.getValue(t);return o>=r&&o<=s};ii.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,i=n===null||Number.isNaN(s)?1/0:s;if(o>i){const a=o;o=i,i=a}return[o,i]};ii.autoRemove=e=>Te(e)||Te(e[0])&&Te(e[1]);const et={includesString:Jc,includesStringSensitive:eu,equalsString:tu,arrIncludes:nu,arrIncludesAll:ru,arrIncludesSome:su,equals:ou,weakEquals:iu,inNumberRange:ii};function Te(e){return e==null||e===""}const pm={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:De("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?et.includesString:typeof r=="number"?et.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?et.equals:Array.isArray(r)?et.arrIncludes:et.weakEquals},e.getFilterFn=()=>{var n,r;return ps(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:et[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),o=r==null?void 0:r.find(p=>p.id===e.id),i=bt(n,o?o.value:void 0);if(ha(s,i,e)){var a;return(a=r==null?void 0:r.filter(p=>p.id!==e.id))!=null?a:[]}const c={id:e.id,value:i};if(o){var u;return(u=r==null?void 0:r.map(p=>p.id===e.id?c:p))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var o;return(o=bt(t,s))==null?void 0:o.filter(i=>{const a=n.find(c=>c.id===i.id);if(a){const c=a.getFilterFn();if(ha(c,i.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function ha(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const mm=(e,t,n)=>n.reduce((r,s)=>{const o=s.getValue(e);return r+(typeof o=="number"?o:0)},0),vm=(e,t,n)=>{let r;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},xm=(e,t,n)=>{let r;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},ym=(e,t,n)=>{let r,s;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r===void 0?i>=i&&(r=s=i):(r>i&&(r=i),s<i&&(s=i)))}),[r,s]},wm=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let o=s.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},bm=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!cm(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((o,i)=>o-i);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},Sm=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Cm=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Rm=(e,t)=>t.length,Vs={sum:mm,min:vm,max:xm,extent:ym,mean:wm,median:bm,unique:Sm,uniqueCount:Cm,count:Rm},Mm={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:De("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Vs.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Vs.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return ps(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Vs[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function Em(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(i=>i.id===o)).filter(Boolean),...r]}const jm={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:De("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=U(n=>[Dn(t,n)],n=>n.findIndex(r=>r.id===e.id),W(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Dn(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=Dn(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=U(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let o=[];if(!(t!=null&&t.length))o=s;else{const i=[...t],a=[...s];for(;a.length&&i.length;){const c=i.shift(),u=a.findIndex(p=>p.id===c);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return Em(o,n,r)},W(e.options,"debugTable"))}},Ts=()=>({left:[],right:[]}),Nm={getInitialState:e=>({columnPinning:Ts(),...e}),getDefaultOptions:e=>({onColumnPinningChange:De("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var o,i;if(n==="right"){var a,c;return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((c=s==null?void 0:s.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,p;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((p=s==null?void 0:s.right)!=null?p:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((o=s==null?void 0:s.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:((i=s==null?void 0:s.right)!=null?i:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,o,i;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((o=(i=t.options.enableColumnPinning)!=null?i:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),i=n.some(a=>s==null?void 0:s.includes(a));return o?"left":i?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=U(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const o=[...r??[],...s??[]];return n.filter(i=>!o.includes(i.column.id))},W(t.options,"debugRows")),e.getLeftVisibleCells=U(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),W(t.options,"debugRows")),e.getRightVisibleCells=U(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),W(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Ts():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Ts())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,o;return!!((s=r.left)!=null&&s.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=U(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),W(e.options,"debugColumns")),e.getRightLeafColumns=U(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),W(e.options,"debugColumns")),e.getCenterLeafColumns=U(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(o=>!s.includes(o.id))},W(e.options,"debugColumns"))}};function Fm(e){return e||(typeof document<"u"?document:null)}const Sr={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},$s=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),_m={getDefaultColumnDef:()=>Sr,getInitialState:e=>({columnSizing:{},columnSizingInfo:$s(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:De("columnSizing",e),onColumnSizingInfoChange:De("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Sr.minSize,(r=o??e.columnDef.size)!=null?r:Sr.size),(s=e.columnDef.maxSize)!=null?s:Sr.maxSize)},e.getStart=U(n=>[n,Dn(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,o)=>s+o.getSize(),0),W(t.options,"debugColumns")),e.getAfter=U(n=>[n,Dn(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,o)=>s+o.getSize(),0),W(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var o;n+=(o=s.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r==null?void 0:r.getCanResize();return o=>{if(!r||!s||(o.persist==null||o.persist(),ks(o)&&o.touches&&o.touches.length>1))return;const i=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],c=ks(o)?Math.round(o.touches[0].clientX):o.clientX,u={},p=(y,x)=>{typeof x=="number"&&(t.setColumnSizingInfo(b=>{var S,M;const F=t.options.columnResizeDirection==="rtl"?-1:1,j=(x-((S=b==null?void 0:b.startOffset)!=null?S:0))*F,_=Math.max(j/((M=b==null?void 0:b.startSize)!=null?M:0),-.999999);return b.columnSizingStart.forEach(E=>{let[A,D]=E;u[A]=Math.round(Math.max(D+D*_,0)*100)/100}),{...b,deltaOffset:j,deltaPercentage:_}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(b=>({...b,...u})))},d=y=>p("move",y),h=y=>{p("end",y),t.setColumnSizingInfo(x=>({...x,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g=Fm(n),v={moveHandler:y=>d(y.clientX),upHandler:y=>{g==null||g.removeEventListener("mousemove",v.moveHandler),g==null||g.removeEventListener("mouseup",v.upHandler),h(y.clientX)}},m={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),d(y.touches[0].clientX),!1),upHandler:y=>{var x;g==null||g.removeEventListener("touchmove",m.moveHandler),g==null||g.removeEventListener("touchend",m.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),h((x=y.touches[0])==null?void 0:x.clientX)}},w=Am()?{passive:!1}:!1;ks(o)?(g==null||g.addEventListener("touchmove",m.moveHandler,w),g==null||g.addEventListener("touchend",m.upHandler,w)):(g==null||g.addEventListener("mousemove",v.moveHandler,w),g==null||g.addEventListener("mouseup",v.upHandler,w)),t.setColumnSizingInfo(y=>({...y,startOffset:c,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?$s():(n=e.initialState.columnSizingInfo)!=null?n:$s())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let Cr=null;function Am(){if(typeof Cr=="boolean")return Cr;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Cr=e,Cr}function ks(e){return e.type==="touchstart"}const Dm={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:De("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=U(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),W(t.options,"debugRows")),e.getVisibleCells=U(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],W(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>U(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),W(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,o)=>({...s,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Dn(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Pm={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Im={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:De("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>et.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return ps(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:et[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Om={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:De("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,o;e.setExpanded(r?{}:(s=(o=e.initialState)==null?void 0:o.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const i=o.split(".");r=Math.max(r,i.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const o=r===!0?!0:!!(r!=null&&r[e.id]);let i={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{i[a]=!0}):i=r,n=(s=n)!=null?s:!o,!o&&n)return{...i,[e.id]:!0};if(o&&!n){const{[e.id]:a,...c}=i;return c}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},So=0,Co=10,Bs=()=>({pageIndex:So,pageSize:Co}),Lm={getInitialState:e=>({...e,pagination:{...Bs(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:De("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=o=>bt(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?Bs():(s=e.initialState.pagination)!=null?s:Bs())},e.setPageIndex=r=>{e.setPagination(s=>{let o=bt(r,s.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,i)),{...s,pageIndex:o}})},e.resetPageIndex=r=>{var s,o;e.setPageIndex(r?So:(s=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?s:So)},e.resetPageSize=r=>{var s,o;e.setPageSize(r?Co:(s=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?s:Co)},e.setPageSize=r=>{e.setPagination(s=>{const o=Math.max(1,bt(r,s.pageSize)),i=s.pageSize*s.pageIndex,a=Math.floor(i/o);return{...s,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(s=>{var o;let i=bt(r,(o=e.options.pageCount)!=null?o:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...s,pageCount:i}}),e.getPageOptions=U(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((o,i)=>i)),s},W(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Hs=()=>({top:[],bottom:[]}),Vm={getInitialState:e=>({rowPinning:Hs(),...e}),getDefaultOptions:e=>({onRowPinningChange:De("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const o=r?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],i=s?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],a=new Set([...i,e.id,...o]);t.setRowPinning(c=>{var u,p;if(n==="bottom"){var d,h;return{top:((d=c==null?void 0:c.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((h=c==null?void 0:c.bottom)!=null?h:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(n==="top"){var g,v;return{top:[...((g=c==null?void 0:c.top)!=null?g:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((v=c==null?void 0:c.bottom)!=null?v:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((p=c==null?void 0:c.bottom)!=null?p:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),i=n.some(a=>s==null?void 0:s.includes(a));return o?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const o=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(i=>{let{id:a}=i;return a});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Hs():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Hs())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,o;return!!((s=r.top)!=null&&s.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(i=>{const a=e.getRow(i,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(i=>t.find(a=>a.id===i))).filter(Boolean).map(i=>({...i,position:r}))},e.getTopRows=U(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),W(e.options,"debugRows")),e.getBottomRows=U(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),W(e.options,"debugRows")),e.getCenterRows=U(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(o=>!s.has(o.id))},W(e.options,"debugRows"))}},Tm={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:De("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):s.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(o=>{Ro(s,o.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=U(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?zs(e,n):{rows:[],flatRows:[],rowsById:{}},W(e.options,"debugTable")),e.getFilteredSelectedRowModel=U(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?zs(e,n):{rows:[],flatRows:[],rowsById:{}},W(e.options,"debugTable")),e.getGroupedSelectedRowModel=U(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?zs(e,n):{rows:[],flatRows:[],rowsById:{}},W(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(o=>{var i;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return o;const a={...o};return Ro(a,e.id,n,(i=r==null?void 0:r.selectChildren)!=null?i:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return ai(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Mo(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Mo(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Ro=(e,t,n,r,s)=>{var o;const i=s.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),i.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=i.subRows)!=null&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(a=>Ro(e,a.id,n,r,s))};function zs(e,t){const n=e.getState().rowSelection,r=[],s={},o=function(i,a){return i.map(c=>{var u;const p=ai(c,n);if(p&&(r.push(c),s[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:o(c.subRows)}),p)return c}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:s}}function ai(e,t){var n;return(n=t[e.id])!=null?n:!1}function Mo(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,o=!1;return e.subRows.forEach(i=>{if(!(o&&!s)&&(i.getCanSelect()&&(ai(i,t)?o=!0:s=!1),i.subRows&&i.subRows.length)){const a=Mo(i,t);a==="all"?o=!0:(a==="some"&&(o=!0),s=!1)}}),s?"all":o?"some":!1}const Eo=/([0-9]+)/gm,$m=(e,t,n)=>au(Ft(e.getValue(n)).toLowerCase(),Ft(t.getValue(n)).toLowerCase()),km=(e,t,n)=>au(Ft(e.getValue(n)),Ft(t.getValue(n))),Bm=(e,t,n)=>li(Ft(e.getValue(n)).toLowerCase(),Ft(t.getValue(n)).toLowerCase()),Hm=(e,t,n)=>li(Ft(e.getValue(n)),Ft(t.getValue(n))),zm=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},Um=(e,t,n)=>li(e.getValue(n),t.getValue(n));function li(e,t){return e===t?0:e>t?1:-1}function Ft(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function au(e,t){const n=e.split(Eo).filter(Boolean),r=t.split(Eo).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),o=r.shift(),i=parseInt(s,10),a=parseInt(o,10),c=[i,a].sort();if(isNaN(c[0])){if(s>o)return 1;if(o>s)return-1;continue}if(isNaN(c[1]))return isNaN(i)?-1:1;if(i>a)return 1;if(a>i)return-1}return n.length-r.length}const Rn={alphanumeric:$m,alphanumericCaseSensitive:km,text:Bm,textCaseSensitive:Hm,datetime:zm,basic:Um},Wm={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:De("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const o=s==null?void 0:s.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Rn.datetime;if(typeof o=="string"&&(r=!0,o.split(Eo).length>1))return Rn.alphanumeric}return r?Rn.text:Rn.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return ps(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Rn[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(i=>{const a=i==null?void 0:i.find(g=>g.id===e.id),c=i==null?void 0:i.findIndex(g=>g.id===e.id);let u=[],p,d=o?n:s==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&r?a?p="toggle":p="add":i!=null&&i.length&&c!==i.length-1?p="replace":a?p="toggle":p="replace",p==="toggle"&&(o||s||(p="remove")),p==="add"){var h;u=[...i,{id:e.id,desc:d}],u.splice(0,u.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else p==="toggle"?u=i.map(g=>g.id===e.id?{...g,desc:d}:g):p==="remove"?u=i.filter(g=>g.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const o=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:i==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Gm=[hm,Dm,jm,Nm,gm,pm,Pm,Im,Wm,Mm,Om,Lm,Vm,Tm,_m];function qm(e){var t,n;const r=[...Gm,...(t=e._features)!=null?t:[]];let s={_features:r};const o=s._features.reduce((h,g)=>Object.assign(h,g.getDefaultOptions==null?void 0:g.getDefaultOptions(s)),{}),i=h=>s.options.mergeOptions?s.options.mergeOptions(o,h):{...o,...h};let c={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(h=>{var g;c=(g=h.getInitialState==null?void 0:h.getInitialState(c))!=null?g:c});const u=[];let p=!1;const d={_features:r,options:{...o,...e},initialState:c,_queue:h=>{u.push(h),p||(p=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();p=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{s.setState(s.initialState)},setOptions:h=>{const g=bt(h,s.options);s.options=i(g)},getState:()=>s.options.state,setState:h=>{s.options.onStateChange==null||s.options.onStateChange(h)},_getRowId:(h,g,v)=>{var m;return(m=s.options.getRowId==null?void 0:s.options.getRowId(h,g,v))!=null?m:`${v?[v.id,g].join("."):g}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(h,g)=>{let v=(g?s.getPrePaginationRowModel():s.getRowModel()).rowsById[h];if(!v&&(v=s.getCoreRowModel().rowsById[h],!v))throw new Error;return v},_getDefaultColumnDef:U(()=>[s.options.defaultColumn],h=>{var g;return h=(g=h)!=null?g:{},{header:v=>{const m=v.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:v=>{var m,w;return(m=(w=v.renderValue())==null||w.toString==null?void 0:w.toString())!=null?m:null},...s._features.reduce((v,m)=>Object.assign(v,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...h}},W(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:U(()=>[s._getColumnDefs()],h=>{const g=function(v,m,w){return w===void 0&&(w=0),v.map(y=>{const x=fm(s,y,w,m),b=y;return x.columns=b.columns?g(b.columns,x,w+1):[],x})};return g(h)},W(e,"debugColumns")),getAllFlatColumns:U(()=>[s.getAllColumns()],h=>h.flatMap(g=>g.getFlatColumns()),W(e,"debugColumns")),_getAllFlatColumnsById:U(()=>[s.getAllFlatColumns()],h=>h.reduce((g,v)=>(g[v.id]=v,g),{}),W(e,"debugColumns")),getAllLeafColumns:U(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(h,g)=>{let v=h.flatMap(m=>m.getLeafColumns());return g(v)},W(e,"debugColumns")),getColumn:h=>s._getAllFlatColumnsById()[h]};Object.assign(s,d);for(let h=0;h<s._features.length;h++){const g=s._features[h];g==null||g.createTable==null||g.createTable(s)}return s}function Km(){return e=>U(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,o,i){o===void 0&&(o=0);const a=[];for(let u=0;u<s.length;u++){const p=oi(e,e._getRowId(s[u],u,i),s[u],u,o,void 0,i==null?void 0:i.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,a.push(p),e.options.getSubRows){var c;p.originalSubRows=e.options.getSubRows(s[u],u),(c=p.originalSubRows)!=null&&c.length&&(p.subRows=r(p.originalSubRows,o+1,p))}}return a};return n.rows=r(t),n},W(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Xm(e,t,n){return n.options.filterFromLeafRows?Ym(e,t,n):Zm(e,t,n)}function Ym(e,t,n){var r;const s=[],o={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(c,u){u===void 0&&(u=0);const p=[];for(let h=0;h<c.length;h++){var d;let g=c[h];const v=oi(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);if(v.columnFilters=g.columnFilters,(d=g.subRows)!=null&&d.length&&u<i){if(v.subRows=a(g.subRows,u+1),g=v,t(g)&&!v.subRows.length){p.push(g),o[g.id]=g,s.push(g);continue}if(t(g)||v.subRows.length){p.push(g),o[g.id]=g,s.push(g);continue}}else g=v,t(g)&&(p.push(g),o[g.id]=g,s.push(g))}return p};return{rows:a(e),flatRows:s,rowsById:o}}function Zm(e,t,n){var r;const s=[],o={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(c,u){u===void 0&&(u=0);const p=[];for(let h=0;h<c.length;h++){let g=c[h];if(t(g)){var d;if((d=g.subRows)!=null&&d.length&&u<i){const m=oi(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);m.subRows=a(g.subRows,u+1),g=m}p.push(g),s.push(g),o[g.id]=g}}return p};return{rows:a(e),flatRows:s,rowsById:o}}function Qm(){return e=>U(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let h=0;h<t.flatRows.length;h++)t.flatRows[h].columnFilters={},t.flatRows[h].columnFiltersMeta={};return t}const s=[],o=[];(n??[]).forEach(h=>{var g;const v=e.getColumn(h.id);if(!v)return;const m=v.getFilterFn();m&&s.push({id:h.id,filterFn:m,resolvedValue:(g=m.resolveFilterValue==null?void 0:m.resolveFilterValue(h.value))!=null?g:h.value})});const i=(n??[]).map(h=>h.id),a=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());r&&a&&c.length&&(i.push("__global__"),c.forEach(h=>{var g;o.push({id:h.id,filterFn:a,resolvedValue:(g=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?g:r})}));let u,p;for(let h=0;h<t.flatRows.length;h++){const g=t.flatRows[h];if(g.columnFilters={},s.length)for(let v=0;v<s.length;v++){u=s[v];const m=u.id;g.columnFilters[m]=u.filterFn(g,m,u.resolvedValue,w=>{g.columnFiltersMeta[m]=w})}if(o.length){for(let v=0;v<o.length;v++){p=o[v];const m=p.id;if(p.filterFn(g,m,p.resolvedValue,w=>{g.columnFiltersMeta[m]=w})){g.columnFilters.__global__=!0;break}}g.columnFilters.__global__!==!0&&(g.columnFilters.__global__=!1)}}const d=h=>{for(let g=0;g<i.length;g++)if(h.columnFilters[i[g]]===!1)return!1;return!0};return Xm(t.rows,d,e)},W(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Jm(){return e=>U(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],o=r.filter(c=>{var u;return(u=e.getColumn(c.id))==null?void 0:u.getCanSort()}),i={};o.forEach(c=>{const u=e.getColumn(c.id);u&&(i[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=c=>{const u=c.map(p=>({...p}));return u.sort((p,d)=>{for(let g=0;g<o.length;g+=1){var h;const v=o[g],m=i[v.id],w=m.sortUndefined,y=(h=v==null?void 0:v.desc)!=null?h:!1;let x=0;if(w){const b=p.getValue(v.id),S=d.getValue(v.id),M=b===void 0,F=S===void 0;if(M||F){if(w==="first")return M?-1:1;if(w==="last")return M?1:-1;x=M&&F?0:M?w:-w}}if(x===0&&(x=m.sortingFn(p,d,v.id)),x!==0)return y&&(x*=-1),m.invertSorting&&(x*=-1),x}return p.index-d.index}),u.forEach(p=>{var d;s.push(p),(d=p.subRows)!=null&&d.length&&(p.subRows=a(p.subRows))}),u};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},W(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ev(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=f.useState(()=>({current:qm(t)})),[r,s]=f.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:i=>{s(i),e.onStateChange==null||e.onStateChange(i)}})),n.current}function tv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const ms=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vn(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ci(e){return"nodeType"in e}function Ee(e){var t,n;return e?vn(e)?e:ci(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ui(e){const{Document:t}=Ee(e);return e instanceof t}function Jn(e){return vn(e)?!1:e instanceof Ee(e).HTMLElement}function lu(e){return e instanceof Ee(e).SVGElement}function xn(e){return e?vn(e)?e.document:ci(e)?ui(e)?e:Jn(e)||lu(e)?e.ownerDocument:document:document:document}const Ze=ms?f.useLayoutEffect:f.useEffect;function di(e){const t=f.useRef(e);return Ze(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function nv(){const e=f.useRef(null),t=f.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Tn(e,t){t===void 0&&(t=[e]);const n=f.useRef(e);return Ze(()=>{n.current!==e&&(n.current=e)},t),n}function er(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Wr(e){const t=di(e),n=f.useRef(null),r=f.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function jo(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let Us={};function tr(e,t){return f.useMemo(()=>{if(t)return t;const n=Us[e]==null?0:Us[e]+1;return Us[e]=n,e+"-"+n},[e,t])}function cu(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,i)=>{const a=Object.entries(i);for(const[c,u]of a){const p=o[c];p!=null&&(o[c]=p+e*u)}return o},{...t})}}const sn=cu(1),$n=cu(-1);function rv(e){return"clientX"in e&&"clientY"in e}function fi(e){if(!e)return!1;const{KeyboardEvent:t}=Ee(e.target);return t&&e instanceof t}function sv(e){if(!e)return!1;const{TouchEvent:t}=Ee(e.target);return t&&e instanceof t}function No(e){if(sv(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return rv(e)?{x:e.clientX,y:e.clientY}:null}const kn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[kn.Translate.toString(e),kn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ga="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ov(e){return e.matches(ga)?e:e.querySelector(ga)}const iv={display:"none"};function av(e){let{id:t,value:n}=e;return te.createElement("div",{id:t,style:iv},n)}function lv(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return te.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function cv(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const uu=f.createContext(null);function uv(e){const t=f.useContext(uu);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function dv(){const[e]=f.useState(()=>new Set),t=f.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[f.useCallback(r=>{let{type:s,event:o}=r;e.forEach(i=>{var a;return(a=i[s])==null?void 0:a.call(i,o)})},[e]),t]}const fv={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},hv={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function gv(e){let{announcements:t=hv,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=fv}=e;const{announce:o,announcement:i}=cv(),a=tr("DndLiveRegion"),[c,u]=f.useState(!1);if(f.useEffect(()=>{u(!0)},[]),uv(f.useMemo(()=>({onDragStart(d){let{active:h}=d;o(t.onDragStart({active:h}))},onDragMove(d){let{active:h,over:g}=d;t.onDragMove&&o(t.onDragMove({active:h,over:g}))},onDragOver(d){let{active:h,over:g}=d;o(t.onDragOver({active:h,over:g}))},onDragEnd(d){let{active:h,over:g}=d;o(t.onDragEnd({active:h,over:g}))},onDragCancel(d){let{active:h,over:g}=d;o(t.onDragCancel({active:h,over:g}))}}),[o,t])),!c)return null;const p=te.createElement(te.Fragment,null,te.createElement(av,{id:r,value:s.draggable}),te.createElement(lv,{id:a,announcement:i}));return n?nt.createPortal(p,n):p}var de;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(de||(de={}));function Gr(){}function pa(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function pv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Be=Object.freeze({x:0,y:0});function du(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function fu(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function mv(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ma(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function hu(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function va(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const vv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=va(t,t.left,t.top),o=[];for(const i of r){const{id:a}=i,c=n.get(a);if(c){const u=du(va(c),s);o.push({id:a,data:{droppableContainer:i,value:u}})}}return o.sort(fu)},xv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=ma(t),o=[];for(const i of r){const{id:a}=i,c=n.get(a);if(c){const u=ma(c),p=s.reduce((h,g,v)=>h+du(u[v],g),0),d=Number((p/4).toFixed(4));o.push({id:a,data:{droppableContainer:i,value:d}})}}return o.sort(fu)};function yv(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=s-r,a=o-n;if(r<s&&n<o){const c=t.width*t.height,u=e.width*e.height,p=i*a,d=p/(c+u-p);return Number(d.toFixed(4))}return 0}const wv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const o of r){const{id:i}=o,a=n.get(i);if(a){const c=yv(a,t);c>0&&s.push({id:i,data:{droppableContainer:o,value:c}})}}return s.sort(mv)};function bv(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function gu(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Be}function Sv(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((i,a)=>({...i,top:i.top+e*a.y,bottom:i.bottom+e*a.y,left:i.left+e*a.x,right:i.right+e*a.x}),{...n})}}const Cv=Sv(1);function Rv(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Mv(e,t,n){const r=Rv(t);if(!r)return e;const{scaleX:s,scaleY:o,x:i,y:a}=r,c=e.left-i-(1-s)*parseFloat(n),u=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=s?e.width/s:e.width,d=o?e.height/o:e.height;return{width:p,height:d,top:u,right:c+p,bottom:u+d,left:c}}const Ev={ignoreTransform:!1};function yn(e,t){t===void 0&&(t=Ev);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:p}=Ee(e).getComputedStyle(e);u&&(n=Mv(n,u,p))}const{top:r,left:s,width:o,height:i,bottom:a,right:c}=n;return{top:r,left:s,width:o,height:i,bottom:a,right:c}}function xa(e){return yn(e,{ignoreTransform:!0})}function jv(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Nv(e,t){return t===void 0&&(t=Ee(e).getComputedStyle(e)),t.position==="fixed"}function Fv(e,t){t===void 0&&(t=Ee(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function vs(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(ui(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Jn(s)||lu(s)||n.includes(s))return n;const o=Ee(e).getComputedStyle(s);return s!==e&&Fv(s,o)&&n.push(s),Nv(s,o)?n:r(s.parentNode)}return e?r(e):n}function pu(e){const[t]=vs(e,1);return t??null}function Ws(e){return!ms||!e?null:vn(e)?e:ci(e)?ui(e)||e===xn(e).scrollingElement?window:Jn(e)?e:null:null}function mu(e){return vn(e)?e.scrollX:e.scrollLeft}function vu(e){return vn(e)?e.scrollY:e.scrollTop}function Fo(e){return{x:mu(e),y:vu(e)}}var fe;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(fe||(fe={}));function xu(e){return!ms||!e?!1:e===document.scrollingElement}function yu(e){const t={x:0,y:0},n=xu(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:i,isRight:a,maxScroll:r,minScroll:t}}const _v={x:.2,y:.2};function Av(e,t,n,r,s){let{top:o,left:i,right:a,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=_v);const{isTop:u,isBottom:p,isLeft:d,isRight:h}=yu(e),g={x:0,y:0},v={x:0,y:0},m={height:t.height*s.y,width:t.width*s.x};return!u&&o<=t.top+m.height?(g.y=fe.Backward,v.y=r*Math.abs((t.top+m.height-o)/m.height)):!p&&c>=t.bottom-m.height&&(g.y=fe.Forward,v.y=r*Math.abs((t.bottom-m.height-c)/m.height)),!h&&a>=t.right-m.width?(g.x=fe.Forward,v.x=r*Math.abs((t.right-m.width-a)/m.width)):!d&&i<=t.left+m.width&&(g.x=fe.Backward,v.x=r*Math.abs((t.left+m.width-i)/m.width)),{direction:g,speed:v}}function Dv(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function wu(e){return e.reduce((t,n)=>sn(t,Fo(n)),Be)}function Pv(e){return e.reduce((t,n)=>t+mu(n),0)}function Iv(e){return e.reduce((t,n)=>t+vu(n),0)}function Ov(e,t){if(t===void 0&&(t=yn),!e)return;const{top:n,left:r,bottom:s,right:o}=t(e);pu(e)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Lv=[["x",["left","right"],Pv],["y",["top","bottom"],Iv]];class hi{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=vs(n),s=wu(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,a]of Lv)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=a(r),p=s[o]-u;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Pn{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Vv(e){const{EventTarget:t}=Ee(e);return e instanceof t?e:xn(e)}function Gs(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Oe;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Oe||(Oe={}));function ya(e){e.preventDefault()}function Tv(e){e.stopPropagation()}var X;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(X||(X={}));const bu={start:[X.Space,X.Enter],cancel:[X.Esc],end:[X.Space,X.Enter,X.Tab]},$v=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case X.Right:return{...n,x:n.x+25};case X.Left:return{...n,x:n.x-25};case X.Down:return{...n,y:n.y+25};case X.Up:return{...n,y:n.y-25}}};class gi{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Pn(xn(n)),this.windowListeners=new Pn(Ee(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Oe.Resize,this.handleCancel),this.windowListeners.add(Oe.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Oe.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Ov(r),n(Be)}handleKeyDown(t){if(fi(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=bu,coordinateGetter:i=$v,scrollBehavior:a="smooth"}=s,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,p=u?{x:u.left,y:u.top}:Be;this.referenceCoordinates||(this.referenceCoordinates=p);const d=i(t,{active:n,context:r.current,currentCoordinates:p});if(d){const h=$n(d,p),g={x:0,y:0},{scrollableAncestors:v}=r.current;for(const m of v){const w=t.code,{isTop:y,isRight:x,isLeft:b,isBottom:S,maxScroll:M,minScroll:F}=yu(m),j=Dv(m),_={x:Math.min(w===X.Right?j.right-j.width/2:j.right,Math.max(w===X.Right?j.left:j.left+j.width/2,d.x)),y:Math.min(w===X.Down?j.bottom-j.height/2:j.bottom,Math.max(w===X.Down?j.top:j.top+j.height/2,d.y))},E=w===X.Right&&!x||w===X.Left&&!b,A=w===X.Down&&!S||w===X.Up&&!y;if(E&&_.x!==d.x){const D=m.scrollLeft+h.x,N=w===X.Right&&D<=M.x||w===X.Left&&D>=F.x;if(N&&!h.y){m.scrollTo({left:D,behavior:a});return}N?g.x=m.scrollLeft-D:g.x=w===X.Right?m.scrollLeft-M.x:m.scrollLeft-F.x,g.x&&m.scrollBy({left:-g.x,behavior:a});break}else if(A&&_.y!==d.y){const D=m.scrollTop+h.y,N=w===X.Down&&D<=M.y||w===X.Up&&D>=F.y;if(N&&!h.x){m.scrollTo({top:D,behavior:a});return}N?g.y=m.scrollTop-D:g.y=w===X.Down?m.scrollTop-M.y:m.scrollTop-F.y,g.y&&m.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(t,sn($n(d,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gi.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=bu,onActivation:s}=t,{active:o}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function wa(e){return!!(e&&"distance"in e)}function ba(e){return!!(e&&"delay"in e)}class pi{constructor(t,n,r){var s;r===void 0&&(r=Vv(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:i}=o;this.props=t,this.events=n,this.document=xn(i),this.documentListeners=new Pn(this.document),this.listeners=new Pn(r),this.windowListeners=new Pn(Ee(i)),this.initialCoordinates=(s=No(o))!=null?s:Be,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Oe.Resize,this.handleCancel),this.windowListeners.add(Oe.DragStart,ya),this.windowListeners.add(Oe.VisibilityChange,this.handleCancel),this.windowListeners.add(Oe.ContextMenu,ya),this.documentListeners.add(Oe.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ba(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(wa(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Oe.Click,Tv,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Oe.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!s)return;const c=(n=No(t))!=null?n:Be,u=$n(s,c);if(!r&&a){if(wa(a)){if(a.tolerance!=null&&Gs(u,a.tolerance))return this.handleCancel();if(Gs(u,a.distance))return this.handleStart()}if(ba(a)&&Gs(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===X.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const kv={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mi extends pi{constructor(t){const{event:n}=t,r=xn(n.target);super(t,kv,r)}}mi.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Bv={move:{name:"mousemove"},end:{name:"mouseup"}};var _o;(function(e){e[e.RightClick=2]="RightClick"})(_o||(_o={}));class Hv extends pi{constructor(t){super(t,Bv,xn(t.event.target))}}Hv.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===_o.RightClick?!1:(r==null||r({event:n}),!0)}}];const qs={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class zv extends pi{constructor(t){super(t,qs)}static setup(){return window.addEventListener(qs.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(qs.move.name,t)};function t(){}}}zv.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var In;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(In||(In={}));var qr;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(qr||(qr={}));function Uv(e){let{acceleration:t,activator:n=In.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:i=5,order:a=qr.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:p,delta:d,threshold:h}=e;const g=Gv({delta:d,disabled:!o}),[v,m]=nv(),w=f.useRef({x:0,y:0}),y=f.useRef({x:0,y:0}),x=f.useMemo(()=>{switch(n){case In.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case In.DraggableRect:return s}},[n,s,c]),b=f.useRef(null),S=f.useCallback(()=>{const F=b.current;if(!F)return;const j=w.current.x*y.current.x,_=w.current.y*y.current.y;F.scrollBy(j,_)},[]),M=f.useMemo(()=>a===qr.TreeOrder?[...u].reverse():u,[a,u]);f.useEffect(()=>{if(!o||!u.length||!x){m();return}for(const F of M){if((r==null?void 0:r(F))===!1)continue;const j=u.indexOf(F),_=p[j];if(!_)continue;const{direction:E,speed:A}=Av(F,_,x,t,h);for(const D of["x","y"])g[D][E[D]]||(A[D]=0,E[D]=0);if(A.x>0||A.y>0){m(),b.current=F,v(S,i),w.current=A,y.current=E;return}}w.current={x:0,y:0},y.current={x:0,y:0},m()},[t,S,r,m,o,i,JSON.stringify(x),JSON.stringify(g),v,u,M,p,JSON.stringify(h)])}const Wv={x:{[fe.Backward]:!1,[fe.Forward]:!1},y:{[fe.Backward]:!1,[fe.Forward]:!1}};function Gv(e){let{delta:t,disabled:n}=e;const r=jo(t);return er(s=>{if(n||!r||!s)return Wv;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[fe.Backward]:s.x[fe.Backward]||o.x===-1,[fe.Forward]:s.x[fe.Forward]||o.x===1},y:{[fe.Backward]:s.y[fe.Backward]||o.y===-1,[fe.Forward]:s.y[fe.Forward]||o.y===1}}},[n,t,r])}function qv(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return er(s=>{var o;return t==null?null:(o=r??s)!=null?o:null},[r,t])}function Kv(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...o]},[]),[e,t])}var Bn;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Bn||(Bn={}));var Ao;(function(e){e.Optimized="optimized"})(Ao||(Ao={}));const Sa=new Map;function Xv(e,t){let{dragging:n,dependencies:r,config:s}=t;const[o,i]=f.useState(null),{frequency:a,measure:c,strategy:u}=s,p=f.useRef(e),d=w(),h=Tn(d),g=f.useCallback(function(y){y===void 0&&(y=[]),!h.current&&i(x=>x===null?y:x.concat(y.filter(b=>!x.includes(b))))},[h]),v=f.useRef(null),m=er(y=>{if(d&&!n)return Sa;if(!y||y===Sa||p.current!==e||o!=null){const x=new Map;for(let b of e){if(!b)continue;if(o&&o.length>0&&!o.includes(b.id)&&b.rect.current){x.set(b.id,b.rect.current);continue}const S=b.node.current,M=S?new hi(c(S),S):null;b.rect.current=M,M&&x.set(b.id,M)}return x}return y},[e,o,n,d,c]);return f.useEffect(()=>{p.current=e},[e]),f.useEffect(()=>{d||g()},[n,d]),f.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),f.useEffect(()=>{d||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{g(),v.current=null},a))},[a,d,g,...r]),{droppableRects:m,measureDroppableContainers:g,measuringScheduled:o!=null};function w(){switch(u){case Bn.Always:return!1;case Bn.BeforeDragging:return n;default:return!n}}}function Su(e,t){return er(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Yv(e,t){return Su(e,t)}function Zv(e){let{callback:t,disabled:n}=e;const r=di(t),s=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return f.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function xs(e){let{callback:t,disabled:n}=e;const r=di(t),s=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return f.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Qv(e){return new hi(yn(e),e)}function Ca(e,t,n){t===void 0&&(t=Qv);const[r,s]=f.useState(null);function o(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const i=Zv({callback(c){if(e)for(const u of c){const{type:p,target:d}=u;if(p==="childList"&&d instanceof HTMLElement&&d.contains(e)){o();break}}}}),a=xs({callback:o});return Ze(()=>{o(),e?(a==null||a.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[e]),r}function Jv(e){const t=Su(e);return gu(e,t)}const Ra=[];function e0(e){const t=f.useRef(e),n=er(r=>e?r&&r!==Ra&&e&&t.current&&e.parentNode===t.current.parentNode?r:vs(e):Ra,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function t0(e){const[t,n]=f.useState(null),r=f.useRef(e),s=f.useCallback(o=>{const i=Ws(o.target);i&&n(a=>a?(a.set(i,Fo(i)),new Map(a)):null)},[]);return f.useEffect(()=>{const o=r.current;if(e!==o){i(o);const a=e.map(c=>{const u=Ws(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Fo(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{i(e),i(o)};function i(a){a.forEach(c=>{const u=Ws(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>sn(o,i),Be):wu(e):Be,[e,t])}function Ma(e,t){t===void 0&&(t=[]);const n=f.useRef(null);return f.useEffect(()=>{n.current=null},t),f.useEffect(()=>{const r=e!==Be;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?$n(e,n.current):Be}function n0(e){f.useEffect(()=>{if(!ms)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function r0(e,t){return f.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=i=>{o(i,t)},n},{}),[e,t])}function Cu(e){return f.useMemo(()=>e?jv(e):null,[e])}const Ea=[];function s0(e,t){t===void 0&&(t=yn);const[n]=e,r=Cu(n?Ee(n):null),[s,o]=f.useState(Ea);function i(){o(()=>e.length?e.map(c=>xu(c)?r:new hi(t(c),c)):Ea)}const a=xs({callback:i});return Ze(()=>{a==null||a.disconnect(),i(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),s}function o0(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Jn(t)?t:e}function i0(e){let{measure:t}=e;const[n,r]=f.useState(null),s=f.useCallback(u=>{for(const{target:p}of u)if(Jn(p)){r(d=>{const h=t(p);return d?{...d,width:h.width,height:h.height}:h});break}},[t]),o=xs({callback:s}),i=f.useCallback(u=>{const p=o0(u);o==null||o.disconnect(),p&&(o==null||o.observe(p)),r(p?t(p):null)},[t,o]),[a,c]=Wr(i);return f.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const a0=[{sensor:mi,options:{}},{sensor:gi,options:{}}],l0={current:{}},Dr={draggable:{measure:xa},droppable:{measure:xa,strategy:Bn.WhileDragging,frequency:Ao.Optimized},dragOverlay:{measure:yn}};class On extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const c0={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new On,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Gr},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Dr,measureDroppableContainers:Gr,windowRect:null,measuringScheduled:!1},u0={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Gr,draggableNodes:new Map,over:null,measureDroppableContainers:Gr},ys=f.createContext(u0),Ru=f.createContext(c0);function d0(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new On}}}function f0(e,t){switch(t.type){case de.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case de.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case de.DragEnd:case de.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case de.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new On(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case de.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new On(e.droppable.containers);return i.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case de.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new On(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function h0(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=f.useContext(ys),o=jo(r),i=jo(n==null?void 0:n.id);return f.useEffect(()=>{if(!t&&!r&&o&&i!=null){if(!fi(o)||document.activeElement===o.target)return;const a=s.get(i);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const p of[c.current,u.current]){if(!p)continue;const d=ov(p);if(d){d.focus();break}}})}},[r,t,s,i,o]),null}function g0(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...r}),n):n}function p0(e){return f.useMemo(()=>({draggable:{...Dr.draggable,...e==null?void 0:e.draggable},droppable:{...Dr.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Dr.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function m0(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const o=f.useRef(!1),{x:i,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Ze(()=>{if(!i&&!a||!t){o.current=!1;return}if(o.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const p=n(u),d=gu(p,r);if(i||(d.x=0),a||(d.y=0),o.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=pu(u);h&&h.scrollBy({top:d.y,left:d.x})}},[t,i,a,r,n])}const Mu=f.createContext({...Be,scaleX:1,scaleY:1});var pt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(pt||(pt={}));const v0=f.memo(function(t){var n,r,s,o;let{id:i,accessibility:a,autoScroll:c=!0,children:u,sensors:p=a0,collisionDetection:d=wv,measuring:h,modifiers:g,...v}=t;const m=f.useReducer(f0,void 0,d0),[w,y]=m,[x,b]=dv(),[S,M]=f.useState(pt.Uninitialized),F=S===pt.Initialized,{draggable:{active:j,nodes:_,translate:E},droppable:{containers:A}}=w,D=j!=null?_.get(j):null,N=f.useRef({initial:null,translated:null}),L=f.useMemo(()=>{var me;return j!=null?{id:j,data:(me=D==null?void 0:D.data)!=null?me:l0,rect:N}:null},[j,D]),V=f.useRef(null),[T,k]=f.useState(null),[B,I]=f.useState(null),R=Tn(v,Object.values(v)),H=tr("DndDescribedBy",i),Y=f.useMemo(()=>A.getEnabled(),[A]),re=p0(h),{droppableRects:he,measureDroppableContainers:ue,measuringScheduled:Ce}=Xv(Y,{dragging:F,dependencies:[E.x,E.y],config:re.droppable}),se=qv(_,j),z=f.useMemo(()=>B?No(B):null,[B]),q=$u(),ee=Yv(se,re.draggable.measure);m0({activeNode:j!=null?_.get(j):null,config:q.layoutShiftCompensation,initialRect:ee,measure:re.draggable.measure});const C=Ca(se,re.draggable.measure,ee),O=Ca(se?se.parentElement:null),$=f.useRef({activatorEvent:null,active:null,activeNode:se,collisionRect:null,collisions:null,droppableRects:he,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),G=A.getNodeFor((n=$.current.over)==null?void 0:n.id),Z=i0({measure:re.dragOverlay.measure}),ge=(r=Z.nodeRef.current)!=null?r:se,Pe=F?(s=Z.rect)!=null?s:C:null,at=!!(Z.nodeRef.current&&Z.rect),nr=Jv(at?null:C),lt=Cu(ge?Ee(ge):null),ct=e0(F?G??se:null),rr=s0(ct),sr=g0(g,{transform:{x:E.x-nr.x,y:E.y-nr.y,scaleX:1,scaleY:1},activatorEvent:B,active:L,activeNodeRect:C,containerNodeRect:O,draggingNodeRect:Pe,over:$.current.over,overlayNodeRect:Z.rect,scrollableAncestors:ct,scrollableAncestorRects:rr,windowRect:lt}),xi=z?sn(z,E):null,yi=t0(ct),Du=Ma(yi),Pu=Ma(yi,[C]),Wt=sn(sr,Du),Gt=Pe?Cv(Pe,sr):null,wn=L&&Gt?d({active:L,collisionRect:Gt,droppableRects:he,droppableContainers:Y,pointerCoordinates:xi}):null,wi=hu(wn,"id"),[ut,bi]=f.useState(null),Iu=at?sr:sn(sr,Pu),Ou=bv(Iu,(o=ut==null?void 0:ut.rect)!=null?o:null,C),ws=f.useRef(null),Si=f.useCallback((me,je)=>{let{sensor:Ne,options:dt}=je;if(V.current==null)return;const Ie=_.get(V.current);if(!Ie)return;const Fe=me.nativeEvent,ze=new Ne({active:V.current,activeNode:Ie,event:Fe,options:dt,context:$,onAbort(pe){if(!_.get(pe))return;const{onDragAbort:Ue}=R.current,Je={id:pe};Ue==null||Ue(Je),x({type:"onDragAbort",event:Je})},onPending(pe,ft,Ue,Je){if(!_.get(pe))return;const{onDragPending:Sn}=R.current,ht={id:pe,constraint:ft,initialCoordinates:Ue,offset:Je};Sn==null||Sn(ht),x({type:"onDragPending",event:ht})},onStart(pe){const ft=V.current;if(ft==null)return;const Ue=_.get(ft);if(!Ue)return;const{onDragStart:Je}=R.current,bn={activatorEvent:Fe,active:{id:ft,data:Ue.data,rect:N}};nt.unstable_batchedUpdates(()=>{Je==null||Je(bn),M(pt.Initializing),y({type:de.DragStart,initialCoordinates:pe,active:ft}),x({type:"onDragStart",event:bn}),k(ws.current),I(Fe)})},onMove(pe){y({type:de.DragMove,coordinates:pe})},onEnd:qt(de.DragEnd),onCancel:qt(de.DragCancel)});ws.current=ze;function qt(pe){return async function(){const{active:Ue,collisions:Je,over:bn,scrollAdjustedTranslate:Sn}=$.current;let ht=null;if(Ue&&Sn){const{cancelDrop:Cn}=R.current;ht={activatorEvent:Fe,active:Ue,collisions:Je,delta:Sn,over:bn},pe===de.DragEnd&&typeof Cn=="function"&&await Promise.resolve(Cn(ht))&&(pe=de.DragCancel)}V.current=null,nt.unstable_batchedUpdates(()=>{y({type:pe}),M(pt.Uninitialized),bi(null),k(null),I(null),ws.current=null;const Cn=pe===de.DragEnd?"onDragEnd":"onDragCancel";if(ht){const bs=R.current[Cn];bs==null||bs(ht),x({type:Cn,event:ht})}})}}},[_]),Lu=f.useCallback((me,je)=>(Ne,dt)=>{const Ie=Ne.nativeEvent,Fe=_.get(dt);if(V.current!==null||!Fe||Ie.dndKit||Ie.defaultPrevented)return;const ze={active:Fe};me(Ne,je.options,ze)===!0&&(Ie.dndKit={capturedBy:je.sensor},V.current=dt,Si(Ne,je))},[_,Si]),Ci=Kv(p,Lu);n0(p),Ze(()=>{C&&S===pt.Initializing&&M(pt.Initialized)},[C,S]),f.useEffect(()=>{const{onDragMove:me}=R.current,{active:je,activatorEvent:Ne,collisions:dt,over:Ie}=$.current;if(!je||!Ne)return;const Fe={active:je,activatorEvent:Ne,collisions:dt,delta:{x:Wt.x,y:Wt.y},over:Ie};nt.unstable_batchedUpdates(()=>{me==null||me(Fe),x({type:"onDragMove",event:Fe})})},[Wt.x,Wt.y]),f.useEffect(()=>{const{active:me,activatorEvent:je,collisions:Ne,droppableContainers:dt,scrollAdjustedTranslate:Ie}=$.current;if(!me||V.current==null||!je||!Ie)return;const{onDragOver:Fe}=R.current,ze=dt.get(wi),qt=ze&&ze.rect.current?{id:ze.id,rect:ze.rect.current,data:ze.data,disabled:ze.disabled}:null,pe={active:me,activatorEvent:je,collisions:Ne,delta:{x:Ie.x,y:Ie.y},over:qt};nt.unstable_batchedUpdates(()=>{bi(qt),Fe==null||Fe(pe),x({type:"onDragOver",event:pe})})},[wi]),Ze(()=>{$.current={activatorEvent:B,active:L,activeNode:se,collisionRect:Gt,collisions:wn,droppableRects:he,draggableNodes:_,draggingNode:ge,draggingNodeRect:Pe,droppableContainers:A,over:ut,scrollableAncestors:ct,scrollAdjustedTranslate:Wt},N.current={initial:Pe,translated:Gt}},[L,se,wn,Gt,_,ge,Pe,he,A,ut,ct,Wt]),Uv({...q,delta:E,draggingRect:Gt,pointerCoordinates:xi,scrollableAncestors:ct,scrollableAncestorRects:rr});const Vu=f.useMemo(()=>({active:L,activeNode:se,activeNodeRect:C,activatorEvent:B,collisions:wn,containerNodeRect:O,dragOverlay:Z,draggableNodes:_,droppableContainers:A,droppableRects:he,over:ut,measureDroppableContainers:ue,scrollableAncestors:ct,scrollableAncestorRects:rr,measuringConfiguration:re,measuringScheduled:Ce,windowRect:lt}),[L,se,C,B,wn,O,Z,_,A,he,ut,ue,ct,rr,re,Ce,lt]),Tu=f.useMemo(()=>({activatorEvent:B,activators:Ci,active:L,activeNodeRect:C,ariaDescribedById:{draggable:H},dispatch:y,draggableNodes:_,over:ut,measureDroppableContainers:ue}),[B,Ci,L,C,y,H,_,ut,ue]);return te.createElement(uu.Provider,{value:b},te.createElement(ys.Provider,{value:Tu},te.createElement(Ru.Provider,{value:Vu},te.createElement(Mu.Provider,{value:Ou},u)),te.createElement(h0,{disabled:(a==null?void 0:a.restoreFocus)===!1})),te.createElement(gv,{...a,hiddenTextDescribedById:H}));function $u(){const me=(T==null?void 0:T.autoScrollEnabled)===!1,je=typeof c=="object"?c.enabled===!1:c===!1,Ne=F&&!me&&!je;return typeof c=="object"?{...c,enabled:Ne}:{enabled:Ne}}}),x0=f.createContext(null),ja="button",y0="Draggable";function w0(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const o=tr(y0),{activators:i,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:p,draggableNodes:d,over:h}=f.useContext(ys),{role:g=ja,roleDescription:v="draggable",tabIndex:m=0}=s??{},w=(c==null?void 0:c.id)===t,y=f.useContext(w?Mu:x0),[x,b]=Wr(),[S,M]=Wr(),F=r0(i,t),j=Tn(n);Ze(()=>(d.set(t,{id:t,key:o,node:x,activatorNode:S,data:j}),()=>{const E=d.get(t);E&&E.key===o&&d.delete(t)}),[d,t]);const _=f.useMemo(()=>({role:g,tabIndex:m,"aria-disabled":r,"aria-pressed":w&&g===ja?!0:void 0,"aria-roledescription":v,"aria-describedby":p.draggable}),[r,g,m,w,v,p.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:_,isDragging:w,listeners:r?void 0:F,node:x,over:h,setNodeRef:b,setActivatorNodeRef:M,transform:y}}function b0(){return f.useContext(Ru)}const S0="Droppable",C0={timeout:25};function R0(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const o=tr(S0),{active:i,dispatch:a,over:c,measureDroppableContainers:u}=f.useContext(ys),p=f.useRef({disabled:n}),d=f.useRef(!1),h=f.useRef(null),g=f.useRef(null),{disabled:v,updateMeasurementsFor:m,timeout:w}={...C0,...s},y=Tn(m??r),x=f.useCallback(()=>{if(!d.current){d.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),g.current=null},w)},[w]),b=xs({callback:x,disabled:v||!i}),S=f.useCallback((_,E)=>{b&&(E&&(b.unobserve(E),d.current=!1),_&&b.observe(_))},[b]),[M,F]=Wr(S),j=Tn(t);return f.useEffect(()=>{!b||!M.current||(b.disconnect(),d.current=!1,b.observe(M.current))},[M,b]),f.useEffect(()=>(a({type:de.RegisterDroppable,element:{id:r,key:o,disabled:n,node:M,rect:h,data:j}}),()=>a({type:de.UnregisterDroppable,key:o,id:r})),[r]),f.useEffect(()=>{n!==p.current.disabled&&(a({type:de.SetDroppableDisabled,id:r,key:o,disabled:n}),p.current.disabled=n)},[r,o,n,a]),{active:i,rect:h,isOver:(c==null?void 0:c.id)===r,node:M,over:c,setNodeRef:F}}function vi(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function M0(e,t){return e.reduce((n,r,s)=>{const o=t.get(r);return o&&(n[s]=o),n},Array(e.length))}function Rr(e){return e!==null&&e>=0}function E0(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function j0(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Mr={scaleX:1,scaleY:1},N0=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:s,overIndex:o,index:i}=e;const a=(t=n[s])!=null?t:r;if(!a)return null;const c=F0(n,i,s);if(i===s){const u=n[o];return u?{x:s<o?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...Mr}:null}return i>s&&i<=o?{x:-a.width-c,y:0,...Mr}:i<s&&i>=o?{x:a.width+c,y:0,...Mr}:{x:0,y:0,...Mr}};function F0(e,t,n){const r=e[t],s=e[t-1],o=e[t+1];return!r||!s&&!o?0:n<t?s?r.left-(s.left+s.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(s.left+s.width)}const Eu=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const o=vi(t,r,n),i=t[s],a=o[s];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},ju="Sortable",Nu=te.createContext({activeIndex:-1,containerId:ju,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Eu,disabled:{draggable:!1,droppable:!1}});function _0(e){let{children:t,id:n,items:r,strategy:s=Eu,disabled:o=!1}=e;const{active:i,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:p}=b0(),d=tr(ju,n),h=a.rect!==null,g=f.useMemo(()=>r.map(F=>typeof F=="object"&&"id"in F?F.id:F),[r]),v=i!=null,m=i?g.indexOf(i.id):-1,w=u?g.indexOf(u.id):-1,y=f.useRef(g),x=!E0(g,y.current),b=w!==-1&&m===-1||x,S=j0(o);Ze(()=>{x&&v&&p(g)},[x,g,v,p]),f.useEffect(()=>{y.current=g},[g]);const M=f.useMemo(()=>({activeIndex:m,containerId:d,disabled:S,disableTransforms:b,items:g,overIndex:w,useDragOverlay:h,sortedRects:M0(g,c),strategy:s}),[m,d,S.draggable,S.droppable,b,g,w,c,h,s]);return te.createElement(Nu.Provider,{value:M},t)}const A0=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return vi(n,r,s).indexOf(t)},D0=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:o,newIndex:i,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==o&&s===i?!1:n?!0:i!==s&&t===c},P0={duration:200,easing:"ease"},Fu="transform",I0=kn.Transition.toString({property:Fu,duration:0,easing:"linear"}),O0={roleDescription:"sortable"};function L0(e){let{disabled:t,index:n,node:r,rect:s}=e;const[o,i]=f.useState(null),a=f.useRef(n);return Ze(()=>{if(!t&&n!==a.current&&r.current){const c=s.current;if(c){const u=yn(r.current,{ignoreTransform:!0}),p={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(p.x||p.y)&&i(p)}}n!==a.current&&(a.current=n)},[t,n,r,s]),f.useEffect(()=>{o&&i(null)},[o]),o}function V0(e){let{animateLayoutChanges:t=D0,attributes:n,disabled:r,data:s,getNewIndex:o=A0,id:i,strategy:a,resizeObserverConfig:c,transition:u=P0}=e;const{items:p,containerId:d,activeIndex:h,disabled:g,disableTransforms:v,sortedRects:m,overIndex:w,useDragOverlay:y,strategy:x}=f.useContext(Nu),b=T0(r,g),S=p.indexOf(i),M=f.useMemo(()=>({sortable:{containerId:d,index:S,items:p},...s}),[d,s,S,p]),F=f.useMemo(()=>p.slice(p.indexOf(i)),[p,i]),{rect:j,node:_,isOver:E,setNodeRef:A}=R0({id:i,data:M,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...c}}),{active:D,activatorEvent:N,activeNodeRect:L,attributes:V,setNodeRef:T,listeners:k,isDragging:B,over:I,setActivatorNodeRef:R,transform:H}=w0({id:i,data:M,attributes:{...O0,...n},disabled:b.draggable}),Y=tv(A,T),re=!!D,he=re&&!v&&Rr(h)&&Rr(w),ue=!y&&B,Ce=ue&&he?H:null,z=he?Ce??(a??x)({rects:m,activeNodeRect:L,activeIndex:h,overIndex:w,index:S}):null,q=Rr(h)&&Rr(w)?o({id:i,items:p,activeIndex:h,overIndex:w}):S,ee=D==null?void 0:D.id,C=f.useRef({activeId:ee,items:p,newIndex:q,containerId:d}),O=p!==C.current.items,$=t({active:D,containerId:d,isDragging:B,isSorting:re,id:i,index:S,items:p,newIndex:C.current.newIndex,previousItems:C.current.items,previousContainerId:C.current.containerId,transition:u,wasDragging:C.current.activeId!=null}),G=L0({disabled:!$,index:S,node:_,rect:j});return f.useEffect(()=>{re&&C.current.newIndex!==q&&(C.current.newIndex=q),d!==C.current.containerId&&(C.current.containerId=d),p!==C.current.items&&(C.current.items=p)},[re,q,d,p]),f.useEffect(()=>{if(ee===C.current.activeId)return;if(ee!=null&&C.current.activeId==null){C.current.activeId=ee;return}const ge=setTimeout(()=>{C.current.activeId=ee},50);return()=>clearTimeout(ge)},[ee]),{active:D,activeIndex:h,attributes:V,data:M,rect:j,index:S,newIndex:q,items:p,isOver:E,isSorting:re,isDragging:B,listeners:k,node:_,overIndex:w,over:I,setNodeRef:Y,setActivatorNodeRef:R,setDroppableNodeRef:A,setDraggableNodeRef:T,transform:G??z,transition:Z()};function Z(){if(G||O&&C.current.newIndex===S)return I0;if(!(ue&&!fi(N)||!u)&&(re||$))return kn.Transition.toString({...u,property:Fu})}}function T0(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function Kr(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const $0=[X.Down,X.Right,X.Up,X.Left],k0=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:o,over:i,scrollableAncestors:a}}=t;if($0.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];o.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=s.get(d.id);if(h)switch(e.code){case X.Down:r.top<h.top&&c.push(d);break;case X.Up:r.top>h.top&&c.push(d);break;case X.Left:r.left>h.left&&c.push(d);break;case X.Right:r.left<h.left&&c.push(d);break}});const u=xv({active:n,collisionRect:r,droppableRects:s,droppableContainers:c,pointerCoordinates:null});let p=hu(u,"id");if(p===(i==null?void 0:i.id)&&u.length>1&&(p=u[1].id),p!=null){const d=o.get(n.id),h=o.get(p),g=h?s.get(h.id):null,v=h==null?void 0:h.node.current;if(v&&g&&d&&h){const w=vs(v).some((F,j)=>a[j]!==F),y=_u(d,h),x=B0(d,h),b=w||!y?{x:0,y:0}:{x:x?r.width-g.width:0,y:x?r.height-g.height:0},S={x:g.left,y:g.top};return b.x&&b.y?S:$n(S,b)}}}};function _u(e,t){return!Kr(e)||!Kr(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function B0(e,t){return!Kr(e)||!Kr(t)||!_u(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const H0=({isOpen:e,onOpenChange:t,productId:n})=>{const r=_t(),{get:s,post:o,getReviewFields:i}=At(),[a,c]=f.useState(n||0),{data:u,isLoading:p}=Le({queryKey:["review-fields"],queryFn:i,enabled:e}),d=u!=null&&u.fields?Object.values(u.fields):[],h=os({defaultValues:{},onSubmit:async({value:y})=>{console.log("Form submitted with values:",y),w(y)}}),g={id:"product_id",type:"product_select",title:"Product",placeholder:"Select a product",description:"Select the product for this review",value:a,required:!0},v={id:"verified",type:"checkbox",title:"Verified Purchase",value:!1},m=be({mutationFn:y=>o("/reviews",y),onSuccess:y=>{console.log("New review created:",y),r.invalidateQueries({queryKey:["reviews"],exact:!1}),h.reset(),t(!1)},onError:y=>{console.error("Failed to create review:",y)}});f.useEffect(()=>{e&&c(n||0)},[e,n]);const w=f.useCallback(y=>{try{const x={};Object.entries(y).forEach(([b,S])=>{switch(b){case"product_id":x.product_id=S;break;case"author_name":x.author_name=S;break;case"author_email":x.author_email=S;break;case"author_url":x.author_url=S||"";break;case"date":x.date=S;break;case"content":x.content=S;break;case"status":x.status=S;break;case"rating":x.rating=S;break;case"verified":x.verified=S;break;default:x.meta||(x.meta={}),x.meta[b]=S}}),console.log("BEFORE SUBMIT",x),m.mutate(x)}catch(x){console.error("Form submission error:",x)}},[m,n,a]);return l.jsx(Et,{open:e,onOpenChange:t,children:l.jsxs(Ct,{size:"lg",className:"max-w-2xl",children:[l.jsx(Rt,{children:l.jsxs(Mt,{className:"flex items-center space-x-2",children:[l.jsx(ao,{className:"w-5 h-5"}),l.jsx("span",{children:"Add New Review"})]})}),p?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading form..."})]}):l.jsxs("form",{onSubmit:y=>{y.preventDefault(),y.stopPropagation(),h.handleSubmit()},className:"space-y-6",children:[!n&&l.jsx(rt,{field:g,formApi:h,validationRules:{required:g.required,...g.validation}}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.filter(y=>["author_name","author_email"].includes(y.id)).map(y=>l.jsx("div",{children:l.jsx(rt,{field:y,formApi:h,validationRules:{required:y.required,...y.validation}},y.id)},y.id))}),d.filter(y=>!["author_name","author_email"].includes(y.id)).map(y=>l.jsx("div",{children:l.jsx(rt,{field:y,formApi:h,validationRules:{required:y.required,...y.validation}},y.id)},y.id)),l.jsx(rt,{field:v,formApi:h,validationRules:{required:v.required,...v.validation}})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[l.jsx(J,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:m.isPending,children:"Cancel"}),l.jsx(h.Subscribe,{selector:y=>[y.canSubmit,y.isSubmitting],children:([y,x])=>l.jsx(J,{type:"submit",variant:"primary",disabled:!y||x||m.isPending,className:"flex items-center space-x-2",children:m.isPending?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Creating..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(ao,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Review"})]})})})]})]})]})})},It=lm(),z0=({id:e,children:t,className:n})=>{const{attributes:r,listeners:s,setNodeRef:o,transform:i,transition:a,isDragging:c}=V0({id:e}),u={transform:kn.Transform.toString(i),transition:a,cursor:c?"grabbing":"grab",opacity:c?.5:1};return l.jsx("div",{ref:o,style:u,...r,...s,className:`spider-boxes-table-header-cell sortable-header ${n||""} ${c?"dragging":""}`,title:"Drag to reorder columns",children:l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:t}),l.jsxs("svg",{className:"w-3 h-3 text-gray-400",fill:"currentColor",viewBox:"0 0 6 10",children:[l.jsx("circle",{cx:"1",cy:"2",r:"1"}),l.jsx("circle",{cx:"1",cy:"5",r:"1"}),l.jsx("circle",{cx:"1",cy:"8",r:"1"}),l.jsx("circle",{cx:"5",cy:"2",r:"1"}),l.jsx("circle",{cx:"5",cy:"5",r:"1"}),l.jsx("circle",{cx:"5",cy:"8",r:"1"})]})]})})},U0=({productId:e})=>{var ee;const t=_t(),{get:n,patch:r,del:s,getReviewFields:o}=At(),[i,a]=f.useState([]),[c,u]=f.useState([]),[p,d]=f.useState(""),[h,g]=f.useState(["id","product_name","author_name","rating","status","date","actions"]),[v,m]=f.useState(null),[w,y]=f.useState(!1),[x,b]=f.useState(!1),[S,M]=f.useState({pageIndex:0,pageSize:20}),[F,j]=f.useState("");f.useEffect(()=>{M(C=>({...C,pageIndex:0}))},[p,c,e]),f.useEffect(()=>{const C=setTimeout(()=>{j(p)},500);return()=>clearTimeout(C)},[p]);const _=pv(pa(mi),pa(gi,{coordinateGetter:k0})),{data:E,isLoading:A}=Le({queryKey:["review-fields"],queryFn:o,staleTime:10*60*1e3}),D=f.useMemo(()=>{if(!(E!=null&&E.fields)||typeof E.fields!="object")return[];try{const C=Object.values(E.fields);return Array.isArray(C)?C.filter(O=>O&&typeof O=="object"):[]}catch(C){return console.error("Error processing review fields:",C),[]}},[E==null?void 0:E.fields]),N=os({defaultValues:{},onSubmit:async({value:C})=>{console.log("Form submitted with values:",C),he(C)}}),L=f.useCallback((C,O)=>{if(!Array.isArray(O)||O.length===0)return{};const $={};return O.forEach(G=>{var ge;if(!G||!G.id)return;let Z;switch(G.id){case"author_name":Z=C.author_name;break;case"author_email":Z=C.author_email;break;case"date":Z=C.date;break;case"content":Z=C.content;break;case"status":Z=C.status;break;case"rating":Z=C.rating;break;default:G.meta_field?Z=((ge=C.meta)==null?void 0:ge[G.id])||G.value:Z=G.value}$[G.id]=Z}),$},[]);f.useEffect(()=>{if(v&&w&&D.length>0){const C=L(v,D);N.reset(C)}},[v,w,D,L,N]);const V=f.useCallback(()=>{y(!1),m(null)},[]),{data:T,isLoading:k,error:B,isFetching:I}=Le({queryKey:["reviews",e,S.pageIndex+1,S.pageSize,F,c],queryFn:()=>{const C=new URLSearchParams;C.set("page",String(S.pageIndex+1)),C.set("per_page",String(S.pageSize)),e&&C.set("product_id",String(e)),F&&C.set("search",F);const O=c.find($=>$.id==="status");if(O!=null&&O.value&&C.set("status",String(O.value)),i.length>0){const $=i[0];C.set("orderby",$.id==="date"?"comment_date":$.id),C.set("order",$.desc?"DESC":"ASC")}return n(`/reviews?${C.toString()}`)},staleTime:5*60*1e3});console.log("Reviews data:",T);const R=(T==null?void 0:T.reviews)||[],H=(T==null?void 0:T.total)||0,Y=(T==null?void 0:T.pages)||1,re=be({mutationFn:({id:C,data:O})=>r(`/reviews/${C}`,O),onSuccess:()=>{t.invalidateQueries({queryKey:["reviews"]}),y(!1),m(null)},onError:C=>{console.error("Failed to update review:",C)}}),he=f.useCallback(C=>{if(v)try{const O={};Object.entries(C).forEach(([$,G])=>{switch($){case"author_name":O.author_name=G;break;case"author_email":O.author_email=G;break;case"date":O.date=G;break;case"content":O.content=G;break;case"status":O.status=G;break;case"rating":O.rating=G;break;default:O.meta||(O.meta={}),O.meta[$]=G}}),re.mutate({id:v.id,data:O})}catch(O){console.error("Error saving changes:",O)}},[v,re]),ue=be({mutationFn:C=>s(`/reviews/${C}`),onSuccess:()=>{t.invalidateQueries({queryKey:["reviews"]})}}),Ce=f.useMemo(()=>[It.accessor("id",{header:"ID",cell:C=>`#${C.getValue()}`,size:80}),It.accessor("product_name",{header:"Product",cell:C=>C.getValue(),filterFn:"includesString"}),It.accessor("author_name",{header:"Reviewer",cell:C=>l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:C.getValue()}),l.jsx("div",{className:"text-sm text-gray-500",children:C.row.original.author_email})]}),filterFn:"includesString"}),It.accessor("rating",{header:"Rating",cell:C=>l.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(O=>l.jsx("svg",{className:`w-4 h-4 ${O<=C.getValue()?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},O)),l.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",C.getValue(),")"]})]}),size:150}),It.accessor("status",{header:"Status",cell:C=>{const O=C.getValue(),$={approved:"bg-green-100 text-green-800",hold:"bg-yellow-100 text-yellow-800",spam:"bg-red-100 text-red-800",trash:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${$[O]}`,children:O.charAt(0).toUpperCase()+O.slice(1)})},filterFn:"equals"}),It.accessor("date",{header:"Date",cell:C=>new Date(C.getValue()).toLocaleDateString(),size:120}),It.display({id:"actions",header:"Actions",cell:C=>l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(J,{variant:"outline",size:"sm",onClick:()=>{m(C.row.original),y(!0)},children:"Edit"}),l.jsx(J,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this review?")&&ue.mutate(C.row.original.id)},children:"Delete"})]}),size:120})],[ue]),se=ev({data:R,columns:Ce,state:{sorting:i,columnFilters:c,globalFilter:p,columnOrder:h,pagination:S},onSortingChange:a,onColumnFiltersChange:u,onGlobalFilterChange:d,onPaginationChange:M,getCoreRowModel:Km(),getSortedRowModel:Jm(),getFilteredRowModel:Qm(),manualPagination:!0,manualSorting:!0,manualFiltering:!0,pageCount:Y}),z=C=>{const{active:O,over:$}=C;O.id!==($==null?void 0:$.id)&&g(G=>{const Z=G.indexOf(O.id),ge=G.indexOf($==null?void 0:$.id);return vi(G,Z,ge)})},q=(C,O)=>{re.mutate({id:C,data:{status:O}})};return k?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):B?l.jsxs("div",{className:"text-red-600 p-4",children:["Error loading reviews:",B instanceof Error?B.message:"Unknown error"]}):l.jsxs("div",{className:"reviews-app",children:[l.jsxs("div",{className:"reviews-header",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Product Reviews",I&&l.jsxs("span",{className:"ml-2 inline-flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),l.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"Loading..."})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs(J,{onClick:()=>b(!0),className:"flex items-center space-x-2",children:[l.jsx(ao,{className:"w-4 h-4"}),l.jsx("span",{children:"Add New Review"})]})}),l.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",placeholder:"Search reviews...",value:p,onChange:C=>d(C.target.value),className:"search-input",disabled:I})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{value:((ee=c.find(C=>C.id==="status"))==null?void 0:ee.value)||"",onChange:C=>{const O=C.target.value;u($=>O?[...$.filter(G=>G.id!=="status"),{id:"status",value:O}]:$.filter(G=>G.id!=="status"))},className:"filter-select",disabled:I,children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"approve",children:"Approved"}),l.jsx("option",{value:"hold",children:"Hold"}),l.jsx("option",{value:"spam",children:"Spam"}),l.jsx("option",{value:"trash",children:"Trash"})]}),l.jsxs("select",{value:S.pageSize,onChange:C=>{M(O=>({...O,pageSize:Number(C.target.value),pageIndex:0}))},className:"filter-select",disabled:I,children:[l.jsx("option",{value:10,children:"10 per page"}),l.jsx("option",{value:20,children:"20 per page"}),l.jsx("option",{value:50,children:"50 per page"}),l.jsx("option",{value:100,children:"100 per page"})]})]})]})]}),R.length===0?l.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:l.jsx("p",{className:"text-gray-500 mb-4",children:"No reviews found."})}):l.jsx(v0,{sensors:_,collisionDetection:vv,onDragEnd:z,children:l.jsxs("div",{className:"spider-boxes-table",children:[l.jsx(_0,{items:h,strategy:N0,children:l.jsx("div",{className:"spider-boxes-table-header",children:h.map(C=>l.jsxs(z0,{id:C,children:[C==="id"&&"ID",C==="product_name"&&"Product",C==="author_name"&&"Reviewer",C==="rating"&&"Rating",C==="status"&&"Status",C==="date"&&"Date",C==="actions"&&"Actions"]},C))})}),l.jsx("div",{className:"divide-y divide-gray-200",children:l.jsx(Qr,{children:se.getRowModel().rows.map(C=>l.jsx(St.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"spider-boxes-table-row",children:h.map(O=>l.jsxs("div",{className:"spider-boxes-table-cell",children:[O==="id"&&l.jsxs("span",{className:"font-mono text-xs bg-gray-50 px-2 py-1 rounded",children:["#",C.original.id]}),O==="product_name"&&l.jsx("span",{className:"font-medium",children:C.original.product_name}),O==="author_name"&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:C.original.author_name}),l.jsx("div",{className:"text-sm text-gray-500",children:C.original.author_email})]}),O==="rating"&&l.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map($=>l.jsx("svg",{className:`w-4 h-4 ${$<=C.original.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},$)),l.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",C.original.rating,")"]})]}),O==="status"&&l.jsx("span",{className:`spider-boxes-badge ${C.original.status==="approved"?"spider-boxes-badge-success":C.original.status==="hold"?"spider-boxes-badge-warning":C.original.status==="spam"?"spider-boxes-badge-danger":"spider-boxes-badge-secondary"}`,children:C.original.status.charAt(0).toUpperCase()+C.original.status.slice(1)}),O==="date"&&l.jsx("span",{className:"text-gray-500",children:new Date(C.original.date).toLocaleDateString()}),O==="actions"&&l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{m(C.original),y(!0)},className:"text-primary-600 hover:text-primary-900",title:"Edit review",children:l.jsx(gh,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this review?")&&ue.mutate(C.original.id)},className:"text-red-600 hover:text-red-900",title:"Delete review",children:l.jsx(bh,{className:"w-4 h-4"})}),C.original.status==="hold"&&l.jsx("button",{onClick:()=>q(C.original.id,"approved"),className:"text-green-600 hover:text-green-900",title:"Approve review",children:l.jsx($o,{className:"w-4 h-4"})}),C.original.status==="approved"&&l.jsx("button",{onClick:()=>q(C.original.id,"hold"),className:"text-yellow-600 hover:text-yellow-900",title:"Mark as hold",children:l.jsx(Nl,{className:"w-4 h-4"})})]})]},O))},C.id))})})]})}),l.jsxs("div",{className:"flex items-center justify-between py-4",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing",H===0?0:S.pageIndex*S.pageSize+1,"to",Math.min((S.pageIndex+1)*S.pageSize,H),"of ",H," results"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(J,{variant:"outline",size:"sm",onClick:()=>se.previousPage(),disabled:!se.getCanPreviousPage()||I,children:[l.jsx(oh,{className:"w-4 h-4"}),"Previous"]}),l.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",S.pageIndex+1," of ",Y]}),l.jsxs(J,{variant:"outline",size:"sm",onClick:()=>se.nextPage(),disabled:!se.getCanNextPage()||I,children:["Next",l.jsx(ah,{className:"w-4 h-4"})]})]})]}),l.jsx(Et,{open:w,onOpenChange:y,children:l.jsxs(Ct,{size:"lg",children:[l.jsx(Rt,{children:l.jsx(Mt,{children:"Edit Review"})}),l.jsx("div",{children:v&&D.length>0?l.jsx("div",{className:"space-y-4",children:l.jsxs("form",{onSubmit:C=>{C.preventDefault(),C.stopPropagation(),N.handleSubmit()},children:[D.map(C=>l.jsx(rt,{field:C,formApi:N,validationRules:{required:C.required,...C.validation}},C.id)),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx(J,{variant:"outline",onClick:V,children:"Cancel"}),l.jsx(N.Subscribe,{selector:C=>[C.canSubmit,C.isSubmitting],children:([C,O])=>l.jsx(J,{type:"submit",variant:"primary",disabled:!C||O||re.isPending,children:re.isPending?"Saving...":"Save Changes"})})]})]})}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500",children:D.length===0?"Loading fields...":"No review selected or fields not loaded."})})})]})}),l.jsx(H0,{isOpen:x,onOpenChange:b,productId:e})]})};const Au=new Wu({defaultOptions:{queries:{retry:1,staleTime:5*60*1e3}}}),Na=document.getElementById("spider-boxes-main-app");Na&&Oa.createRoot(Na).render(l.jsx(te.StrictMode,{children:l.jsx(La,{client:Au,children:l.jsx(am,{})})}));const Fa=document.getElementById("spider-boxes-reviews-app");Fa&&Oa.createRoot(Fa).render(l.jsx(te.StrictMode,{children:l.jsx(La,{client:Au,children:l.jsx(U0,{})})}));
//# sourceMappingURL=admin.js.map
